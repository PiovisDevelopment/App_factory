contracts\__init__.py:10:1: I001 [*] Import block is un-sorted or un-formatted
   |
 9 |   # D001 - Base contract and types
10 | / from .base import (
11 | |     PluginBase,
12 | |     PluginStatus,
13 | |     PluginManifest,
14 | |     HealthStatus,
15 | |     PluginFactory,
16 | | )
17 | |
18 | | # D002 - TTS contract and types
19 | | from .tts_contract import (
20 | |     TTSContract,
21 | |     Voice,
22 | |     SynthesisResult,
23 | |     SynthesisOptions,
24 | |     AudioFormat,
25 | | )
26 | |
27 | | # D003 - STT contract and types
28 | | from .stt_contract import (
29 | |     STTContract,
30 | |     TranscriptionResult,
31 | |     TranscriptionSegment,
32 | |     TranscriptionOptions,
33 | |     TranscriptionStatus,
34 | |     StreamingConfig,
35 | | )
36 | |
37 | | # D004 - LLM contract and types
38 | | from .llm_contract import (
39 | |     LLMContract,
40 | |     Message,
41 | |     MessageRole,
42 | |     Model,
43 | |     CompletionResult,
44 | |     CompletionOptions,
45 | |     StreamChunk,
46 | |     TokenUsage,
47 | |     FinishReason,
48 | | )
   | |_^ I001
49 |
50 |   __all__ = [
   |
   = help: Organize imports

contracts\base.py:13:1: I001 [*] Import block is un-sorted or un-formatted
   |
11 |   """
12 |
13 | / from abc import ABC, abstractmethod
14 | | from dataclasses import dataclass, field
15 | | from enum import Enum
16 | | from typing import Any, Dict, List, Optional
17 | | import json
   | |___________^ I001
   |
   = help: Organize imports

contracts\base.py:16:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
14 | from dataclasses import dataclass, field
15 | from enum import Enum
16 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
17 | import json
   |

contracts\base.py:16:1: UP035 `typing.List` is deprecated, use `list` instead
   |
14 | from dataclasses import dataclass, field
15 | from enum import Enum
16 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
17 | import json
   |

contracts\base.py:17:8: F401 [*] `json` imported but unused
   |
15 | from enum import Enum
16 | from typing import Any, Dict, List, Optional
17 | import json
   |        ^^^^ F401
   |
   = help: Remove unused import: `json`

contracts\base.py:38:1: W293 Blank line contains whitespace
   |
36 |     """
37 |     Plugin metadata structure matching config/manifest_schema.json (D008).
38 |     
   | ^^^^ W293
39 |     Attributes:
40 |         name: Unique plugin identifier (must match folder name)
   |
   = help: Remove whitespace from blank line

contracts\base.py:57:19: UP006 [*] Use `list` instead of `List` for type annotation
   |
55 |     description: str = ""
56 |     author: str = ""
57 |     dependencies: List[str] = field(default_factory=list)
   |                   ^^^^ UP006
58 |     config_schema: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Replace with `list`

contracts\base.py:58:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
56 |     author: str = ""
57 |     dependencies: List[str] = field(default_factory=list)
58 |     config_schema: Dict[str, Any] = field(default_factory=dict)
   |                    ^^^^ UP006
59 |     
60 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

contracts\base.py:59:1: W293 [*] Blank line contains whitespace
   |
57 |     dependencies: List[str] = field(default_factory=list)
58 |     config_schema: Dict[str, Any] = field(default_factory=dict)
59 |     
   | ^^^^ W293
60 |     def to_dict(self) -> Dict[str, Any]:
61 |         """Serialize manifest to dictionary for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

contracts\base.py:60:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
58 |     config_schema: Dict[str, Any] = field(default_factory=dict)
59 |     
60 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
61 |         """Serialize manifest to dictionary for JSON-RPC responses."""
62 |         return {
   |
   = help: Replace with `dict`

contracts\base.py:73:1: W293 [*] Blank line contains whitespace
   |
71 |             "config_schema": self.config_schema,
72 |         }
73 |     
   | ^^^^ W293
74 |     @classmethod
75 |     def from_dict(cls, data: Dict[str, Any]) -> "PluginManifest":
   |
   = help: Remove whitespace from blank line

contracts\base.py:75:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
74 |     @classmethod
75 |     def from_dict(cls, data: Dict[str, Any]) -> "PluginManifest":
   |                              ^^^^ UP006
76 |         """Deserialize manifest from dictionary (e.g., from manifest.json)."""
77 |         return cls(
   |
   = help: Replace with `dict`

contracts\base.py:94:1: W293 Blank line contains whitespace
   |
92 |     """
93 |     Health check response structure.
94 |     
   | ^^^^ W293
95 |     Attributes:
96 |         status: Current plugin status from PluginStatus enum
   |
   = help: Remove whitespace from blank line

contracts\base.py:104:14: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
102 |     status: PluginStatus
103 |     message: str = ""
104 |     details: Dict[str, Any] = field(default_factory=dict)
    |              ^^^^ UP006
105 |     latency_ms: Optional[float] = None
106 |     memory_mb: Optional[float] = None
    |
    = help: Replace with `dict`

contracts\base.py:105:17: UP007 [*] Use `X | Y` for type annotations
    |
103 |     message: str = ""
104 |     details: Dict[str, Any] = field(default_factory=dict)
105 |     latency_ms: Optional[float] = None
    |                 ^^^^^^^^^^^^^^^ UP007
106 |     memory_mb: Optional[float] = None
    |
    = help: Convert to `X | Y`

contracts\base.py:106:16: UP007 [*] Use `X | Y` for type annotations
    |
104 |     details: Dict[str, Any] = field(default_factory=dict)
105 |     latency_ms: Optional[float] = None
106 |     memory_mb: Optional[float] = None
    |                ^^^^^^^^^^^^^^^ UP007
107 |     
108 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Convert to `X | Y`

contracts\base.py:107:1: W293 [*] Blank line contains whitespace
    |
105 |     latency_ms: Optional[float] = None
106 |     memory_mb: Optional[float] = None
107 |     
    | ^^^^ W293
108 |     def to_dict(self) -> Dict[str, Any]:
109 |         """Serialize health status for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

contracts\base.py:108:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
106 |     memory_mb: Optional[float] = None
107 |     
108 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
109 |         """Serialize health status for JSON-RPC responses."""
110 |         result = {
    |
    = help: Replace with `dict`

contracts\base.py:125:1: W293 Blank line contains whitespace
    |
123 |     """
124 |     Abstract base class for all plugins.
125 |     
    | ^^^^ W293
126 |     All plugin contracts (TTS, STT, LLM, MCP, etc.) MUST extend this class.
127 |     Provides the core lifecycle methods required by the Plugin Host.
    |
    = help: Remove whitespace from blank line

contracts\base.py:128:1: W293 Blank line contains whitespace
    |
126 |     All plugin contracts (TTS, STT, LLM, MCP, etc.) MUST extend this class.
127 |     Provides the core lifecycle methods required by the Plugin Host.
128 |     
    | ^^^^ W293
129 |     Lifecycle:
130 |         1. __init__() - Plugin instantiated by loader
    |
    = help: Remove whitespace from blank line

contracts\base.py:135:1: W293 Blank line contains whitespace
    |
133 |         4. [contract-specific methods] - Called as needed
134 |         5. shutdown() - Called once to release resources
135 |     
    | ^^^^ W293
136 |     Example:
137 |         class MyTTSPlugin(TTSContract):
    |
    = help: Remove whitespace from blank line

contracts\base.py:141:1: W293 Blank line contains whitespace
    |
139 |                 self._engine = load_tts_engine(config["model_path"])
140 |                 return True
141 |             
    | ^^^^^^^^^^^^ W293
142 |             async def shutdown(self):
143 |                 self._engine.unload()
    |
    = help: Remove whitespace from blank line

contracts\base.py:145:1: W293 Blank line contains whitespace
    |
143 |                 self._engine.unload()
144 |                 return True
145 |             
    | ^^^^^^^^^^^^ W293
146 |             def health_check(self):
147 |                 return HealthStatus(
    |
    = help: Remove whitespace from blank line

contracts\base.py:152:1: W293 [*] Blank line contains whitespace
    |
150 |                 )
151 |     """
152 |     
    | ^^^^ W293
153 |     def __init__(self):
154 |         """
    |
    = help: Remove whitespace from blank line

contracts\base.py:156:1: W293 Blank line contains whitespace
    |
154 |         """
155 |         Initialize plugin instance.
156 |         
    | ^^^^^^^^ W293
157 |         Note: Heavy initialization should be done in initialize(), not here.
158 |         The constructor should only set up instance variables.
    |
    = help: Remove whitespace from blank line

contracts\base.py:161:25: UP007 [*] Use `X | Y` for type annotations
    |
159 |         """
160 |         self._status: PluginStatus = PluginStatus.UNLOADED
161 |         self._manifest: Optional[PluginManifest] = None
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
162 |         self._config: Dict[str, Any] = {}
    |
    = help: Convert to `X | Y`

contracts\base.py:162:23: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
160 |         self._status: PluginStatus = PluginStatus.UNLOADED
161 |         self._manifest: Optional[PluginManifest] = None
162 |         self._config: Dict[str, Any] = {}
    |                       ^^^^ UP006
163 |     
164 |     @abstractmethod
    |
    = help: Replace with `dict`

contracts\base.py:163:1: W293 [*] Blank line contains whitespace
    |
161 |         self._manifest: Optional[PluginManifest] = None
162 |         self._config: Dict[str, Any] = {}
163 |     
    | ^^^^ W293
164 |     @abstractmethod
165 |     async def initialize(self, config: Dict[str, Any]) -> bool:
    |
    = help: Remove whitespace from blank line

contracts\base.py:165:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
164 |     @abstractmethod
165 |     async def initialize(self, config: Dict[str, Any]) -> bool:
    |                                        ^^^^ UP006
166 |         """
167 |         Initialize plugin with configuration.
    |
    = help: Replace with `dict`

contracts\base.py:168:1: W293 Blank line contains whitespace
    |
166 |         """
167 |         Initialize plugin with configuration.
168 |         
    | ^^^^^^^^ W293
169 |         Called once after plugin is loaded. Should set up any resources
170 |         needed for operation (models, connections, file handles, etc.).
    |
    = help: Remove whitespace from blank line

contracts\base.py:171:1: W293 Blank line contains whitespace
    |
169 |         Called once after plugin is loaded. Should set up any resources
170 |         needed for operation (models, connections, file handles, etc.).
171 |         
    | ^^^^^^^^ W293
172 |         Args:
173 |             config: Plugin-specific configuration dictionary.
    |
    = help: Remove whitespace from blank line

contracts\base.py:175:1: W293 Blank line contains whitespace
    |
173 |             config: Plugin-specific configuration dictionary.
174 |                     Schema defined in manifest.config_schema.
175 |         
    | ^^^^^^^^ W293
176 |         Returns:
177 |             True if initialization successful, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\base.py:178:1: W293 Blank line contains whitespace
    |
176 |         Returns:
177 |             True if initialization successful, False otherwise.
178 |         
    | ^^^^^^^^ W293
179 |         Raises:
180 |             Exception: If initialization fails critically.
    |
    = help: Remove whitespace from blank line

contracts\base.py:183:1: W293 [*] Blank line contains whitespace
    |
181 |         """
182 |         pass
183 |     
    | ^^^^ W293
184 |     @abstractmethod
185 |     async def shutdown(self) -> bool:
    |
    = help: Remove whitespace from blank line

contracts\base.py:188:1: W293 Blank line contains whitespace
    |
186 |         """
187 |         Shutdown plugin and release resources.
188 |         
    | ^^^^^^^^ W293
189 |         Called once when plugin is being unloaded. Should cleanly
190 |         release all resources acquired during initialize().
    |
    = help: Remove whitespace from blank line

contracts\base.py:191:1: W293 Blank line contains whitespace
    |
189 |         Called once when plugin is being unloaded. Should cleanly
190 |         release all resources acquired during initialize().
191 |         
    | ^^^^^^^^ W293
192 |         Returns:
193 |             True if shutdown successful, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\base.py:196:1: W293 [*] Blank line contains whitespace
    |
194 |         """
195 |         pass
196 |     
    | ^^^^ W293
197 |     @abstractmethod
198 |     def health_check(self) -> HealthStatus:
    |
    = help: Remove whitespace from blank line

contracts\base.py:201:1: W293 Blank line contains whitespace
    |
199 |         """
200 |         Check plugin health status.
201 |         
    | ^^^^^^^^ W293
202 |         Called periodically by Plugin Host to verify plugin is operational.
203 |         Should be fast and non-blocking.
    |
    = help: Remove whitespace from blank line

contracts\base.py:204:1: W293 Blank line contains whitespace
    |
202 |         Called periodically by Plugin Host to verify plugin is operational.
203 |         Should be fast and non-blocking.
204 |         
    | ^^^^^^^^ W293
205 |         Returns:
206 |             HealthStatus with current plugin state and diagnostics.
    |
    = help: Remove whitespace from blank line

contracts\base.py:209:1: W293 [*] Blank line contains whitespace
    |
207 |         """
208 |         pass
209 |     
    | ^^^^ W293
210 |     def get_manifest(self) -> Optional[PluginManifest]:
211 |         """
    |
    = help: Remove whitespace from blank line

contracts\base.py:210:31: UP007 [*] Use `X | Y` for type annotations
    |
208 |         pass
209 |     
210 |     def get_manifest(self) -> Optional[PluginManifest]:
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
211 |         """
212 |         Get plugin manifest.
    |
    = help: Convert to `X | Y`

contracts\base.py:213:1: W293 Blank line contains whitespace
    |
211 |         """
212 |         Get plugin manifest.
213 |         
    | ^^^^^^^^ W293
214 |         Returns:
215 |             PluginManifest if set, None otherwise.
    |
    = help: Remove whitespace from blank line

contracts\base.py:218:1: W293 [*] Blank line contains whitespace
    |
216 |         """
217 |         return self._manifest
218 |     
    | ^^^^ W293
219 |     def set_manifest(self, manifest: PluginManifest) -> None:
220 |         """
    |
    = help: Remove whitespace from blank line

contracts\base.py:222:1: W293 Blank line contains whitespace
    |
220 |         """
221 |         Set plugin manifest (called by loader).
222 |         
    | ^^^^^^^^ W293
223 |         Args:
224 |             manifest: Parsed manifest from manifest.json
    |
    = help: Remove whitespace from blank line

contracts\base.py:227:1: W293 [*] Blank line contains whitespace
    |
225 |         """
226 |         self._manifest = manifest
227 |     
    | ^^^^ W293
228 |     @property
229 |     def status(self) -> PluginStatus:
    |
    = help: Remove whitespace from blank line

contracts\base.py:232:1: W293 [*] Blank line contains whitespace
    |
230 |         """Get current plugin status."""
231 |         return self._status
232 |     
    | ^^^^ W293
233 |     @property
234 |     def name(self) -> str:
    |
    = help: Remove whitespace from blank line

contracts\base.py:237:1: W293 [*] Blank line contains whitespace
    |
235 |         """Get plugin name from manifest."""
236 |         return self._manifest.name if self._manifest else "unknown"
237 |     
    | ^^^^ W293
238 |     @property
239 |     def version(self) -> str:
    |
    = help: Remove whitespace from blank line

contracts\base.py:242:1: W293 [*] Blank line contains whitespace
    |
240 |         """Get plugin version from manifest."""
241 |         return self._manifest.version if self._manifest else "0.0.0"
242 |     
    | ^^^^ W293
243 |     @property
244 |     def contract_type(self) -> str:
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:12:1: I001 [*] Import block is un-sorted or un-formatted
   |
10 |   """
11 |
12 | / from abc import abstractmethod
13 | | from dataclasses import dataclass, field
14 | | from typing import Any, Dict, List, Optional, AsyncIterator
15 | | from enum import Enum
16 | |
17 | | # Import from D001 - no forward references
18 | | from .base import PluginBase, PluginStatus, HealthStatus
   | |________________________________________________________^ I001
   |
   = help: Organize imports

contracts\llm_contract.py:14:1: UP035 [*] Import from `collections.abc` instead: `AsyncIterator`
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |
   = help: Import from `collections.abc`

contracts\llm_contract.py:14:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\llm_contract.py:14:1: UP035 `typing.List` is deprecated, use `list` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\llm_contract.py:18:31: F401 [*] `.base.PluginStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                               ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\llm_contract.py:18:45: F401 [*] `.base.HealthStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                                             ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\llm_contract.py:42:1: W293 Blank line contains whitespace
   |
40 |     """
41 |     A message in the conversation.
42 |     
   | ^^^^ W293
43 |     Attributes:
44 |         role: Message sender role (system, user, assistant, tool)
   |
   = help: Remove whitespace from blank line

contracts\llm_contract.py:52:11: UP007 [*] Use `X | Y` for type annotations
   |
50 |     role: MessageRole
51 |     content: str
52 |     name: Optional[str] = None
   |           ^^^^^^^^^^^^^ UP007
53 |     tool_call_id: Optional[str] = None
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
   |
   = help: Convert to `X | Y`

contracts\llm_contract.py:53:19: UP007 [*] Use `X | Y` for type annotations
   |
51 |     content: str
52 |     name: Optional[str] = None
53 |     tool_call_id: Optional[str] = None
   |                   ^^^^^^^^^^^^^ UP007
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
   |
   = help: Convert to `X | Y`

contracts\llm_contract.py:54:17: UP006 [*] Use `list` instead of `List` for type annotation
   |
52 |     name: Optional[str] = None
53 |     tool_call_id: Optional[str] = None
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
   |                 ^^^^ UP006
55 |     
56 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `list`

contracts\llm_contract.py:54:22: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
52 |     name: Optional[str] = None
53 |     tool_call_id: Optional[str] = None
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
   |                      ^^^^ UP006
55 |     
56 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

contracts\llm_contract.py:55:1: W293 [*] Blank line contains whitespace
   |
53 |     tool_call_id: Optional[str] = None
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
55 |     
   | ^^^^ W293
56 |     def to_dict(self) -> Dict[str, Any]:
57 |         """Serialize message for API calls."""
   |
   = help: Remove whitespace from blank line

contracts\llm_contract.py:56:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
54 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
55 |     
56 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
57 |         """Serialize message for API calls."""
58 |         result = {
   |
   = help: Replace with `dict`

contracts\llm_contract.py:69:1: W293 [*] Blank line contains whitespace
   |
67 |             result["tool_calls"] = self.tool_calls
68 |         return result
69 |     
   | ^^^^ W293
70 |     @classmethod
71 |     def from_dict(cls, data: Dict[str, Any]) -> "Message":
   |
   = help: Remove whitespace from blank line

contracts\llm_contract.py:71:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
70 |     @classmethod
71 |     def from_dict(cls, data: Dict[str, Any]) -> "Message":
   |                              ^^^^ UP006
72 |         """Create message from dictionary."""
73 |         return cls(
   |
   = help: Replace with `dict`

contracts\llm_contract.py:86:1: W293 Blank line contains whitespace
   |
84 |     """
85 |     LLM model definition.
86 |     
   | ^^^^ W293
87 |     Attributes:
88 |         id: Unique model identifier (e.g., "llama3.2:3b")
   |
   = help: Remove whitespace from blank line

contracts\llm_contract.py:100:19: UP006 [*] Use `list` instead of `List` for type annotation
    |
 98 |     context_length: int = 4096
 99 |     description: str = ""
100 |     capabilities: List[str] = field(default_factory=lambda: ["chat"])
    |                   ^^^^ UP006
101 |     
102 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `list`

contracts\llm_contract.py:101:1: W293 [*] Blank line contains whitespace
    |
 99 |     description: str = ""
100 |     capabilities: List[str] = field(default_factory=lambda: ["chat"])
101 |     
    | ^^^^ W293
102 |     def to_dict(self) -> Dict[str, Any]:
103 |         """Serialize model for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:102:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
100 |     capabilities: List[str] = field(default_factory=lambda: ["chat"])
101 |     
102 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
103 |         """Serialize model for JSON-RPC responses."""
104 |         return {
    |
    = help: Replace with `dict`

contracts\llm_contract.py:118:1: W293 Blank line contains whitespace
    |
116 |     """
117 |     Options for LLM completion.
118 |     
    | ^^^^ W293
119 |     Attributes:
120 |         model: Model ID to use (None = use default)
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:131:12: UP007 [*] Use `X | Y` for type annotations
    |
129 |         tool_choice: Tool selection strategy ("auto", "none", or specific tool)
130 |     """
131 |     model: Optional[str] = None
    |            ^^^^^^^^^^^^^ UP007
132 |     temperature: float = 0.0  # Default to deterministic per project spec
133 |     max_tokens: int = 1024
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:136:11: UP006 [*] Use `list` instead of `List` for type annotation
    |
134 |     top_p: float = 1.0
135 |     top_k: int = 40
136 |     stop: List[str] = field(default_factory=list)
    |           ^^^^ UP006
137 |     presence_penalty: float = 0.0
138 |     frequency_penalty: float = 0.0
    |
    = help: Replace with `list`

contracts\llm_contract.py:139:12: UP006 [*] Use `list` instead of `List` for type annotation
    |
137 |     presence_penalty: float = 0.0
138 |     frequency_penalty: float = 0.0
139 |     tools: List[Dict[str, Any]] = field(default_factory=list)
    |            ^^^^ UP006
140 |     tool_choice: Optional[str] = None
    |
    = help: Replace with `list`

contracts\llm_contract.py:139:17: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
137 |     presence_penalty: float = 0.0
138 |     frequency_penalty: float = 0.0
139 |     tools: List[Dict[str, Any]] = field(default_factory=list)
    |                 ^^^^ UP006
140 |     tool_choice: Optional[str] = None
    |
    = help: Replace with `dict`

contracts\llm_contract.py:140:18: UP007 [*] Use `X | Y` for type annotations
    |
138 |     frequency_penalty: float = 0.0
139 |     tools: List[Dict[str, Any]] = field(default_factory=list)
140 |     tool_choice: Optional[str] = None
    |                  ^^^^^^^^^^^^^ UP007
141 |     
142 |     @classmethod
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:141:1: W293 [*] Blank line contains whitespace
    |
139 |     tools: List[Dict[str, Any]] = field(default_factory=list)
140 |     tool_choice: Optional[str] = None
141 |     
    | ^^^^ W293
142 |     @classmethod
143 |     def from_dict(cls, data: Dict[str, Any]) -> "CompletionOptions":
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:143:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
142 |     @classmethod
143 |     def from_dict(cls, data: Dict[str, Any]) -> "CompletionOptions":
    |                              ^^^^ UP006
144 |         """Create options from dictionary."""
145 |         return cls(
    |
    = help: Replace with `dict`

contracts\llm_contract.py:163:1: W293 Blank line contains whitespace
    |
161 |     """
162 |     Token usage statistics.
163 |     
    | ^^^^ W293
164 |     Attributes:
165 |         prompt_tokens: Tokens in the prompt
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:172:1: W293 [*] Blank line contains whitespace
    |
170 |     completion_tokens: int
171 |     total_tokens: int
172 |     
    | ^^^^ W293
173 |     def to_dict(self) -> Dict[str, Any]:
174 |         """Serialize usage for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:173:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
171 |     total_tokens: int
172 |     
173 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
174 |         """Serialize usage for JSON-RPC responses."""
175 |         return {
    |
    = help: Replace with `dict`

contracts\llm_contract.py:186:1: W293 Blank line contains whitespace
    |
184 |     """
185 |     Result of LLM completion operation.
186 |     
    | ^^^^ W293
187 |     Attributes:
188 |         content: Generated text content
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:199:17: UP006 [*] Use `list` instead of `List` for type annotation
    |
197 |     model: str
198 |     usage: TokenUsage
199 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
    |                 ^^^^ UP006
200 |     metadata: Dict[str, Any] = field(default_factory=dict)
    |
    = help: Replace with `list`

contracts\llm_contract.py:199:22: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
197 |     model: str
198 |     usage: TokenUsage
199 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
    |                      ^^^^ UP006
200 |     metadata: Dict[str, Any] = field(default_factory=dict)
    |
    = help: Replace with `dict`

contracts\llm_contract.py:200:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
198 |     usage: TokenUsage
199 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
200 |     metadata: Dict[str, Any] = field(default_factory=dict)
    |               ^^^^ UP006
201 |     
202 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `dict`

contracts\llm_contract.py:201:1: W293 [*] Blank line contains whitespace
    |
199 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
200 |     metadata: Dict[str, Any] = field(default_factory=dict)
201 |     
    | ^^^^ W293
202 |     def to_dict(self) -> Dict[str, Any]:
203 |         """Serialize result for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:202:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
200 |     metadata: Dict[str, Any] = field(default_factory=dict)
201 |     
202 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
203 |         """Serialize result for JSON-RPC responses."""
204 |         return {
    |
    = help: Replace with `dict`

contracts\llm_contract.py:218:1: W293 Blank line contains whitespace
    |
216 |     """
217 |     A chunk from streaming completion.
218 |     
    | ^^^^ W293
219 |     Attributes:
220 |         content: Text content in this chunk (may be empty)
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:225:20: UP007 [*] Use `X | Y` for type annotations
    |
223 |     """
224 |     content: str = ""
225 |     finish_reason: Optional[FinishReason] = None
    |                    ^^^^^^^^^^^^^^^^^^^^^^ UP007
226 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:226:17: UP006 [*] Use `list` instead of `List` for type annotation
    |
224 |     content: str = ""
225 |     finish_reason: Optional[FinishReason] = None
226 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
    |                 ^^^^ UP006
227 |     
228 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `list`

contracts\llm_contract.py:226:22: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
224 |     content: str = ""
225 |     finish_reason: Optional[FinishReason] = None
226 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
    |                      ^^^^ UP006
227 |     
228 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `dict`

contracts\llm_contract.py:227:1: W293 [*] Blank line contains whitespace
    |
225 |     finish_reason: Optional[FinishReason] = None
226 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
227 |     
    | ^^^^ W293
228 |     def to_dict(self) -> Dict[str, Any]:
229 |         """Serialize chunk for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:228:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
226 |     tool_calls: List[Dict[str, Any]] = field(default_factory=list)
227 |     
228 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
229 |         """Serialize chunk for JSON-RPC responses."""
230 |         result = {"content": self.content}
    |
    = help: Replace with `dict`

contracts\llm_contract.py:241:1: W293 Blank line contains whitespace
    |
239 |     """
240 |     Abstract contract for Large Language Model plugins.
241 |     
    | ^^^^ W293
242 |     All LLM plugins must implement this interface to be compatible
243 |     with the Plugin Host's LLM slot.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:244:1: W293 Blank line contains whitespace
    |
242 |     All LLM plugins must implement this interface to be compatible
243 |     with the Plugin Host's LLM slot.
244 |     
    | ^^^^ W293
245 |     JSON-RPC Methods (routed by Plugin Host):
246 |         - llm/complete: Generate completion for messages
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:250:1: W293 Blank line contains whitespace
    |
248 |         - llm/models: List available models
249 |         - llm/model/set: Set active model
250 |     
    | ^^^^ W293
251 |     Example Implementation:
252 |         class OllamaLLMPlugin(LLMContract):
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:259:1: W293 Blank line contains whitespace
    |
257 |                 self._status = PluginStatus.READY
258 |                 return True
259 |             
    | ^^^^^^^^^^^^ W293
260 |             async def complete(self, messages, options=None):
261 |                 response = await self._client.chat(
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:268:1: W293 [*] Blank line contains whitespace
    |
266 |                 return CompletionResult(...)
267 |     """
268 |     
    | ^^^^ W293
269 |     def __init__(self):
270 |         """Initialize LLM plugin instance."""
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:272:30: UP007 [*] Use `X | Y` for type annotations
    |
270 |         """Initialize LLM plugin instance."""
271 |         super().__init__()
272 |         self._current_model: Optional[str] = None
    |                              ^^^^^^^^^^^^^ UP007
273 |         self._models: List[Model] = []
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:273:23: UP006 [*] Use `list` instead of `List` for type annotation
    |
271 |         super().__init__()
272 |         self._current_model: Optional[str] = None
273 |         self._models: List[Model] = []
    |                       ^^^^ UP006
274 |     
275 |     @abstractmethod
    |
    = help: Replace with `list`

contracts\llm_contract.py:274:1: W293 [*] Blank line contains whitespace
    |
272 |         self._current_model: Optional[str] = None
273 |         self._models: List[Model] = []
274 |     
    | ^^^^ W293
275 |     @abstractmethod
276 |     async def complete(
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:278:19: UP006 [*] Use `list` instead of `List` for type annotation
    |
276 |     async def complete(
277 |         self,
278 |         messages: List[Message],
    |                   ^^^^ UP006
279 |         options: Optional[CompletionOptions] = None
280 |     ) -> CompletionResult:
    |
    = help: Replace with `list`

contracts\llm_contract.py:279:18: UP007 [*] Use `X | Y` for type annotations
    |
277 |         self,
278 |         messages: List[Message],
279 |         options: Optional[CompletionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
280 |     ) -> CompletionResult:
281 |         """
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:283:1: W293 Blank line contains whitespace
    |
281 |         """
282 |         Generate completion for conversation messages.
283 |         
    | ^^^^^^^^ W293
284 |         Args:
285 |             messages: Conversation history as list of Messages.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:287:1: W293 Blank line contains whitespace
    |
285 |             messages: Conversation history as list of Messages.
286 |             options: Completion options (model, temperature, etc.)
287 |         
    | ^^^^^^^^ W293
288 |         Returns:
289 |             CompletionResult containing generated content.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:290:1: W293 Blank line contains whitespace
    |
288 |         Returns:
289 |             CompletionResult containing generated content.
290 |         
    | ^^^^^^^^ W293
291 |         Raises:
292 |             ValueError: If messages list is empty.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:296:1: W293 [*] Blank line contains whitespace
    |
294 |         """
295 |         pass
296 |     
    | ^^^^ W293
297 |     @abstractmethod
298 |     async def complete_stream(
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:300:19: UP006 [*] Use `list` instead of `List` for type annotation
    |
298 |     async def complete_stream(
299 |         self,
300 |         messages: List[Message],
    |                   ^^^^ UP006
301 |         options: Optional[CompletionOptions] = None
302 |     ) -> AsyncIterator[StreamChunk]:
    |
    = help: Replace with `list`

contracts\llm_contract.py:301:18: UP007 [*] Use `X | Y` for type annotations
    |
299 |         self,
300 |         messages: List[Message],
301 |         options: Optional[CompletionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
302 |     ) -> AsyncIterator[StreamChunk]:
303 |         """
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:305:1: W293 Blank line contains whitespace
    |
303 |         """
304 |         Stream completion tokens for conversation messages.
305 |         
    | ^^^^^^^^ W293
306 |         Args:
307 |             messages: Conversation history as list of Messages.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:309:1: W293 Blank line contains whitespace
    |
307 |             messages: Conversation history as list of Messages.
308 |             options: Completion options.
309 |         
    | ^^^^^^^^ W293
310 |         Yields:
311 |             StreamChunk containing content deltas.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:312:1: W293 Blank line contains whitespace
    |
310 |         Yields:
311 |             StreamChunk containing content deltas.
312 |         
    | ^^^^^^^^ W293
313 |         Raises:
314 |             ValueError: If messages list is empty.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:318:1: W293 [*] Blank line contains whitespace
    |
316 |         """
317 |         pass
318 |     
    | ^^^^ W293
319 |     @abstractmethod
320 |     def get_models(self) -> List[Model]:
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:320:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
319 |     @abstractmethod
320 |     def get_models(self) -> List[Model]:
    |                             ^^^^ UP006
321 |         """
322 |         Get list of available models.
    |
    = help: Replace with `list`

contracts\llm_contract.py:323:1: W293 Blank line contains whitespace
    |
321 |         """
322 |         Get list of available models.
323 |         
    | ^^^^^^^^ W293
324 |         Returns:
325 |             List of Model objects supported by this plugin.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:328:1: W293 [*] Blank line contains whitespace
    |
326 |         """
327 |         pass
328 |     
    | ^^^^ W293
329 |     def set_model(self, model_id: str) -> bool:
330 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:332:1: W293 Blank line contains whitespace
    |
330 |         """
331 |         Set the active model for completions.
332 |         
    | ^^^^^^^^ W293
333 |         Args:
334 |             model_id: ID of model to activate.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:335:1: W293 Blank line contains whitespace
    |
333 |         Args:
334 |             model_id: ID of model to activate.
335 |         
    | ^^^^^^^^ W293
336 |         Returns:
337 |             True if model was set successfully, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:338:1: W293 Blank line contains whitespace
    |
336 |         Returns:
337 |             True if model was set successfully, False otherwise.
338 |         
    | ^^^^^^^^ W293
339 |         Raises:
340 |             ValueError: If model_id is not found.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:347:1: W293 [*] Blank line contains whitespace
    |
345 |         self._current_model = model_id
346 |         return True
347 |     
    | ^^^^ W293
348 |     def get_current_model(self) -> Optional[str]:
349 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:348:36: UP007 [*] Use `X | Y` for type annotations
    |
346 |         return True
347 |     
348 |     def get_current_model(self) -> Optional[str]:
    |                                    ^^^^^^^^^^^^^ UP007
349 |         """
350 |         Get the currently active model ID.
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:351:1: W293 Blank line contains whitespace
    |
349 |         """
350 |         Get the currently active model ID.
351 |         
    | ^^^^^^^^ W293
352 |         Returns:
353 |             Current model ID or None if not set.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:356:1: W293 [*] Blank line contains whitespace
    |
354 |         """
355 |         return self._current_model
356 |     
    | ^^^^ W293
357 |     def supports_streaming(self) -> bool:
358 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:360:1: W293 Blank line contains whitespace
    |
358 |         """
359 |         Check if plugin supports streaming completion.
360 |         
    | ^^^^^^^^ W293
361 |         Returns:
362 |             True if streaming is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:365:1: W293 [*] Blank line contains whitespace
    |
363 |         """
364 |         return True  # Most LLMs support streaming
365 |     
    | ^^^^ W293
366 |     def supports_tools(self) -> bool:
367 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:369:1: W293 Blank line contains whitespace
    |
367 |         """
368 |         Check if plugin supports function/tool calling.
369 |         
    | ^^^^^^^^ W293
370 |         Returns:
371 |             True if tools are supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:374:1: W293 [*] Blank line contains whitespace
    |
372 |         """
373 |         return False
374 |     
    | ^^^^ W293
375 |     def supports_vision(self) -> bool:
376 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:378:1: W293 Blank line contains whitespace
    |
376 |         """
377 |         Check if plugin supports image inputs.
378 |         
    | ^^^^^^^^ W293
379 |         Returns:
380 |             True if vision is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:383:1: W293 [*] Blank line contains whitespace
    |
381 |         """
382 |         return False
383 |     
    | ^^^^ W293
384 |     def get_context_length(self, model_id: Optional[str] = None) -> int:
385 |         """
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:384:44: UP007 [*] Use `X | Y` for type annotations
    |
382 |         return False
383 |     
384 |     def get_context_length(self, model_id: Optional[str] = None) -> int:
    |                                            ^^^^^^^^^^^^^ UP007
385 |         """
386 |         Get context length for a model.
    |
    = help: Convert to `X | Y`

contracts\llm_contract.py:387:1: W293 Blank line contains whitespace
    |
385 |         """
386 |         Get context length for a model.
387 |         
    | ^^^^^^^^ W293
388 |         Args:
389 |             model_id: Model to check. Uses current model if None.
    |
    = help: Remove whitespace from blank line

contracts\llm_contract.py:390:1: W293 Blank line contains whitespace
    |
388 |         Args:
389 |             model_id: Model to check. Uses current model if None.
390 |         
    | ^^^^^^^^ W293
391 |         Returns:
392 |             Maximum context length in tokens.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:12:1: I001 [*] Import block is un-sorted or un-formatted
   |
10 |   """
11 |
12 | / from abc import abstractmethod
13 | | from dataclasses import dataclass, field
14 | | from typing import Any, Dict, List, Optional, AsyncIterator, Callable
15 | | from enum import Enum
16 | |
17 | | # Import from D001 - no forward references
18 | | from .base import PluginBase, PluginStatus, HealthStatus
   | |________________________________________________________^ I001
   |
   = help: Organize imports

contracts\stt_contract.py:14:1: UP035 [*] Import from `collections.abc` instead: `AsyncIterator`, `Callable`
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |
   = help: Import from `collections.abc`

contracts\stt_contract.py:14:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\stt_contract.py:14:1: UP035 `typing.List` is deprecated, use `list` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\stt_contract.py:14:47: F401 [*] `typing.AsyncIterator` imported but unused
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator, Callable
   |                                               ^^^^^^^^^^^^^ F401
15 | from enum import Enum
   |
   = help: Remove unused import: `typing.AsyncIterator`

contracts\stt_contract.py:18:31: F401 [*] `.base.PluginStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                               ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\stt_contract.py:18:45: F401 [*] `.base.HealthStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                                             ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\stt_contract.py:34:1: W293 Blank line contains whitespace
   |
32 |     """
33 |     A segment of transcribed text with timing information.
34 |     
   | ^^^^ W293
35 |     Attributes:
36 |         text: Transcribed text for this segment
   |
   = help: Remove whitespace from blank line

contracts\stt_contract.py:48:14: UP007 [*] Use `X | Y` for type annotations
   |
46 |     end_ms: float
47 |     confidence: float = 1.0
48 |     speaker: Optional[str] = None
   |              ^^^^^^^^^^^^^ UP007
49 |     language: Optional[str] = None
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
   |
   = help: Convert to `X | Y`

contracts\stt_contract.py:49:15: UP007 [*] Use `X | Y` for type annotations
   |
47 |     confidence: float = 1.0
48 |     speaker: Optional[str] = None
49 |     language: Optional[str] = None
   |               ^^^^^^^^^^^^^ UP007
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
   |
   = help: Convert to `X | Y`

contracts\stt_contract.py:50:12: UP006 [*] Use `list` instead of `List` for type annotation
   |
48 |     speaker: Optional[str] = None
49 |     language: Optional[str] = None
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
   |            ^^^^ UP006
51 |     
52 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `list`

contracts\stt_contract.py:50:17: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
48 |     speaker: Optional[str] = None
49 |     language: Optional[str] = None
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
   |                 ^^^^ UP006
51 |     
52 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

contracts\stt_contract.py:51:1: W293 [*] Blank line contains whitespace
   |
49 |     language: Optional[str] = None
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
51 |     
   | ^^^^ W293
52 |     def to_dict(self) -> Dict[str, Any]:
53 |         """Serialize segment for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

contracts\stt_contract.py:52:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
50 |     words: List[Dict[str, Any]] = field(default_factory=list)
51 |     
52 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
53 |         """Serialize segment for JSON-RPC responses."""
54 |         result = {
   |
   = help: Replace with `dict`

contracts\stt_contract.py:73:1: W293 Blank line contains whitespace
   |
71 |     """
72 |     Result of STT transcription operation.
73 |     
   | ^^^^ W293
74 |     Attributes:
75 |         text: Full transcribed text
   |
   = help: Remove whitespace from blank line

contracts\stt_contract.py:83:15: UP006 [*] Use `list` instead of `List` for type annotation
   |
81 |     """
82 |     text: str
83 |     segments: List[TranscriptionSegment]
   |               ^^^^ UP006
84 |     language: str
85 |     duration_ms: float
   |
   = help: Replace with `list`

contracts\stt_contract.py:87:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
85 |     duration_ms: float
86 |     status: TranscriptionStatus = TranscriptionStatus.COMPLETE
87 |     metadata: Dict[str, Any] = field(default_factory=dict)
   |               ^^^^ UP006
88 |     
89 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

contracts\stt_contract.py:88:1: W293 [*] Blank line contains whitespace
   |
86 |     status: TranscriptionStatus = TranscriptionStatus.COMPLETE
87 |     metadata: Dict[str, Any] = field(default_factory=dict)
88 |     
   | ^^^^ W293
89 |     def to_dict(self) -> Dict[str, Any]:
90 |         """Serialize result for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

contracts\stt_contract.py:89:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
87 |     metadata: Dict[str, Any] = field(default_factory=dict)
88 |     
89 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
90 |         """Serialize result for JSON-RPC responses."""
91 |         return {
   |
   = help: Replace with `dict`

contracts\stt_contract.py:105:1: W293 Blank line contains whitespace
    |
103 |     """
104 |     Options for STT transcription.
105 |     
    | ^^^^ W293
106 |     Attributes:
107 |         language: Target language code (None = auto-detect)
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:117:15: UP007 [*] Use `X | Y` for type annotations
    |
115 |         suppress_tokens: Token IDs to suppress
116 |     """
117 |     language: Optional[str] = None
    |               ^^^^^^^^^^^^^ UP007
118 |     task: str = "transcribe"
119 |     word_timestamps: bool = False
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:124:21: UP007 [*] Use `X | Y` for type annotations
    |
122 |     beam_size: int = 5
123 |     temperature: float = 0.0
124 |     initial_prompt: Optional[str] = None
    |                     ^^^^^^^^^^^^^ UP007
125 |     suppress_tokens: List[int] = field(default_factory=list)
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:125:22: UP006 [*] Use `list` instead of `List` for type annotation
    |
123 |     temperature: float = 0.0
124 |     initial_prompt: Optional[str] = None
125 |     suppress_tokens: List[int] = field(default_factory=list)
    |                      ^^^^ UP006
126 |     
127 |     @classmethod
    |
    = help: Replace with `list`

contracts\stt_contract.py:126:1: W293 [*] Blank line contains whitespace
    |
124 |     initial_prompt: Optional[str] = None
125 |     suppress_tokens: List[int] = field(default_factory=list)
126 |     
    | ^^^^ W293
127 |     @classmethod
128 |     def from_dict(cls, data: Dict[str, Any]) -> "TranscriptionOptions":
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:128:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
127 |     @classmethod
128 |     def from_dict(cls, data: Dict[str, Any]) -> "TranscriptionOptions":
    |                              ^^^^ UP006
129 |         """Create options from dictionary."""
130 |         return cls(
    |
    = help: Replace with `dict`

contracts\stt_contract.py:147:1: W293 Blank line contains whitespace
    |
145 |     """
146 |     Configuration for streaming transcription.
147 |     
    | ^^^^ W293
148 |     Attributes:
149 |         sample_rate: Audio sample rate in Hz
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:167:1: W293 Blank line contains whitespace
    |
165 |     """
166 |     Abstract contract for Speech-to-Text plugins.
167 |     
    | ^^^^ W293
168 |     All STT plugins must implement this interface to be compatible
169 |     with the Plugin Host's STT slot.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:170:1: W293 Blank line contains whitespace
    |
168 |     All STT plugins must implement this interface to be compatible
169 |     with the Plugin Host's STT slot.
170 |     
    | ^^^^ W293
171 |     JSON-RPC Methods (routed by Plugin Host):
172 |         - stt/transcribe: Transcribe audio file or buffer
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:177:1: W293 Blank line contains whitespace
    |
175 |         - stt/stream/stop: Stop streaming and get final result
176 |         - stt/languages: List supported languages
177 |     
    | ^^^^ W293
178 |     Example Implementation:
179 |         class MoonshineSTTPlugin(STTContract):
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:184:1: W293 Blank line contains whitespace
    |
182 |                 self._status = PluginStatus.READY
183 |                 return True
184 |             
    | ^^^^^^^^^^^^ W293
185 |             async def transcribe(self, audio_data, options=None):
186 |                 result = self._model.transcribe(audio_data)
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:193:1: W293 [*] Blank line contains whitespace
    |
191 |                 )
192 |     """
193 |     
    | ^^^^ W293
194 |     def __init__(self):
195 |         """Initialize STT plugin instance."""
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:198:30: UP007 [*] Use `X | Y` for type annotations
    |
196 |         super().__init__()
197 |         self._is_streaming: bool = False
198 |         self._stream_config: Optional[StreamingConfig] = None
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
199 |         self._stream_callback: Optional[Callable[[TranscriptionSegment], None]] = None
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:199:32: UP007 [*] Use `X | Y` for type annotations
    |
197 |         self._is_streaming: bool = False
198 |         self._stream_config: Optional[StreamingConfig] = None
199 |         self._stream_callback: Optional[Callable[[TranscriptionSegment], None]] = None
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
200 |     
201 |     @abstractmethod
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:200:1: W293 [*] Blank line contains whitespace
    |
198 |         self._stream_config: Optional[StreamingConfig] = None
199 |         self._stream_callback: Optional[Callable[[TranscriptionSegment], None]] = None
200 |     
    | ^^^^ W293
201 |     @abstractmethod
202 |     async def transcribe(
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:205:18: UP007 [*] Use `X | Y` for type annotations
    |
203 |         self,
204 |         audio_data: bytes,
205 |         options: Optional[TranscriptionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
206 |     ) -> TranscriptionResult:
207 |         """
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:209:1: W293 Blank line contains whitespace
    |
207 |         """
208 |         Transcribe audio data to text.
209 |         
    | ^^^^^^^^ W293
210 |         Args:
211 |             audio_data: Raw audio bytes (WAV, MP3, or raw PCM).
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:213:1: W293 Blank line contains whitespace
    |
211 |             audio_data: Raw audio bytes (WAV, MP3, or raw PCM).
212 |             options: Transcription options.
213 |         
    | ^^^^^^^^ W293
214 |         Returns:
215 |             TranscriptionResult containing text and segments.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:216:1: W293 Blank line contains whitespace
    |
214 |         Returns:
215 |             TranscriptionResult containing text and segments.
216 |         
    | ^^^^^^^^ W293
217 |         Raises:
218 |             ValueError: If audio data is invalid or empty.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:222:1: W293 [*] Blank line contains whitespace
    |
220 |         """
221 |         pass
222 |     
    | ^^^^ W293
223 |     @abstractmethod
224 |     async def start_streaming(
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:227:19: UP007 [*] Use `X | Y` for type annotations
    |
225 |         self,
226 |         config: StreamingConfig,
227 |         callback: Optional[Callable[[TranscriptionSegment], None]] = None
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
228 |     ) -> bool:
229 |         """
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:231:1: W293 Blank line contains whitespace
    |
229 |         """
230 |         Start streaming transcription session.
231 |         
    | ^^^^^^^^ W293
232 |         Args:
233 |             config: Streaming configuration (sample rate, encoding, etc.)
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:235:1: W293 Blank line contains whitespace
    |
233 |             config: Streaming configuration (sample rate, encoding, etc.)
234 |             callback: Optional callback for real-time segments.
235 |         
    | ^^^^^^^^ W293
236 |         Returns:
237 |             True if streaming started successfully.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:238:1: W293 Blank line contains whitespace
    |
236 |         Returns:
237 |             True if streaming started successfully.
238 |         
    | ^^^^^^^^ W293
239 |         Raises:
240 |             RuntimeError: If already streaming or startup fails.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:243:1: W293 [*] Blank line contains whitespace
    |
241 |         """
242 |         pass
243 |     
    | ^^^^ W293
244 |     @abstractmethod
245 |     async def feed_audio(self, chunk: bytes) -> Optional[TranscriptionSegment]:
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:245:49: UP007 [*] Use `X | Y` for type annotations
    |
244 |     @abstractmethod
245 |     async def feed_audio(self, chunk: bytes) -> Optional[TranscriptionSegment]:
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
246 |         """
247 |         Feed audio chunk to streaming session.
    |
    = help: Convert to `X | Y`

contracts\stt_contract.py:248:1: W293 Blank line contains whitespace
    |
246 |         """
247 |         Feed audio chunk to streaming session.
248 |         
    | ^^^^^^^^ W293
249 |         Args:
250 |             chunk: Raw audio bytes matching StreamingConfig.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:251:1: W293 Blank line contains whitespace
    |
249 |         Args:
250 |             chunk: Raw audio bytes matching StreamingConfig.
251 |         
    | ^^^^^^^^ W293
252 |         Returns:
253 |             TranscriptionSegment if new segment available, None otherwise.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:254:1: W293 Blank line contains whitespace
    |
252 |         Returns:
253 |             TranscriptionSegment if new segment available, None otherwise.
254 |         
    | ^^^^^^^^ W293
255 |         Raises:
256 |             RuntimeError: If not currently streaming.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:259:1: W293 [*] Blank line contains whitespace
    |
257 |         """
258 |         pass
259 |     
    | ^^^^ W293
260 |     @abstractmethod
261 |     async def stop_streaming(self) -> TranscriptionResult:
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:264:1: W293 Blank line contains whitespace
    |
262 |         """
263 |         Stop streaming and get final transcription result.
264 |         
    | ^^^^^^^^ W293
265 |         Returns:
266 |             Final TranscriptionResult with all segments.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:267:1: W293 Blank line contains whitespace
    |
265 |         Returns:
266 |             Final TranscriptionResult with all segments.
267 |         
    | ^^^^^^^^ W293
268 |         Raises:
269 |             RuntimeError: If not currently streaming.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:272:1: W293 [*] Blank line contains whitespace
    |
270 |         """
271 |         pass
272 |     
    | ^^^^ W293
273 |     def get_supported_languages(self) -> List[str]:
274 |         """
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:273:42: UP006 [*] Use `list` instead of `List` for type annotation
    |
271 |         pass
272 |     
273 |     def get_supported_languages(self) -> List[str]:
    |                                          ^^^^ UP006
274 |         """
275 |         Get list of supported language codes.
    |
    = help: Replace with `list`

contracts\stt_contract.py:276:1: W293 Blank line contains whitespace
    |
274 |         """
275 |         Get list of supported language codes.
276 |         
    | ^^^^^^^^ W293
277 |         Returns:
278 |             List of BCP-47 language codes (e.g., ["en", "ja", "de"]).
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:281:1: W293 [*] Blank line contains whitespace
    |
279 |         """
280 |         return ["en"]  # Default: English only
281 |     
    | ^^^^ W293
282 |     def supports_streaming(self) -> bool:
283 |         """
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:285:1: W293 Blank line contains whitespace
    |
283 |         """
284 |         Check if plugin supports streaming transcription.
285 |         
    | ^^^^^^^^ W293
286 |         Returns:
287 |             True if streaming is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:290:1: W293 [*] Blank line contains whitespace
    |
288 |         """
289 |         return False
290 |     
    | ^^^^ W293
291 |     def supports_diarization(self) -> bool:
292 |         """
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:294:1: W293 Blank line contains whitespace
    |
292 |         """
293 |         Check if plugin supports speaker diarization.
294 |         
    | ^^^^^^^^ W293
295 |         Returns:
296 |             True if diarization is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:299:1: W293 [*] Blank line contains whitespace
    |
297 |         """
298 |         return False
299 |     
    | ^^^^ W293
300 |     def supports_translation(self) -> bool:
301 |         """
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:303:1: W293 Blank line contains whitespace
    |
301 |         """
302 |         Check if plugin supports translation to English.
303 |         
    | ^^^^^^^^ W293
304 |         Returns:
305 |             True if translation is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\stt_contract.py:308:1: W293 [*] Blank line contains whitespace
    |
306 |         """
307 |         return False
308 |     
    | ^^^^ W293
309 |     @property
310 |     def is_streaming(self) -> bool:
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:12:1: I001 [*] Import block is un-sorted or un-formatted
   |
10 |   """
11 |
12 | / from abc import abstractmethod
13 | | from dataclasses import dataclass, field
14 | | from typing import Any, Dict, List, Optional, AsyncIterator
15 | | from enum import Enum
16 | |
17 | | # Import from D001 - no forward references
18 | | from .base import PluginBase, PluginStatus, HealthStatus
   | |________________________________________________________^ I001
   |
   = help: Organize imports

contracts\tts_contract.py:14:1: UP035 [*] Import from `collections.abc` instead: `AsyncIterator`
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |
   = help: Import from `collections.abc`

contracts\tts_contract.py:14:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\tts_contract.py:14:1: UP035 `typing.List` is deprecated, use `list` instead
   |
12 | from abc import abstractmethod
13 | from dataclasses import dataclass, field
14 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
15 | from enum import Enum
   |

contracts\tts_contract.py:18:31: F401 [*] `.base.PluginStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                               ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\tts_contract.py:18:45: F401 [*] `.base.HealthStatus` imported but unused
   |
17 | # Import from D001 - no forward references
18 | from .base import PluginBase, PluginStatus, HealthStatus
   |                                             ^^^^^^^^^^^^ F401
   |
   = help: Remove unused import

contracts\tts_contract.py:34:1: W293 Blank line contains whitespace
   |
32 |     """
33 |     Voice definition for TTS synthesis.
34 |     
   | ^^^^ W293
35 |     Attributes:
36 |         id: Unique voice identifier within the plugin
   |
   = help: Remove whitespace from blank line

contracts\tts_contract.py:51:1: W293 [*] Blank line contains whitespace
   |
49 |     sample_rate: int = 22050
50 |     preview_url: str = ""
51 |     
   | ^^^^ W293
52 |     def to_dict(self) -> Dict[str, Any]:
53 |         """Serialize voice for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

contracts\tts_contract.py:52:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
50 |     preview_url: str = ""
51 |     
52 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
53 |         """Serialize voice for JSON-RPC responses."""
54 |         return {
   |
   = help: Replace with `dict`

contracts\tts_contract.py:69:1: W293 Blank line contains whitespace
   |
67 |     """
68 |     Result of TTS synthesis operation.
69 |     
   | ^^^^ W293
70 |     Attributes:
71 |         audio_data: Raw audio bytes in specified format
   |
   = help: Remove whitespace from blank line

contracts\tts_contract.py:85:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
83 |     text: str
84 |     voice_id: str
85 |     metadata: Dict[str, Any] = field(default_factory=dict)
   |               ^^^^ UP006
86 |     
87 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

contracts\tts_contract.py:86:1: W293 [*] Blank line contains whitespace
   |
84 |     voice_id: str
85 |     metadata: Dict[str, Any] = field(default_factory=dict)
86 |     
   | ^^^^ W293
87 |     def to_dict(self) -> Dict[str, Any]:
88 |         """
   |
   = help: Remove whitespace from blank line

contracts\tts_contract.py:87:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
85 |     metadata: Dict[str, Any] = field(default_factory=dict)
86 |     
87 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
88 |         """
89 |         Serialize for JSON-RPC responses.
   |
   = help: Replace with `dict`

contracts\tts_contract.py:108:1: W293 Blank line contains whitespace
    |
106 |     """
107 |     Options for TTS synthesis.
108 |     
    | ^^^^ W293
109 |     Attributes:
110 |         speed: Playback speed multiplier (0.5 = half speed, 2.0 = double)
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:121:18: UP007 [*] Use `X | Y` for type annotations
    |
119 |     volume: float = 1.0
120 |     format: AudioFormat = AudioFormat.WAV
121 |     sample_rate: Optional[int] = None
    |                  ^^^^^^^^^^^^^ UP007
122 |     language: Optional[str] = None
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:122:15: UP007 [*] Use `X | Y` for type annotations
    |
120 |     format: AudioFormat = AudioFormat.WAV
121 |     sample_rate: Optional[int] = None
122 |     language: Optional[str] = None
    |               ^^^^^^^^^^^^^ UP007
123 |     
124 |     @classmethod
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:123:1: W293 [*] Blank line contains whitespace
    |
121 |     sample_rate: Optional[int] = None
122 |     language: Optional[str] = None
123 |     
    | ^^^^ W293
124 |     @classmethod
125 |     def from_dict(cls, data: Dict[str, Any]) -> "SynthesisOptions":
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:125:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
124 |     @classmethod
125 |     def from_dict(cls, data: Dict[str, Any]) -> "SynthesisOptions":
    |                              ^^^^ UP006
126 |         """Create options from dictionary."""
127 |         return cls(
    |
    = help: Replace with `dict`

contracts\tts_contract.py:140:1: W293 Blank line contains whitespace
    |
138 |     """
139 |     Abstract contract for Text-to-Speech plugins.
140 |     
    | ^^^^ W293
141 |     All TTS plugins must implement this interface to be compatible
142 |     with the Plugin Host's TTS slot.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:143:1: W293 Blank line contains whitespace
    |
141 |     All TTS plugins must implement this interface to be compatible
142 |     with the Plugin Host's TTS slot.
143 |     
    | ^^^^ W293
144 |     JSON-RPC Methods (routed by Plugin Host):
145 |         - tts/synthesize: Convert text to speech audio
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:149:1: W293 Blank line contains whitespace
    |
147 |         - tts/voice/set: Set active voice
148 |         - tts/stream: Stream synthesis for long text (optional)
149 |     
    | ^^^^ W293
150 |     Example Implementation:
151 |         class KokoroTTSPlugin(TTSContract):
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:158:1: W293 Blank line contains whitespace
    |
156 |                 self._status = PluginStatus.READY
157 |                 return True
158 |             
    | ^^^^^^^^^^^^ W293
159 |             async def synthesize(self, text, voice_id=None, options=None):
160 |                 voice = voice_id or self._current_voice
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:168:1: W293 [*] Blank line contains whitespace
    |
166 |                 )
167 |     """
168 |     
    | ^^^^ W293
169 |     def __init__(self):
170 |         """Initialize TTS plugin instance."""
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:172:33: UP007 [*] Use `X | Y` for type annotations
    |
170 |         """Initialize TTS plugin instance."""
171 |         super().__init__()
172 |         self._current_voice_id: Optional[str] = None
    |                                 ^^^^^^^^^^^^^ UP007
173 |         self._voices: List[Voice] = []
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:173:23: UP006 [*] Use `list` instead of `List` for type annotation
    |
171 |         super().__init__()
172 |         self._current_voice_id: Optional[str] = None
173 |         self._voices: List[Voice] = []
    |                       ^^^^ UP006
174 |     
175 |     @abstractmethod
    |
    = help: Replace with `list`

contracts\tts_contract.py:174:1: W293 [*] Blank line contains whitespace
    |
172 |         self._current_voice_id: Optional[str] = None
173 |         self._voices: List[Voice] = []
174 |     
    | ^^^^ W293
175 |     @abstractmethod
176 |     async def synthesize(
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:179:19: UP007 [*] Use `X | Y` for type annotations
    |
177 |         self,
178 |         text: str,
179 |         voice_id: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
180 |         options: Optional[SynthesisOptions] = None
181 |     ) -> SynthesisResult:
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:180:18: UP007 [*] Use `X | Y` for type annotations
    |
178 |         text: str,
179 |         voice_id: Optional[str] = None,
180 |         options: Optional[SynthesisOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
181 |     ) -> SynthesisResult:
182 |         """
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:184:1: W293 Blank line contains whitespace
    |
182 |         """
183 |         Synthesize speech from text.
184 |         
    | ^^^^^^^^ W293
185 |         Args:
186 |             text: Text to convert to speech. May contain SSML if supported.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:189:1: W293 Blank line contains whitespace
    |
187 |             voice_id: Voice to use. If None, uses current voice.
188 |             options: Synthesis options (speed, pitch, format, etc.)
189 |         
    | ^^^^^^^^ W293
190 |         Returns:
191 |             SynthesisResult containing audio data and metadata.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:192:1: W293 Blank line contains whitespace
    |
190 |         Returns:
191 |             SynthesisResult containing audio data and metadata.
192 |         
    | ^^^^^^^^ W293
193 |         Raises:
194 |             ValueError: If text is empty or voice_id is invalid.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:198:1: W293 [*] Blank line contains whitespace
    |
196 |         """
197 |         pass
198 |     
    | ^^^^ W293
199 |     @abstractmethod
200 |     def get_voices(self) -> List[Voice]:
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:200:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
199 |     @abstractmethod
200 |     def get_voices(self) -> List[Voice]:
    |                             ^^^^ UP006
201 |         """
202 |         Get list of available voices.
    |
    = help: Replace with `list`

contracts\tts_contract.py:203:1: W293 Blank line contains whitespace
    |
201 |         """
202 |         Get list of available voices.
203 |         
    | ^^^^^^^^ W293
204 |         Returns:
205 |             List of Voice objects supported by this plugin.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:208:1: W293 [*] Blank line contains whitespace
    |
206 |         """
207 |         pass
208 |     
    | ^^^^ W293
209 |     @abstractmethod
210 |     def set_voice(self, voice_id: str) -> bool:
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:213:1: W293 Blank line contains whitespace
    |
211 |         """
212 |         Set the active voice for synthesis.
213 |         
    | ^^^^^^^^ W293
214 |         Args:
215 |             voice_id: ID of voice to activate.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:216:1: W293 Blank line contains whitespace
    |
214 |         Args:
215 |             voice_id: ID of voice to activate.
216 |         
    | ^^^^^^^^ W293
217 |         Returns:
218 |             True if voice was set successfully, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:219:1: W293 Blank line contains whitespace
    |
217 |         Returns:
218 |             True if voice was set successfully, False otherwise.
219 |         
    | ^^^^^^^^ W293
220 |         Raises:
221 |             ValueError: If voice_id is not found.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:224:1: W293 [*] Blank line contains whitespace
    |
222 |         """
223 |         pass
224 |     
    | ^^^^ W293
225 |     def get_current_voice(self) -> Optional[str]:
226 |         """
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:225:36: UP007 [*] Use `X | Y` for type annotations
    |
223 |         pass
224 |     
225 |     def get_current_voice(self) -> Optional[str]:
    |                                    ^^^^^^^^^^^^^ UP007
226 |         """
227 |         Get the currently active voice ID.
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:228:1: W293 Blank line contains whitespace
    |
226 |         """
227 |         Get the currently active voice ID.
228 |         
    | ^^^^^^^^ W293
229 |         Returns:
230 |             Current voice ID or None if not set.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:233:1: W293 [*] Blank line contains whitespace
    |
231 |         """
232 |         return self._current_voice_id
233 |     
    | ^^^^ W293
234 |     async def synthesize_stream(
235 |         self,
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:237:19: UP007 [*] Use `X | Y` for type annotations
    |
235 |         self,
236 |         text: str,
237 |         voice_id: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
238 |         options: Optional[SynthesisOptions] = None
239 |     ) -> AsyncIterator[bytes]:
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:238:18: UP007 [*] Use `X | Y` for type annotations
    |
236 |         text: str,
237 |         voice_id: Optional[str] = None,
238 |         options: Optional[SynthesisOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
239 |     ) -> AsyncIterator[bytes]:
240 |         """
    |
    = help: Convert to `X | Y`

contracts\tts_contract.py:242:1: W293 Blank line contains whitespace
    |
240 |         """
241 |         Stream synthesis for long text (optional implementation).
242 |         
    | ^^^^^^^^ W293
243 |         Default implementation calls synthesize() and yields full result.
244 |         Override for true streaming support.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:245:1: W293 Blank line contains whitespace
    |
243 |         Default implementation calls synthesize() and yields full result.
244 |         Override for true streaming support.
245 |         
    | ^^^^^^^^ W293
246 |         Args:
247 |             text: Text to convert to speech.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:250:1: W293 Blank line contains whitespace
    |
248 |             voice_id: Voice to use.
249 |             options: Synthesis options.
250 |         
    | ^^^^^^^^ W293
251 |         Yields:
252 |             Audio data chunks as bytes.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:256:1: W293 [*] Blank line contains whitespace
    |
254 |         result = await self.synthesize(text, voice_id, options)
255 |         yield result.audio_data
256 |     
    | ^^^^ W293
257 |     def supports_ssml(self) -> bool:
258 |         """
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:260:1: W293 Blank line contains whitespace
    |
258 |         """
259 |         Check if plugin supports SSML input.
260 |         
    | ^^^^^^^^ W293
261 |         Returns:
262 |             True if SSML is supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:265:1: W293 [*] Blank line contains whitespace
    |
263 |         """
264 |         return False
265 |     
    | ^^^^ W293
266 |     def supports_streaming(self) -> bool:
267 |         """
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:269:1: W293 Blank line contains whitespace
    |
267 |         """
268 |         Check if plugin supports true streaming synthesis.
269 |         
    | ^^^^^^^^ W293
270 |         Returns:
271 |             True if streaming is natively supported, False otherwise.
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:274:1: W293 [*] Blank line contains whitespace
    |
272 |         """
273 |         return False
274 |     
    | ^^^^ W293
275 |     def get_supported_languages(self) -> List[str]:
276 |         """
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:275:42: UP006 [*] Use `list` instead of `List` for type annotation
    |
273 |         return False
274 |     
275 |     def get_supported_languages(self) -> List[str]:
    |                                          ^^^^ UP006
276 |         """
277 |         Get list of supported language codes.
    |
    = help: Replace with `list`

contracts\tts_contract.py:278:1: W293 Blank line contains whitespace
    |
276 |         """
277 |         Get list of supported language codes.
278 |         
    | ^^^^^^^^ W293
279 |         Returns:
280 |             List of BCP-47 language codes (e.g., ["en-US", "ja-JP"]).
    |
    = help: Remove whitespace from blank line

contracts\tts_contract.py:282:21: C401 Unnecessary generator (rewrite as a set comprehension)
    |
280 |             List of BCP-47 language codes (e.g., ["en-US", "ja-JP"]).
281 |         """
282 |         return list(set(v.language for v in self._voices))
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ C401
    |
    = help: Rewrite as a set comprehension

plugins\_host\__init__.py:22:1: W293 Blank line contains whitespace
   |
20 |     from plugins._host import configure_host_logging
21 |     configure_host_logging(level="INFO")
22 |     
   | ^^^^ W293
23 |     # Or import individual components
24 |     from plugins._host.discovery import HybridDiscovery
   |
   = help: Remove whitespace from blank line

plugins\_host\__init__.py:54:1: W293 Blank line contains whitespace
   |
52 |     """
53 |     Configure stdout for unbuffered, line-by-line output.
54 |     
   | ^^^^ W293
55 |     CRITICAL: This prevents IPC deadlocks in the JSON-RPC communication.
56 |     Must be called at module import time.
   |
   = help: Remove whitespace from blank line

plugins\_host\__init__.py:60:1: W293 [*] Blank line contains whitespace
   |
58 |     # Method 1: Environment variable (affects child processes too)
59 |     os.environ['PYTHONUNBUFFERED'] = '1'
60 |     
   | ^^^^ W293
61 |     # Method 2: Reconfigure stdout (Python 3.7+)
62 |     if hasattr(sys.stdout, 'reconfigure'):
   |
   = help: Remove whitespace from blank line

plugins\_host\__init__.py:67:1: W293 [*] Blank line contains whitespace
   |
65 |         except Exception:
66 |             pass  # Fall through to method 3
67 |     
   | ^^^^ W293
68 |     # Method 3: Replace stdout with unbuffered wrapper
69 |     # This is the most reliable method, especially on Windows
   |
   = help: Remove whitespace from blank line

plugins\_host\__init__.py:115:1: W293 Blank line contains whitespace
    |
113 |     """
114 |     A StreamHandler that ALWAYS writes to stderr.
115 |     
    | ^^^^ W293
116 |     This ensures log messages never contaminate the stdout JSON-RPC channel,
117 |     even if sys.stderr is reassigned elsewhere.
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |     even if sys.stderr is reassigned elsewhere.
118 |     """
119 |     
    | ^^^^ W293
120 |     def __init__(self):
121 |         """Initialize with stderr as the stream."""
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:123:1: W293 [*] Blank line contains whitespace
    |
121 |         """Initialize with stderr as the stream."""
122 |         super().__init__(stream=sys.stderr)
123 |     
    | ^^^^ W293
124 |     def emit(self, record: logging.LogRecord) -> None:
125 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:127:1: W293 Blank line contains whitespace
    |
125 |         """
126 |         Emit a record to stderr.
127 |         
    | ^^^^^^^^ W293
128 |         Overrides parent to explicitly use sys.stderr at emit time,
129 |         in case stderr was reassigned after handler creation.
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:142:1: W293 Blank line contains whitespace
    |
140 |     """
141 |     A formatter that ensures log output doesn't look like JSON-RPC.
142 |     
    | ^^^^ W293
143 |     Prefixes all log lines with a marker that the Rust IPC layer can
144 |     filter out if needed.
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:146:1: W293 [*] Blank line contains whitespace
    |
144 |     filter out if needed.
145 |     """
146 |     
    | ^^^^ W293
147 |     LOG_PREFIX = "[LOG] "
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:148:1: W293 [*] Blank line contains whitespace
    |
147 |     LOG_PREFIX = "[LOG] "
148 |     
    | ^^^^ W293
149 |     def format(self, record: logging.LogRecord) -> str:
150 |         """Format the record with a non-JSON prefix."""
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:160:17: UP007 [*] Use `X | Y` for type annotations
    |
158 | def configure_host_logging(
159 |     level: str = "INFO",
160 |     log_format: Optional[str] = None,
    |                 ^^^^^^^^^^^^^ UP007
161 |     date_format: Optional[str] = None,
162 |     use_json_safe: bool = False
    |
    = help: Convert to `X | Y`

plugins\_host\__init__.py:161:18: UP007 [*] Use `X | Y` for type annotations
    |
159 |     level: str = "INFO",
160 |     log_format: Optional[str] = None,
161 |     date_format: Optional[str] = None,
    |                  ^^^^^^^^^^^^^ UP007
162 |     use_json_safe: bool = False
163 | ) -> logging.Logger:
    |
    = help: Convert to `X | Y`

plugins\_host\__init__.py:166:1: W293 Blank line contains whitespace
    |
164 |     """
165 |     Configure logging for the Plugin Host.
166 |     
    | ^^^^ W293
167 |     All logging is directed to stderr to keep stdout clean for JSON-RPC.
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:168:1: W293 Blank line contains whitespace
    |
167 |     All logging is directed to stderr to keep stdout clean for JSON-RPC.
168 |     
    | ^^^^ W293
169 |     Args:
170 |         level: Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:174:1: W293 Blank line contains whitespace
    |
172 |         date_format: Custom date format string (defaults to DEFAULT_DATE_FORMAT)
173 |         use_json_safe: If True, prefix logs to distinguish from JSON-RPC
174 |         
    | ^^^^^^^^ W293
175 |     Returns:
176 |         The root plugin host logger
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:177:1: W293 Blank line contains whitespace
    |
175 |     Returns:
176 |         The root plugin host logger
177 |         
    | ^^^^^^^^ W293
178 |     Example:
179 |         >>> configure_host_logging(level="DEBUG")
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:185:1: W293 [*] Blank line contains whitespace
    |
183 |     # Get numeric level
184 |     numeric_level = LOG_LEVELS.get(level.upper(), logging.INFO)
185 |     
    | ^^^^ W293
186 |     # Get root logger for plugin host
187 |     root_logger = logging.getLogger(LOGGER_PREFIX)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:189:1: W293 [*] Blank line contains whitespace
    |
187 |     root_logger = logging.getLogger(LOGGER_PREFIX)
188 |     root_logger.setLevel(numeric_level)
189 |     
    | ^^^^ W293
190 |     # Remove any existing handlers
191 |     root_logger.handlers.clear()
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:192:1: W293 [*] Blank line contains whitespace
    |
190 |     # Remove any existing handlers
191 |     root_logger.handlers.clear()
192 |     
    | ^^^^ W293
193 |     # Create stderr handler
194 |     handler = StderrHandler()
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:196:1: W293 [*] Blank line contains whitespace
    |
194 |     handler = StderrHandler()
195 |     handler.setLevel(numeric_level)
196 |     
    | ^^^^ W293
197 |     # Create formatter
198 |     fmt = log_format or DEFAULT_LOG_FORMAT
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:200:1: W293 [*] Blank line contains whitespace
    |
198 |     fmt = log_format or DEFAULT_LOG_FORMAT
199 |     datefmt = date_format or DEFAULT_DATE_FORMAT
200 |     
    | ^^^^ W293
201 |     if use_json_safe:
202 |         formatter = JsonRpcSafeFormatter(fmt=fmt, datefmt=datefmt)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:205:1: W293 [*] Blank line contains whitespace
    |
203 |     else:
204 |         formatter = logging.Formatter(fmt=fmt, datefmt=datefmt)
205 |     
    | ^^^^ W293
206 |     handler.setFormatter(formatter)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:207:1: W293 [*] Blank line contains whitespace
    |
206 |     handler.setFormatter(formatter)
207 |     
    | ^^^^ W293
208 |     # Add handler to root logger
209 |     root_logger.addHandler(handler)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:210:1: W293 [*] Blank line contains whitespace
    |
208 |     # Add handler to root logger
209 |     root_logger.addHandler(handler)
210 |     
    | ^^^^ W293
211 |     # Prevent propagation to root logger (which might have stdout handlers)
212 |     root_logger.propagate = False
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:213:1: W293 [*] Blank line contains whitespace
    |
211 |     # Prevent propagation to root logger (which might have stdout handlers)
212 |     root_logger.propagate = False
213 |     
    | ^^^^ W293
214 |     return root_logger
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:220:1: W293 Blank line contains whitespace
    |
218 |     """
219 |     Get a logger for a Plugin Host module.
220 |     
    | ^^^^ W293
221 |     Args:
222 |         name: Logger name (will be prefixed with "plugin_host.")
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:223:1: W293 Blank line contains whitespace
    |
221 |     Args:
222 |         name: Logger name (will be prefixed with "plugin_host.")
223 |         
    | ^^^^^^^^ W293
224 |     Returns:
225 |         Configured logger instance
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:226:1: W293 Blank line contains whitespace
    |
224 |     Returns:
225 |         Configured logger instance
226 |         
    | ^^^^^^^^ W293
227 |     Example:
228 |         >>> logger = get_logger("discovery")
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:248:1: W293 Blank line contains whitespace
    |
246 |     """
247 |     Add rotating file logging in addition to stderr.
248 |     
    | ^^^^ W293
249 |     Args:
250 |         log_file: Path to log file
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:256:1: W293 [*] Blank line contains whitespace
    |
254 |     """
255 |     from logging.handlers import RotatingFileHandler
256 |     
    | ^^^^ W293
257 |     # Ensure log directory exists
258 |     log_path = Path(log_file)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:260:1: W293 [*] Blank line contains whitespace
    |
258 |     log_path = Path(log_file)
259 |     log_path.parent.mkdir(parents=True, exist_ok=True)
260 |     
    | ^^^^ W293
261 |     # Get root logger
262 |     root_logger = logging.getLogger(LOGGER_PREFIX)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:263:1: W293 [*] Blank line contains whitespace
    |
261 |     # Get root logger
262 |     root_logger = logging.getLogger(LOGGER_PREFIX)
263 |     
    | ^^^^ W293
264 |     # Create rotating file handler
265 |     file_handler = RotatingFileHandler(
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:271:1: W293 [*] Blank line contains whitespace
    |
269 |         encoding='utf-8'
270 |     )
271 |     
    | ^^^^ W293
272 |     # Configure handler
273 |     numeric_level = LOG_LEVELS.get(level.upper(), logging.DEBUG)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:275:1: W293 [*] Blank line contains whitespace
    |
273 |     numeric_level = LOG_LEVELS.get(level.upper(), logging.DEBUG)
274 |     file_handler.setLevel(numeric_level)
275 |     
    | ^^^^ W293
276 |     formatter = logging.Formatter(
277 |         fmt=DEFAULT_LOG_FORMAT,
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:281:1: W293 [*] Blank line contains whitespace
    |
279 |     )
280 |     file_handler.setFormatter(formatter)
281 |     
    | ^^^^ W293
282 |     # Add to root logger
283 |     root_logger.addHandler(file_handler)
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:293:1: W293 Blank line contains whitespace
    |
291 |     """
292 |     Log startup information for debugging.
293 |     
    | ^^^^ W293
294 |     Args:
295 |         logger: Logger to use for output
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:311:1: W293 Blank line contains whitespace
    |
309 |     """
310 |     Log shutdown information for debugging.
311 |     
    | ^^^^ W293
312 |     Args:
313 |         logger: Logger to use for output
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:328:5: I001 [*] Import block is un-sorted or un-formatted
    |
326 | # Core modules (lazy imports to avoid circular dependencies)
327 | def _import_discovery():
328 |     from .discovery import HybridDiscovery, DiscoveredPlugin, discover_plugins
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
329 |     return HybridDiscovery, DiscoveredPlugin, discover_plugins
    |
    = help: Organize imports

plugins\_host\__init__.py:336:5: I001 [*] Import block is un-sorted or un-formatted
    |
335 | def _import_loader():
336 |     from .loader import PluginLoader, LoadedPlugin, initialize_plugin, shutdown_plugin
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
337 |     return PluginLoader, LoadedPlugin, initialize_plugin, shutdown_plugin
    |
    = help: Organize imports

plugins\_host\__init__.py:340:5: I001 [*] Import block is un-sorted or un-formatted
    |
339 | def _import_manager():
340 |     from .manager import PluginManager, HotSwapResult, get_manager, set_manager
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
341 |     return PluginManager, HotSwapResult, get_manager, set_manager
    |
    = help: Organize imports

plugins\_host\__init__.py:344:5: I001 [*] Import block is un-sorted or un-formatted
    |
343 | def _import_protocol():
344 |     from .protocol import JsonRpcRouter, JsonRpcRequest, JsonRpcResponse, JsonRpcError
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
345 |     return JsonRpcRouter, JsonRpcRequest, JsonRpcResponse, JsonRpcError
    |
    = help: Organize imports

plugins\_host\__init__.py:348:5: I001 [*] Import block is un-sorted or un-formatted
    |
347 | def _import_isolation():
348 |     from .isolation import IsolatedExecutor, CrashReport, ExecutionResult
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
349 |     return IsolatedExecutor, CrashReport, ExecutionResult
    |
    = help: Organize imports

plugins\_host\__init__.py:360:1: W293 [*] Blank line contains whitespace
    |
358 |     # Version
359 |     "__version__",
360 |     
    | ^^^^ W293
361 |     # Logging
362 |     "configure_host_logging",
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:369:1: W293 [*] Blank line contains whitespace
    |
367 |     "StderrHandler",
368 |     "JsonRpcSafeFormatter",
369 |     
    | ^^^^ W293
370 |     # Constants
371 |     "LOGGER_PREFIX",
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:375:1: W293 [*] Blank line contains whitespace
    |
373 |     "DEFAULT_DATE_FORMAT",
374 |     "LOG_LEVELS",
375 |     
    | ^^^^ W293
376 |     # Lazy import helpers (for avoiding circular imports)
377 |     "_import_discovery",
    |
    = help: Remove whitespace from blank line

plugins\_host\__init__.py:378:25: W291 [*] Trailing whitespace
    |
376 |     # Lazy import helpers (for avoiding circular imports)
377 |     "_import_discovery",
378 |     "_import_validator", 
    |                         ^ W291
379 |     "_import_loader",
380 |     "_import_manager",
    |
    = help: Remove trailing whitespace

plugins\_host\__main__.py:25:1: W293 Blank line contains whitespace
   |
23 | Usage:
24 |     python -m plugins._host [--plugins-dir ./plugins] [--config-dir ./config] [--log-level INFO]
25 |     
   | ^^^^ W293
26 | The host reads JSON-RPC requests line-by-line from stdin:
27 |     {"jsonrpc": "2.0", "method": "plugin/list", "params": {}, "id": 1}
   |
   = help: Remove whitespace from blank line

plugins\_host\__main__.py:28:1: W293 Blank line contains whitespace
   |
26 | The host reads JSON-RPC requests line-by-line from stdin:
27 |     {"jsonrpc": "2.0", "method": "plugin/list", "params": {}, "id": 1}
28 |     
   | ^^^^ W293
29 | And writes JSON-RPC responses to stdout:
30 |     {"jsonrpc": "2.0", "result": [...], "id": 1}
   |
   = help: Remove whitespace from blank line

plugins\_host\__main__.py:77:1: I001 [*] Import block is un-sorted or un-formatted
    |
 75 |   # ============================================
 76 |
 77 | / import argparse
 78 | | import asyncio
 79 | | import json
 80 | | import logging
 81 | | import signal
 82 | | import time
 83 | | import traceback
 84 | | from datetime import datetime
 85 | | from pathlib import Path
 86 | | from typing import Any, Dict, List, Optional, Union
 87 | |
 88 | | # ============================================
 89 | | # LOCAL IMPORTS
 90 | | # ============================================
 91 | |
 92 | | # Import package initialization (configures logging infrastructure)
 93 | | from . import (
 94 | |     __version__,
 95 | |     configure_host_logging,
 96 | |     get_logger,
 97 | |     log_startup_info,
 98 | |     log_shutdown_info,
 99 | |     LOGGER_PREFIX,
100 | | )
101 | |
102 | | # Import core components
103 | | from .discovery import HybridDiscovery
104 | | from .isolation import IsolatedExecutor, get_executor, set_executor
105 | | from .loader import PluginLoader
106 | | from .manager import PluginManager, get_manager, set_manager
107 | | from .protocol import (
108 | |     ErrorCodes,
109 | |     JsonRpcRequest,
110 | |     JsonRpcResponse,
111 | |     JsonRpcRouter,
112 | | )
113 | | from .shutdown import (
114 | |     ShutdownHandler,
115 | |     ShutdownReason,
116 | |     create_shutdown_handler,
117 | |     get_shutdown_handler,
118 | | )
119 | | from .validator import PluginValidator
    | |______________________________________^ I001
120 |
121 |   # ============================================
    |
    = help: Organize imports

plugins\_host\__main__.py:80:8: F401 [*] `logging` imported but unused
   |
78 | import asyncio
79 | import json
80 | import logging
   |        ^^^^^^^ F401
81 | import signal
82 | import time
   |
   = help: Remove unused import: `logging`

plugins\_host\__main__.py:81:8: F401 [*] `signal` imported but unused
   |
79 | import json
80 | import logging
81 | import signal
   |        ^^^^^^ F401
82 | import time
83 | import traceback
   |
   = help: Remove unused import: `signal`

plugins\_host\__main__.py:82:8: F401 [*] `time` imported but unused
   |
80 | import logging
81 | import signal
82 | import time
   |        ^^^^ F401
83 | import traceback
84 | from datetime import datetime
   |
   = help: Remove unused import: `time`

plugins\_host\__main__.py:83:8: F401 [*] `traceback` imported but unused
   |
81 | import signal
82 | import time
83 | import traceback
   |        ^^^^^^^^^ F401
84 | from datetime import datetime
85 | from pathlib import Path
   |
   = help: Remove unused import: `traceback`

plugins\_host\__main__.py:86:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
84 | from datetime import datetime
85 | from pathlib import Path
86 | from typing import Any, Dict, List, Optional, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
87 |
88 | # ============================================
   |

plugins\_host\__main__.py:86:1: UP035 `typing.List` is deprecated, use `list` instead
   |
84 | from datetime import datetime
85 | from pathlib import Path
86 | from typing import Any, Dict, List, Optional, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
87 |
88 | # ============================================
   |

plugins\_host\__main__.py:86:31: F401 [*] `typing.List` imported but unused
   |
84 | from datetime import datetime
85 | from pathlib import Path
86 | from typing import Any, Dict, List, Optional, Union
   |                               ^^^^ F401
87 |
88 | # ============================================
   |
   = help: Remove unused import: `typing.List`

plugins\_host\__main__.py:99:5: F401 [*] `.LOGGER_PREFIX` imported but unused
    |
 97 |     log_startup_info,
 98 |     log_shutdown_info,
 99 |     LOGGER_PREFIX,
    |     ^^^^^^^^^^^^^ F401
100 | )
    |
    = help: Remove unused import: `.LOGGER_PREFIX`

plugins\_host\__main__.py:103:24: F401 [*] `.discovery.HybridDiscovery` imported but unused
    |
102 | # Import core components
103 | from .discovery import HybridDiscovery
    |                        ^^^^^^^^^^^^^^^ F401
104 | from .isolation import IsolatedExecutor, get_executor, set_executor
105 | from .loader import PluginLoader
    |
    = help: Remove unused import: `.discovery.HybridDiscovery`

plugins\_host\__main__.py:104:42: F401 [*] `.isolation.get_executor` imported but unused
    |
102 | # Import core components
103 | from .discovery import HybridDiscovery
104 | from .isolation import IsolatedExecutor, get_executor, set_executor
    |                                          ^^^^^^^^^^^^ F401
105 | from .loader import PluginLoader
106 | from .manager import PluginManager, get_manager, set_manager
    |
    = help: Remove unused import: `.isolation.get_executor`

plugins\_host\__main__.py:105:21: F401 [*] `.loader.PluginLoader` imported but unused
    |
103 | from .discovery import HybridDiscovery
104 | from .isolation import IsolatedExecutor, get_executor, set_executor
105 | from .loader import PluginLoader
    |                     ^^^^^^^^^^^^ F401
106 | from .manager import PluginManager, get_manager, set_manager
107 | from .protocol import (
    |
    = help: Remove unused import: `.loader.PluginLoader`

plugins\_host\__main__.py:106:37: F401 [*] `.manager.get_manager` imported but unused
    |
104 | from .isolation import IsolatedExecutor, get_executor, set_executor
105 | from .loader import PluginLoader
106 | from .manager import PluginManager, get_manager, set_manager
    |                                     ^^^^^^^^^^^ F401
107 | from .protocol import (
108 |     ErrorCodes,
    |
    = help: Remove unused import: `.manager.get_manager`

plugins\_host\__main__.py:109:5: F401 [*] `.protocol.JsonRpcRequest` imported but unused
    |
107 | from .protocol import (
108 |     ErrorCodes,
109 |     JsonRpcRequest,
    |     ^^^^^^^^^^^^^^ F401
110 |     JsonRpcResponse,
111 |     JsonRpcRouter,
    |
    = help: Remove unused import

plugins\_host\__main__.py:110:5: F401 [*] `.protocol.JsonRpcResponse` imported but unused
    |
108 |     ErrorCodes,
109 |     JsonRpcRequest,
110 |     JsonRpcResponse,
    |     ^^^^^^^^^^^^^^^ F401
111 |     JsonRpcRouter,
112 | )
    |
    = help: Remove unused import

plugins\_host\__main__.py:117:5: F401 [*] `.shutdown.get_shutdown_handler` imported but unused
    |
115 |     ShutdownReason,
116 |     create_shutdown_handler,
117 |     get_shutdown_handler,
    |     ^^^^^^^^^^^^^^^^^^^^ F401
118 | )
119 | from .validator import PluginValidator
    |
    = help: Remove unused import: `.shutdown.get_shutdown_handler`

plugins\_host\__main__.py:119:24: F401 [*] `.validator.PluginValidator` imported but unused
    |
117 |     get_shutdown_handler,
118 | )
119 | from .validator import PluginValidator
    |                        ^^^^^^^^^^^^^^^ F401
120 |
121 | # ============================================
    |
    = help: Remove unused import: `.validator.PluginValidator`

plugins\_host\__main__.py:132:29: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
130 | # ============================================
131 |
132 | def send_response(response: Dict[str, Any]) -> None:
    |                             ^^^^ UP006
133 |     """
134 |     Send a JSON-RPC response to stdout.
    |
    = help: Replace with `dict`

plugins\_host\__main__.py:135:1: W293 Blank line contains whitespace
    |
133 |     """
134 |     Send a JSON-RPC response to stdout.
135 |     
    | ^^^^ W293
136 |     Args:
137 |         response: JSON-RPC response dictionary
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:138:1: W293 Blank line contains whitespace
    |
136 |     Args:
137 |         response: JSON-RPC response dictionary
138 |         
    | ^^^^^^^^ W293
139 |     Note:
140 |         Uses compact JSON (no whitespace) and explicit flush
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:153:17: UP007 [*] Use `X | Y` for type annotations
    |
152 | def send_error(
153 |     request_id: Optional[Union[str, int]],
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
154 |     code: int,
155 |     message: str,
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:153:26: UP007 [*] Use `X | Y` for type annotations
    |
152 | def send_error(
153 |     request_id: Optional[Union[str, int]],
    |                          ^^^^^^^^^^^^^^^ UP007
154 |     code: int,
155 |     message: str,
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:156:11: UP007 [*] Use `X | Y` for type annotations
    |
154 |     code: int,
155 |     message: str,
156 |     data: Optional[Dict[str, Any]] = None
    |           ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
157 | ) -> None:
158 |     """
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:156:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
154 |     code: int,
155 |     message: str,
156 |     data: Optional[Dict[str, Any]] = None
    |                    ^^^^ UP006
157 | ) -> None:
158 |     """
    |
    = help: Replace with `dict`

plugins\_host\__main__.py:160:1: W293 Blank line contains whitespace
    |
158 |     """
159 |     Send a JSON-RPC error response.
160 |     
    | ^^^^ W293
161 |     Args:
162 |         request_id: Request ID (None for parse errors)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:170:1: W293 [*] Blank line contains whitespace
    |
168 |     if data is not None:
169 |         error_obj["data"] = data
170 |     
    | ^^^^ W293
171 |     response = {
172 |         "jsonrpc": "2.0",
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:180:17: UP007 [*] Use `X | Y` for type annotations
    |
179 | def send_result(
180 |     request_id: Optional[Union[str, int]],
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
181 |     result: Any
182 | ) -> None:
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:180:26: UP007 [*] Use `X | Y` for type annotations
    |
179 | def send_result(
180 |     request_id: Optional[Union[str, int]],
    |                          ^^^^^^^^^^^^^^^ UP007
181 |     result: Any
182 | ) -> None:
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:185:1: W293 Blank line contains whitespace
    |
183 |     """
184 |     Send a JSON-RPC success response.
185 |     
    | ^^^^ W293
186 |     Args:
187 |         request_id: Request ID
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:203:13: UP007 [*] Use `X | Y` for type annotations
    |
202 | async def handle_shutdown_method(
203 |     params: Optional[Dict[str, Any]],
    |             ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
204 |     request_id: Optional[Union[str, int]],
205 |     shutdown_handler: ShutdownHandler
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:203:22: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
202 | async def handle_shutdown_method(
203 |     params: Optional[Dict[str, Any]],
    |                      ^^^^ UP006
204 |     request_id: Optional[Union[str, int]],
205 |     shutdown_handler: ShutdownHandler
    |
    = help: Replace with `dict`

plugins\_host\__main__.py:204:17: UP007 [*] Use `X | Y` for type annotations
    |
202 | async def handle_shutdown_method(
203 |     params: Optional[Dict[str, Any]],
204 |     request_id: Optional[Union[str, int]],
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
205 |     shutdown_handler: ShutdownHandler
206 | ) -> Dict[str, Any]:
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:204:26: UP007 [*] Use `X | Y` for type annotations
    |
202 | async def handle_shutdown_method(
203 |     params: Optional[Dict[str, Any]],
204 |     request_id: Optional[Union[str, int]],
    |                          ^^^^^^^^^^^^^^^ UP007
205 |     shutdown_handler: ShutdownHandler
206 | ) -> Dict[str, Any]:
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:206:6: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
204 |     request_id: Optional[Union[str, int]],
205 |     shutdown_handler: ShutdownHandler
206 | ) -> Dict[str, Any]:
    |      ^^^^ UP006
207 |     """
208 |     Handle the 'shutdown' JSON-RPC method.
    |
    = help: Replace with `dict`

plugins\_host\__main__.py:209:1: W293 Blank line contains whitespace
    |
207 |     """
208 |     Handle the 'shutdown' JSON-RPC method.
209 |     
    | ^^^^ W293
210 |     Args:
211 |         params: Method parameters (optional reason)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:214:1: W293 Blank line contains whitespace
    |
212 |         request_id: Request ID
213 |         shutdown_handler: ShutdownHandler instance
214 |         
    | ^^^^^^^^ W293
215 |     Returns:
216 |         Acknowledgment response
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:220:1: W293 [*] Blank line contains whitespace
    |
218 |     reason = params.get("reason", "requested") if params else "requested"
219 |     logger.info(f"Shutdown method called: reason={reason}")
220 |     
    | ^^^^ W293
221 |     # Signal shutdown (will be picked up by main loop)
222 |     shutdown_handler._initiate_shutdown(ShutdownReason.REQUESTED)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:223:1: W293 [*] Blank line contains whitespace
    |
221 |     # Signal shutdown (will be picked up by main loop)
222 |     shutdown_handler._initiate_shutdown(ShutdownReason.REQUESTED)
223 |     
    | ^^^^ W293
224 |     return {
225 |         "status": "shutting_down",
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:241:1: W293 Blank line contains whitespace
    |
239 |     """
240 |     Main JSON-RPC read loop.
241 |     
    | ^^^^ W293
242 |     Reads JSON-RPC requests from stdin line-by-line and processes them.
243 |     Continues until shutdown is requested or stdin is closed.
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:244:1: W293 Blank line contains whitespace
    |
242 |     Reads JSON-RPC requests from stdin line-by-line and processes them.
243 |     Continues until shutdown is requested or stdin is closed.
244 |     
    | ^^^^ W293
245 |     Args:
246 |         router: JsonRpcRouter for request handling
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:250:1: W293 [*] Blank line contains whitespace
    |
248 |     """
249 |     logger.info("Starting JSON-RPC read loop")
250 |     
    | ^^^^ W293
251 |     loop = asyncio.get_event_loop()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:252:1: W293 [*] Blank line contains whitespace
    |
251 |     loop = asyncio.get_event_loop()
252 |     
    | ^^^^ W293
253 |     # Create a reader for stdin
254 |     reader = asyncio.StreamReader()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:256:1: W293 [*] Blank line contains whitespace
    |
254 |     reader = asyncio.StreamReader()
255 |     protocol = asyncio.StreamReaderProtocol(reader)
256 |     
    | ^^^^ W293
257 |     try:
258 |         await loop.connect_read_pipe(lambda: protocol, sys.stdin)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:263:1: W293 [*] Blank line contains whitespace
    |
261 |         send_error(None, ErrorCodes.INTERNAL_ERROR, f"Stdin connection failed: {e}")
262 |         return
263 |     
    | ^^^^ W293
264 |     logger.info("JSON-RPC read loop ready, waiting for requests...")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:265:1: W293 [*] Blank line contains whitespace
    |
264 |     logger.info("JSON-RPC read loop ready, waiting for requests...")
265 |     
    | ^^^^ W293
266 |     request_count = 0
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:267:1: W293 [*] Blank line contains whitespace
    |
266 |     request_count = 0
267 |     
    | ^^^^ W293
268 |     while not shutdown_handler.is_shutdown_requested():
269 |         try:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:276:20: UP041 [*] Replace aliased errors with `TimeoutError`
    |
274 |                     timeout=1.0  # Check shutdown flag every second
275 |                 )
276 |             except asyncio.TimeoutError:
    |                    ^^^^^^^^^^^^^^^^^^^^ UP041
277 |                 continue
    |
    = help: Replace `asyncio.TimeoutError` with builtin `TimeoutError`

plugins\_host\__main__.py:278:1: W293 [*] Blank line contains whitespace
    |
276 |             except asyncio.TimeoutError:
277 |                 continue
278 |             
    | ^^^^^^^^^^^^ W293
279 |             # Check for EOF (stdin closed)
280 |             if not line_bytes:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:284:1: W293 [*] Blank line contains whitespace
    |
282 |                 shutdown_handler._initiate_shutdown(ShutdownReason.EOF)
283 |                 break
284 |             
    | ^^^^^^^^^^^^ W293
285 |             # Decode and strip
286 |             line = line_bytes.decode('utf-8', errors='replace').strip()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:287:1: W293 [*] Blank line contains whitespace
    |
285 |             # Decode and strip
286 |             line = line_bytes.decode('utf-8', errors='replace').strip()
287 |             
    | ^^^^^^^^^^^^ W293
288 |             # Skip empty lines
289 |             if not line:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:291:1: W293 [*] Blank line contains whitespace
    |
289 |             if not line:
290 |                 continue
291 |             
    | ^^^^^^^^^^^^ W293
292 |             request_count += 1
293 |             logger.debug(f"Received request #{request_count}: {line[:100]}...")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:294:1: W293 [*] Blank line contains whitespace
    |
292 |             request_count += 1
293 |             logger.debug(f"Received request #{request_count}: {line[:100]}...")
294 |             
    | ^^^^^^^^^^^^ W293
295 |             # Parse JSON
296 |             try:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:297:17: F841 Local variable `data` is assigned to but never used
    |
295 |             # Parse JSON
296 |             try:
297 |                 data = json.loads(line)
    |                 ^^^^ F841
298 |             except json.JSONDecodeError as e:
299 |                 logger.warning(f"JSON parse error: {e}")
    |
    = help: Remove assignment to unused variable `data`

plugins\_host\__main__.py:302:1: W293 [*] Blank line contains whitespace
    |
300 |                 send_error(None, ErrorCodes.PARSE_ERROR, f"Parse error: {e}")
301 |                 continue
302 |             
    | ^^^^^^^^^^^^ W293
303 |             # Parse as JSON-RPC request
304 |             request, error_response = router.parse_request(line)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:305:1: W293 [*] Blank line contains whitespace
    |
303 |             # Parse as JSON-RPC request
304 |             request, error_response = router.parse_request(line)
305 |             
    | ^^^^^^^^^^^^ W293
306 |             if error_response:
307 |                 send_response(error_response.to_dict())
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:309:1: W293 [*] Blank line contains whitespace
    |
307 |                 send_response(error_response.to_dict())
308 |                 continue
309 |             
    | ^^^^^^^^^^^^ W293
310 |             if not request:
311 |                 logger.warning("Failed to parse request")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:314:1: W293 [*] Blank line contains whitespace
    |
312 |                 send_error(None, ErrorCodes.INVALID_REQUEST, "Invalid request")
313 |                 continue
314 |             
    | ^^^^^^^^^^^^ W293
315 |             # Track in-flight request
316 |             if request.id is not None:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:318:1: W293 [*] Blank line contains whitespace
    |
316 |             if request.id is not None:
317 |                 shutdown_handler.request_started(request.id)
318 |             
    | ^^^^^^^^^^^^ W293
319 |             try:
320 |                 # Check for shutdown method (handle specially)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:330:1: W293 [*] Blank line contains whitespace
    |
328 |                         send_result(request.id, result)
329 |                     break  # Exit loop after shutdown
330 |                 
    | ^^^^^^^^^^^^^^^^ W293
331 |                 # Route to handler
332 |                 response = await router.handle_request(request)
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:333:1: W293 [*] Blank line contains whitespace
    |
331 |                 # Route to handler
332 |                 response = await router.handle_request(request)
333 |                 
    | ^^^^^^^^^^^^^^^^ W293
334 |                 # Send response (skip for notifications)
335 |                 if response and not request.is_notification:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:337:1: W293 [*] Blank line contains whitespace
    |
335 |                 if response and not request.is_notification:
336 |                     send_response(response.to_dict())
337 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
338 |             except Exception as e:
339 |                 logger.exception(f"Error handling request: {e}")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:350:1: W293 [*] Blank line contains whitespace
    |
348 |                 if request.id is not None:
349 |                     shutdown_handler.request_completed(request.id)
350 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
351 |         except asyncio.CancelledError:
352 |             logger.info("Read loop cancelled")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:354:1: W293 [*] Blank line contains whitespace
    |
352 |             logger.info("Read loop cancelled")
353 |             break
354 |             
    | ^^^^^^^^^^^^ W293
355 |         except Exception as e:
356 |             logger.exception(f"Unexpected error in read loop: {e}")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:358:1: W293 [*] Blank line contains whitespace
    |
356 |             logger.exception(f"Unexpected error in read loop: {e}")
357 |             send_error(None, ErrorCodes.INTERNAL_ERROR, f"Read loop error: {e}")
358 |     
    | ^^^^ W293
359 |     logger.info(f"Read loop ended after {request_count} requests")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:369:17: UP007 [*] Use `X | Y` for type annotations
    |
367 |     router: JsonRpcRouter,
368 |     shutdown_handler: ShutdownHandler,
369 |     event_loop: Optional[asyncio.AbstractEventLoop] = None
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
370 | ) -> None:
371 |     """
    |
    = help: Convert to `X | Y`

plugins\_host\__main__.py:418:17: F841 Local variable `data` is assigned to but never used
    |
416 |             # Parse JSON
417 |             try:
418 |                 data = json.loads(line)
    |                 ^^^^ F841
419 |             except json.JSONDecodeError as e:
420 |                 logger.warning(f"JSON parse error: {e}")
    |
    = help: Remove assignment to unused variable `data`

plugins\_host\__main__.py:510:1: W293 Blank line contains whitespace
    |
508 |     """
509 |     Async main function.
510 |     
    | ^^^^ W293
511 |     Args:
512 |         args: Parsed command-line arguments
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:513:1: W293 Blank line contains whitespace
    |
511 |     Args:
512 |         args: Parsed command-line arguments
513 |         
    | ^^^^^^^^ W293
514 |     Returns:
515 |         Exit code
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:520:1: W293 [*] Blank line contains whitespace
    |
518 |     configure_host_logging(level=args.log_level)
519 |     log_startup_info(logger)
520 |     
    | ^^^^ W293
521 |     logger.info(f"Plugins directory: {args.plugins_dir}")
522 |     logger.info(f"Config directory: {args.config_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:523:1: W293 [*] Blank line contains whitespace
    |
521 |     logger.info(f"Plugins directory: {args.plugins_dir}")
522 |     logger.info(f"Config directory: {args.config_dir}")
523 |     
    | ^^^^ W293
524 |     # Resolve paths
525 |     plugins_dir = Path(args.plugins_dir).resolve()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:527:1: W293 [*] Blank line contains whitespace
    |
525 |     plugins_dir = Path(args.plugins_dir).resolve()
526 |     config_dir = Path(args.config_dir).resolve()
527 |     
    | ^^^^ W293
528 |     # Validate directories exist
529 |     if not plugins_dir.exists():
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:533:1: W293 [*] Blank line contains whitespace
    |
531 |         send_error(None, ErrorCodes.INTERNAL_ERROR, f"Plugins directory not found: {plugins_dir}")
532 |         return 1
533 |     
    | ^^^^ W293
534 |     if not config_dir.exists():
535 |         logger.warning(f"Config directory not found: {config_dir}, creating...")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:537:1: W293 [*] Blank line contains whitespace
    |
535 |         logger.warning(f"Config directory not found: {config_dir}, creating...")
536 |         config_dir.mkdir(parents=True, exist_ok=True)
537 |     
    | ^^^^ W293
538 |     # Initialize components
539 |     logger.info("Initializing plugin infrastructure...")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:540:1: W293 [*] Blank line contains whitespace
    |
538 |     # Initialize components
539 |     logger.info("Initializing plugin infrastructure...")
540 |     
    | ^^^^ W293
541 |     # Create isolated executor
542 |     executor = IsolatedExecutor(
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:548:1: W293 [*] Blank line contains whitespace
    |
546 |     )
547 |     set_executor(executor)
548 |     
    | ^^^^ W293
549 |     # Create plugin manager
550 |     manager = PluginManager(
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:556:1: W293 [*] Blank line contains whitespace
    |
554 |     )
555 |     set_manager(manager)
556 |     
    | ^^^^ W293
557 |     # Start plugin manager (performs initial discovery)
558 |     await manager.start()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:559:1: W293 [*] Blank line contains whitespace
    |
557 |     # Start plugin manager (performs initial discovery)
558 |     await manager.start()
559 |     
    | ^^^^ W293
560 |     # Create shutdown handler
561 |     loop = asyncio.get_event_loop()
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:567:1: W293 [*] Blank line contains whitespace
    |
565 |         loop=loop
566 |     )
567 |     
    | ^^^^ W293
568 |     # Create JSON-RPC router
569 |     router = JsonRpcRouter(
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:574:1: W293 [*] Blank line contains whitespace
    |
572 |         default_timeout=30.0
573 |     )
574 |     
    | ^^^^ W293
575 |     logger.info("Plugin Host initialized successfully")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:576:1: W293 [*] Blank line contains whitespace
    |
575 |     logger.info("Plugin Host initialized successfully")
576 |     
    | ^^^^ W293
577 |     # Auto-load plugins if requested
578 |     if args.auto_load:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:587:1: W293 [*] Blank line contains whitespace
    |
585 |             except Exception as e:
586 |                 logger.warning(f"Failed to auto-load {plugin.name}: {e}")
587 |     
    | ^^^^ W293
588 |     # Run read loop
589 |     exit_code = 0
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:590:1: W293 [*] Blank line contains whitespace
    |
588 |     # Run read loop
589 |     exit_code = 0
590 |     
    | ^^^^ W293
591 |     try:
592 |         if args.sync_mode:
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:598:1: W293 [*] Blank line contains whitespace
    |
596 |             # Run async read loop
597 |             await run_read_loop(router, shutdown_handler)
598 |             
    | ^^^^^^^^^^^^ W293
599 |     except asyncio.CancelledError:
600 |         logger.info("Main task cancelled")
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:604:1: W293 [*] Blank line contains whitespace
    |
602 |         logger.exception(f"Fatal error: {e}")
603 |         exit_code = 1
604 |     
    | ^^^^ W293
605 |     # Perform graceful shutdown
606 |     if shutdown_handler.is_shutdown_requested():
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:612:1: W293 [*] Blank line contains whitespace
    |
610 |     else:
611 |         exit_code = await shutdown_handler.shutdown(ShutdownReason.NORMAL)
612 |     
    | ^^^^ W293
613 |     log_shutdown_info(logger, reason=str(shutdown_handler.get_state().reason))
    |
    = help: Remove whitespace from blank line

plugins\_host\__main__.py:614:1: W293 [*] Blank line contains whitespace
    |
613 |     log_shutdown_info(logger, reason=str(shutdown_handler.get_state().reason))
614 |     
    | ^^^^ W293
615 |     return exit_code
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:24:8: F401 [*] `os` imported but unused
   |
22 | import json
23 | import logging
24 | import os
   |        ^^ F401
25 | import re
26 | import sys
   |
   = help: Remove unused import: `os`

plugins\_host\discovery.py:29:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
27 | from dataclasses import dataclass, field
28 | from pathlib import Path
29 | from typing import Any, Dict, List, Optional, Set, Tuple
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
30 |
31 | import yaml
   |

plugins\_host\discovery.py:29:1: UP035 `typing.List` is deprecated, use `list` instead
   |
27 | from dataclasses import dataclass, field
28 | from pathlib import Path
29 | from typing import Any, Dict, List, Optional, Set, Tuple
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
30 |
31 | import yaml
   |

plugins\_host\discovery.py:29:1: UP035 `typing.Set` is deprecated, use `set` instead
   |
27 | from dataclasses import dataclass, field
28 | from pathlib import Path
29 | from typing import Any, Dict, List, Optional, Set, Tuple
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
30 |
31 | import yaml
   |

plugins\_host\discovery.py:29:1: UP035 `typing.Tuple` is deprecated, use `tuple` instead
   |
27 | from dataclasses import dataclass, field
28 | from pathlib import Path
29 | from typing import Any, Dict, List, Optional, Set, Tuple
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
30 |
31 | import yaml
   |

plugins\_host\discovery.py:41:1: W293 Blank line contains whitespace
   |
39 |     """
40 |     Represents a discovered plugin before loading.
41 |     
   | ^^^^ W293
42 |     Attributes:
43 |         path: Absolute path to plugin folder
   |
   = help: Remove whitespace from blank line

plugins\_host\discovery.py:53:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
51 |     """
52 |     path: Path
53 |     manifest: Dict[str, Any]
   |               ^^^^ UP006
54 |     contract: str
55 |     name: str
   |
   = help: Replace with `dict`

plugins\_host\discovery.py:59:13: UP006 [*] Use `list` instead of `List` for type annotation
   |
57 |     entry_point: str
58 |     valid: bool = True
59 |     errors: List[str] = field(default_factory=list)
   |             ^^^^ UP006
60 |     
61 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `list`

plugins\_host\discovery.py:60:1: W293 [*] Blank line contains whitespace
   |
58 |     valid: bool = True
59 |     errors: List[str] = field(default_factory=list)
60 |     
   | ^^^^ W293
61 |     def to_dict(self) -> Dict[str, Any]:
62 |         """Serialize for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

plugins\_host\discovery.py:61:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
59 |     errors: List[str] = field(default_factory=list)
60 |     
61 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
62 |         """Serialize for JSON-RPC responses."""
63 |         return {
   |
   = help: Replace with `dict`

plugins\_host\discovery.py:80:1: W293 Blank line contains whitespace
   |
78 |     1. Static registry (contract_prefixes.yaml) for valid prefixes
79 |     2. Dynamic filesystem scan for installed plugins
80 |     
   | ^^^^ W293
81 |     Patterns applied:
82 |         - KISS: Simple folder scan with manifest parsing
   |
   = help: Remove whitespace from blank line

plugins\_host\discovery.py:85:1: W293 Blank line contains whitespace
   |
83 |         - YAGNI: No caching, lazy loading, or watch mode until needed
84 |         - Contract-first: Validates prefix against static registry
85 |     
   | ^^^^ W293
86 |     Usage:
87 |         discovery = HybridDiscovery(plugins_dir="./plugins", config_dir="./config")
   |
   = help: Remove whitespace from blank line

plugins\_host\discovery.py:93:1: W293 [*] Blank line contains whitespace
   |
91 |                 print(f"Found: {plugin.name} ({plugin.contract})")
92 |     """
93 |     
   | ^^^^ W293
94 |     def __init__(
95 |         self,
   |
   = help: Remove whitespace from blank line

plugins\_host\discovery.py:101:1: W293 Blank line contains whitespace
    |
 99 |         """
100 |         Initialize discovery system.
101 |         
    | ^^^^^^^^ W293
102 |         Args:
103 |             plugins_dir: Path to plugins directory to scan
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |         self.plugins_dir = Path(plugins_dir).resolve()
107 |         self.config_dir = Path(config_dir).resolve()
108 |         
    | ^^^^^^^^ W293
109 |         # Load valid prefixes from config
110 |         self._prefixes: Dict[str, Dict[str, Any]] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:110:25: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
109 |         # Load valid prefixes from config
110 |         self._prefixes: Dict[str, Dict[str, Any]] = {}
    |                         ^^^^ UP006
111 |         self._prefix_pattern: Optional[re.Pattern] = None
112 |         self._load_prefixes()
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:110:35: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
109 |         # Load valid prefixes from config
110 |         self._prefixes: Dict[str, Dict[str, Any]] = {}
    |                                   ^^^^ UP006
111 |         self._prefix_pattern: Optional[re.Pattern] = None
112 |         self._load_prefixes()
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:111:31: UP007 [*] Use `X | Y` for type annotations
    |
109 |         # Load valid prefixes from config
110 |         self._prefixes: Dict[str, Dict[str, Any]] = {}
111 |         self._prefix_pattern: Optional[re.Pattern] = None
    |                               ^^^^^^^^^^^^^^^^^^^^ UP007
112 |         self._load_prefixes()
    |
    = help: Convert to `X | Y`

plugins\_host\discovery.py:113:1: W293 [*] Blank line contains whitespace
    |
111 |         self._prefix_pattern: Optional[re.Pattern] = None
112 |         self._load_prefixes()
113 |         
    | ^^^^^^^^ W293
114 |         logger.debug(f"HybridDiscovery initialized: plugins={self.plugins_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:115:1: W293 [*] Blank line contains whitespace
    |
114 |         logger.debug(f"HybridDiscovery initialized: plugins={self.plugins_dir}")
115 |     
    | ^^^^ W293
116 |     def _load_prefixes(self) -> None:
117 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:119:1: W293 Blank line contains whitespace
    |
117 |         """
118 |         Load valid contract prefixes from contract_prefixes.yaml (D005).
119 |         
    | ^^^^^^^^ W293
120 |         Raises:
121 |             FileNotFoundError: If contract_prefixes.yaml not found
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:125:1: W293 [*] Blank line contains whitespace
    |
123 |         """
124 |         prefixes_path = self.config_dir / "contract_prefixes.yaml"
125 |         
    | ^^^^^^^^ W293
126 |         if not prefixes_path.exists():
127 |             logger.warning(f"contract_prefixes.yaml not found at {prefixes_path}")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:135:18: UP015 [*] Unnecessary open mode parameters
    |
133 |             }
134 |         else:
135 |             with open(prefixes_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
136 |                 config = yaml.safe_load(f)
137 |                 self._prefixes = config.get("prefixes", {})
    |
    = help: Remove open mode parameters

plugins\_host\discovery.py:138:1: W293 [*] Blank line contains whitespace
    |
136 |                 config = yaml.safe_load(f)
137 |                 self._prefixes = config.get("prefixes", {})
138 |         
    | ^^^^^^^^ W293
139 |         # Build regex pattern from prefixes
140 |         prefix_list = "|".join(self._prefixes.keys())
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:144:1: W293 [*] Blank line contains whitespace
    |
142 |             rf"^({prefix_list})_[a-z0-9_]+_plugin$"
143 |         )
144 |         
    | ^^^^^^^^ W293
145 |         logger.debug(f"Loaded {len(self._prefixes)} valid prefixes: {list(self._prefixes.keys())}")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:146:1: W293 [*] Blank line contains whitespace
    |
145 |         logger.debug(f"Loaded {len(self._prefixes)} valid prefixes: {list(self._prefixes.keys())}")
146 |     
    | ^^^^ W293
147 |     @property
148 |     def valid_prefixes(self) -> Set[str]:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:148:33: UP006 [*] Use `set` instead of `Set` for type annotation
    |
147 |     @property
148 |     def valid_prefixes(self) -> Set[str]:
    |                                 ^^^ UP006
149 |         """Get set of valid contract prefixes."""
150 |         return set(self._prefixes.keys())
    |
    = help: Replace with `set`

plugins\_host\discovery.py:151:1: W293 [*] Blank line contains whitespace
    |
149 |         """Get set of valid contract prefixes."""
150 |         return set(self._prefixes.keys())
151 |     
    | ^^^^ W293
152 |     def get_prefix_info(self, prefix: str) -> Optional[Dict[str, Any]]:
153 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:152:47: UP007 [*] Use `X | Y` for type annotations
    |
150 |         return set(self._prefixes.keys())
151 |     
152 |     def get_prefix_info(self, prefix: str) -> Optional[Dict[str, Any]]:
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
153 |         """
154 |         Get information about a contract prefix.
    |
    = help: Convert to `X | Y`

plugins\_host\discovery.py:152:56: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
150 |         return set(self._prefixes.keys())
151 |     
152 |     def get_prefix_info(self, prefix: str) -> Optional[Dict[str, Any]]:
    |                                                        ^^^^ UP006
153 |         """
154 |         Get information about a contract prefix.
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:155:1: W293 Blank line contains whitespace
    |
153 |         """
154 |         Get information about a contract prefix.
155 |         
    | ^^^^^^^^ W293
156 |         Args:
157 |             prefix: Contract prefix (e.g., "tts", "llm")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:158:1: W293 Blank line contains whitespace
    |
156 |         Args:
157 |             prefix: Contract prefix (e.g., "tts", "llm")
158 |             
    | ^^^^^^^^^^^^ W293
159 |         Returns:
160 |             Prefix configuration dict or None if not found
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:163:1: W293 [*] Blank line contains whitespace
    |
161 |         """
162 |         return self._prefixes.get(prefix)
163 |     
    | ^^^^ W293
164 |     def validate_folder_name(self, folder_name: str) -> Tuple[bool, Optional[str], List[str]]:
165 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:164:57: UP006 [*] Use `tuple` instead of `Tuple` for type annotation
    |
162 |         return self._prefixes.get(prefix)
163 |     
164 |     def validate_folder_name(self, folder_name: str) -> Tuple[bool, Optional[str], List[str]]:
    |                                                         ^^^^^ UP006
165 |         """
166 |         Validate plugin folder name against naming convention.
    |
    = help: Replace with `tuple`

plugins\_host\discovery.py:164:69: UP007 [*] Use `X | Y` for type annotations
    |
162 |         return self._prefixes.get(prefix)
163 |     
164 |     def validate_folder_name(self, folder_name: str) -> Tuple[bool, Optional[str], List[str]]:
    |                                                                     ^^^^^^^^^^^^^ UP007
165 |         """
166 |         Validate plugin folder name against naming convention.
    |
    = help: Convert to `X | Y`

plugins\_host\discovery.py:164:84: UP006 [*] Use `list` instead of `List` for type annotation
    |
162 |         return self._prefixes.get(prefix)
163 |     
164 |     def validate_folder_name(self, folder_name: str) -> Tuple[bool, Optional[str], List[str]]:
    |                                                                                    ^^^^ UP006
165 |         """
166 |         Validate plugin folder name against naming convention.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:167:1: W293 Blank line contains whitespace
    |
165 |         """
166 |         Validate plugin folder name against naming convention.
167 |         
    | ^^^^^^^^ W293
168 |         Args:
169 |             folder_name: Name of plugin folder (not full path)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:170:1: W293 Blank line contains whitespace
    |
168 |         Args:
169 |             folder_name: Name of plugin folder (not full path)
170 |             
    | ^^^^^^^^^^^^ W293
171 |         Returns:
172 |             Tuple of (is_valid, extracted_prefix, errors)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:175:1: W293 [*] Blank line contains whitespace
    |
173 |         """
174 |         errors = []
175 |         
    | ^^^^^^^^ W293
176 |         # Skip hidden folders and special folders
177 |         if folder_name.startswith("_") or folder_name.startswith("."):
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:179:1: W293 [*] Blank line contains whitespace
    |
177 |         if folder_name.startswith("_") or folder_name.startswith("."):
178 |             return False, None, ["Folder name starts with underscore or dot (reserved)"]
179 |         
    | ^^^^^^^^ W293
180 |         # Check pattern match
181 |         if not self._prefix_pattern:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:183:1: W293 [*] Blank line contains whitespace
    |
181 |         if not self._prefix_pattern:
182 |             return False, None, ["No prefix pattern loaded"]
183 |             
    | ^^^^^^^^^^^^ W293
184 |         match = self._prefix_pattern.match(folder_name)
185 |         if not match:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:192:1: W293 [*] Blank line contains whitespace
    |
190 |             )
191 |             return False, None, errors
192 |         
    | ^^^^^^^^ W293
193 |         prefix = match.group(1)
194 |         return True, prefix, []
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:195:1: W293 [*] Blank line contains whitespace
    |
193 |         prefix = match.group(1)
194 |         return True, prefix, []
195 |     
    | ^^^^ W293
196 |     def parse_manifest(self, plugin_path: Path) -> Tuple[Optional[Dict[str, Any]], List[str]]:
197 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:196:52: UP006 [*] Use `tuple` instead of `Tuple` for type annotation
    |
194 |         return True, prefix, []
195 |     
196 |     def parse_manifest(self, plugin_path: Path) -> Tuple[Optional[Dict[str, Any]], List[str]]:
    |                                                    ^^^^^ UP006
197 |         """
198 |         Parse and validate manifest.json from plugin folder.
    |
    = help: Replace with `tuple`

plugins\_host\discovery.py:196:58: UP007 [*] Use `X | Y` for type annotations
    |
194 |         return True, prefix, []
195 |     
196 |     def parse_manifest(self, plugin_path: Path) -> Tuple[Optional[Dict[str, Any]], List[str]]:
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
197 |         """
198 |         Parse and validate manifest.json from plugin folder.
    |
    = help: Convert to `X | Y`

plugins\_host\discovery.py:196:67: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
194 |         return True, prefix, []
195 |     
196 |     def parse_manifest(self, plugin_path: Path) -> Tuple[Optional[Dict[str, Any]], List[str]]:
    |                                                                   ^^^^ UP006
197 |         """
198 |         Parse and validate manifest.json from plugin folder.
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:196:84: UP006 [*] Use `list` instead of `List` for type annotation
    |
194 |         return True, prefix, []
195 |     
196 |     def parse_manifest(self, plugin_path: Path) -> Tuple[Optional[Dict[str, Any]], List[str]]:
    |                                                                                    ^^^^ UP006
197 |         """
198 |         Parse and validate manifest.json from plugin folder.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:199:1: W293 Blank line contains whitespace
    |
197 |         """
198 |         Parse and validate manifest.json from plugin folder.
199 |         
    | ^^^^^^^^ W293
200 |         Args:
201 |             plugin_path: Path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:202:1: W293 Blank line contains whitespace
    |
200 |         Args:
201 |             plugin_path: Path to plugin folder
202 |             
    | ^^^^^^^^^^^^ W293
203 |         Returns:
204 |             Tuple of (manifest_dict, errors)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:208:1: W293 [*] Blank line contains whitespace
    |
206 |         manifest_path = plugin_path / "manifest.json"
207 |         errors = []
208 |         
    | ^^^^^^^^ W293
209 |         if not manifest_path.exists():
210 |             return None, [f"manifest.json not found in {plugin_path}"]
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:211:1: W293 [*] Blank line contains whitespace
    |
209 |         if not manifest_path.exists():
210 |             return None, [f"manifest.json not found in {plugin_path}"]
211 |         
    | ^^^^^^^^ W293
212 |         try:
213 |             with open(manifest_path, "r", encoding="utf-8") as f:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:213:18: UP015 [*] Unnecessary open mode parameters
    |
212 |         try:
213 |             with open(manifest_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
214 |                 manifest = json.load(f)
215 |         except json.JSONDecodeError as e:
    |
    = help: Remove open mode parameters

plugins\_host\discovery.py:219:1: W293 [*] Blank line contains whitespace
    |
217 |         except Exception as e:
218 |             return None, [f"Error reading manifest.json: {e}"]
219 |         
    | ^^^^^^^^ W293
220 |         # Validate required fields (basic validation, D022 does full schema validation)
221 |         required_fields = ["name", "version", "contract", "entry_point"]
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:222:13: F402 Import `field` from line 27 shadowed by loop variable
    |
220 |         # Validate required fields (basic validation, D022 does full schema validation)
221 |         required_fields = ["name", "version", "contract", "entry_point"]
222 |         for field in required_fields:
    |             ^^^^^ F402
223 |             if field not in manifest:
224 |                 errors.append(f"Missing required field '{field}' in manifest.json")
    |

plugins\_host\discovery.py:225:1: W293 [*] Blank line contains whitespace
    |
223 |             if field not in manifest:
224 |                 errors.append(f"Missing required field '{field}' in manifest.json")
225 |         
    | ^^^^^^^^ W293
226 |         if errors:
227 |             return manifest, errors
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:228:1: W293 [*] Blank line contains whitespace
    |
226 |         if errors:
227 |             return manifest, errors
228 |         
    | ^^^^^^^^ W293
229 |         return manifest, []
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:230:1: W293 [*] Blank line contains whitespace
    |
229 |         return manifest, []
230 |     
    | ^^^^ W293
231 |     def discover_plugin(self, plugin_path: Path) -> DiscoveredPlugin:
232 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:234:1: W293 Blank line contains whitespace
    |
232 |         """
233 |         Discover a single plugin from its folder path.
234 |         
    | ^^^^^^^^ W293
235 |         Args:
236 |             plugin_path: Absolute path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:237:1: W293 Blank line contains whitespace
    |
235 |         Args:
236 |             plugin_path: Absolute path to plugin folder
237 |             
    | ^^^^^^^^^^^^ W293
238 |         Returns:
239 |             DiscoveredPlugin with validation results
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:242:21: UP006 [*] Use `list` instead of `List` for type annotation
    |
240 |         """
241 |         folder_name = plugin_path.name
242 |         all_errors: List[str] = []
    |                     ^^^^ UP006
243 |         
244 |         # Validate folder name
    |
    = help: Replace with `list`

plugins\_host\discovery.py:243:1: W293 [*] Blank line contains whitespace
    |
241 |         folder_name = plugin_path.name
242 |         all_errors: List[str] = []
243 |         
    | ^^^^^^^^ W293
244 |         # Validate folder name
245 |         name_valid, prefix, name_errors = self.validate_folder_name(folder_name)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:247:1: W293 [*] Blank line contains whitespace
    |
245 |         name_valid, prefix, name_errors = self.validate_folder_name(folder_name)
246 |         all_errors.extend(name_errors)
247 |         
    | ^^^^^^^^ W293
248 |         # Parse manifest
249 |         manifest, manifest_errors = self.parse_manifest(plugin_path)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:251:1: W293 [*] Blank line contains whitespace
    |
249 |         manifest, manifest_errors = self.parse_manifest(plugin_path)
250 |         all_errors.extend(manifest_errors)
251 |         
    | ^^^^^^^^ W293
252 |         # If manifest parsing failed, return with errors
253 |         if manifest is None:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:264:1: W293 [*] Blank line contains whitespace
    |
262 |                 errors=all_errors,
263 |             )
264 |         
    | ^^^^^^^^ W293
265 |         # Extract fields from manifest
266 |         name = manifest.get("name", folder_name)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:270:1: W293 [*] Blank line contains whitespace
    |
268 |         contract = manifest.get("contract", "unknown")
269 |         entry_point = manifest.get("entry_point", "plugin")
270 |         
    | ^^^^^^^^ W293
271 |         # Cross-validate: folder name should match manifest name
272 |         if name != folder_name:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:276:1: W293 [*] Blank line contains whitespace
    |
274 |                 f"Manifest name '{name}' does not match folder name '{folder_name}'"
275 |             )
276 |         
    | ^^^^^^^^ W293
277 |         # Cross-validate: prefix should match contract
278 |         if prefix and prefix != contract:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:282:1: W293 [*] Blank line contains whitespace
    |
280 |                 f"Folder prefix '{prefix}' does not match manifest contract '{contract}'"
281 |             )
282 |         
    | ^^^^^^^^ W293
283 |         # Validate contract is known
284 |         if contract not in self._prefixes:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:289:1: W293 [*] Blank line contains whitespace
    |
287 |                 f"Valid types: {', '.join(sorted(self._prefixes.keys()))}"
288 |             )
289 |         
    | ^^^^^^^^ W293
290 |         # Check entry point file exists
291 |         entry_file = plugin_path / f"{entry_point}.py"
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:294:1: W293 [*] Blank line contains whitespace
    |
292 |         if not entry_file.exists():
293 |             all_errors.append(f"Entry point file '{entry_point}.py' not found")
294 |         
    | ^^^^^^^^ W293
295 |         return DiscoveredPlugin(
296 |             path=plugin_path,
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:305:1: W293 [*] Blank line contains whitespace
    |
303 |             errors=all_errors,
304 |         )
305 |     
    | ^^^^ W293
306 |     def scan(self, include_invalid: bool = False) -> List[DiscoveredPlugin]:
307 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:306:54: UP006 [*] Use `list` instead of `List` for type annotation
    |
304 |         )
305 |     
306 |     def scan(self, include_invalid: bool = False) -> List[DiscoveredPlugin]:
    |                                                      ^^^^ UP006
307 |         """
308 |         Scan plugins directory for all plugins.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:309:1: W293 Blank line contains whitespace
    |
307 |         """
308 |         Scan plugins directory for all plugins.
309 |         
    | ^^^^^^^^ W293
310 |         Args:
311 |             include_invalid: If True, include plugins that failed validation
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:312:1: W293 Blank line contains whitespace
    |
310 |         Args:
311 |             include_invalid: If True, include plugins that failed validation
312 |             
    | ^^^^^^^^^^^^ W293
313 |         Returns:
314 |             List of DiscoveredPlugin objects
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:316:21: UP006 [*] Use `list` instead of `List` for type annotation
    |
314 |             List of DiscoveredPlugin objects
315 |         """
316 |         discovered: List[DiscoveredPlugin] = []
    |                     ^^^^ UP006
317 |         
318 |         if not self.plugins_dir.exists():
    |
    = help: Replace with `list`

plugins\_host\discovery.py:317:1: W293 [*] Blank line contains whitespace
    |
315 |         """
316 |         discovered: List[DiscoveredPlugin] = []
317 |         
    | ^^^^^^^^ W293
318 |         if not self.plugins_dir.exists():
319 |             logger.warning(f"Plugins directory does not exist: {self.plugins_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:321:1: W293 [*] Blank line contains whitespace
    |
319 |             logger.warning(f"Plugins directory does not exist: {self.plugins_dir}")
320 |             return discovered
321 |         
    | ^^^^^^^^ W293
322 |         if not self.plugins_dir.is_dir():
323 |             logger.error(f"Plugins path is not a directory: {self.plugins_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:325:1: W293 [*] Blank line contains whitespace
    |
323 |             logger.error(f"Plugins path is not a directory: {self.plugins_dir}")
324 |             return discovered
325 |         
    | ^^^^^^^^ W293
326 |         # Scan each subfolder
327 |         for item in self.plugins_dir.iterdir():
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:336:1: W293 [*] Blank line contains whitespace
    |
334 |                 # Skip _host and other special folders
335 |                 continue
336 |             
    | ^^^^^^^^^^^^ W293
337 |             plugin = self.discover_plugin(item)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:338:1: W293 [*] Blank line contains whitespace
    |
337 |             plugin = self.discover_plugin(item)
338 |             
    | ^^^^^^^^^^^^ W293
339 |             if plugin.valid or include_invalid:
340 |                 discovered.append(plugin)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:346:1: W293 [*] Blank line contains whitespace
    |
344 |                     for error in plugin.errors:
345 |                         logger.debug(f"  Error: {error}")
346 |         
    | ^^^^^^^^ W293
347 |         logger.info(f"Discovery complete: {len(discovered)} plugins found")
348 |         return discovered
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:349:1: W293 [*] Blank line contains whitespace
    |
347 |         logger.info(f"Discovery complete: {len(discovered)} plugins found")
348 |         return discovered
349 |     
    | ^^^^ W293
350 |     def scan_by_contract(
351 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:354:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
352 |         contract: str,
353 |         include_invalid: bool = False
354 |     ) -> List[DiscoveredPlugin]:
    |          ^^^^ UP006
355 |         """
356 |         Scan for plugins of a specific contract type.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:357:1: W293 Blank line contains whitespace
    |
355 |         """
356 |         Scan for plugins of a specific contract type.
357 |         
    | ^^^^^^^^ W293
358 |         Args:
359 |             contract: Contract type to filter by (e.g., "tts", "llm")
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:361:1: W293 Blank line contains whitespace
    |
359 |             contract: Contract type to filter by (e.g., "tts", "llm")
360 |             include_invalid: If True, include plugins that failed validation
361 |             
    | ^^^^^^^^^^^^ W293
362 |         Returns:
363 |             List of DiscoveredPlugin objects matching the contract
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:367:1: W293 [*] Blank line contains whitespace
    |
365 |         all_plugins = self.scan(include_invalid=include_invalid)
366 |         return [p for p in all_plugins if p.contract == contract]
367 |     
    | ^^^^ W293
368 |     def find_plugin(self, name: str) -> Optional[DiscoveredPlugin]:
369 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:368:41: UP007 [*] Use `X | Y` for type annotations
    |
366 |         return [p for p in all_plugins if p.contract == contract]
367 |     
368 |     def find_plugin(self, name: str) -> Optional[DiscoveredPlugin]:
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
369 |         """
370 |         Find a specific plugin by name.
    |
    = help: Convert to `X | Y`

plugins\_host\discovery.py:371:1: W293 Blank line contains whitespace
    |
369 |         """
370 |         Find a specific plugin by name.
371 |         
    | ^^^^^^^^ W293
372 |         Args:
373 |             name: Plugin name to find
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:374:1: W293 Blank line contains whitespace
    |
372 |         Args:
373 |             name: Plugin name to find
374 |             
    | ^^^^^^^^^^^^ W293
375 |         Returns:
376 |             DiscoveredPlugin if found, None otherwise
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:382:1: W293 [*] Blank line contains whitespace
    |
380 |             return None
381 |         return self.discover_plugin(plugin_path)
382 |     
    | ^^^^ W293
383 |     def get_contracts_summary(self) -> Dict[str, List[str]]:
384 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:383:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
381 |         return self.discover_plugin(plugin_path)
382 |     
383 |     def get_contracts_summary(self) -> Dict[str, List[str]]:
    |                                        ^^^^ UP006
384 |         """
385 |         Get summary of plugins grouped by contract type.
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:383:50: UP006 [*] Use `list` instead of `List` for type annotation
    |
381 |         return self.discover_plugin(plugin_path)
382 |     
383 |     def get_contracts_summary(self) -> Dict[str, List[str]]:
    |                                                  ^^^^ UP006
384 |         """
385 |         Get summary of plugins grouped by contract type.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:386:1: W293 Blank line contains whitespace
    |
384 |         """
385 |         Get summary of plugins grouped by contract type.
386 |         
    | ^^^^^^^^ W293
387 |         Returns:
388 |             Dict mapping contract type to list of plugin names
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:390:18: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
388 |             Dict mapping contract type to list of plugin names
389 |         """
390 |         summary: Dict[str, List[str]] = {prefix: [] for prefix in self._prefixes}
    |                  ^^^^ UP006
391 |         
392 |         for plugin in self.scan(include_invalid=False):
    |
    = help: Replace with `dict`

plugins\_host\discovery.py:390:28: UP006 [*] Use `list` instead of `List` for type annotation
    |
388 |             Dict mapping contract type to list of plugin names
389 |         """
390 |         summary: Dict[str, List[str]] = {prefix: [] for prefix in self._prefixes}
    |                            ^^^^ UP006
391 |         
392 |         for plugin in self.scan(include_invalid=False):
    |
    = help: Replace with `list`

plugins\_host\discovery.py:391:1: W293 [*] Blank line contains whitespace
    |
389 |         """
390 |         summary: Dict[str, List[str]] = {prefix: [] for prefix in self._prefixes}
391 |         
    | ^^^^^^^^ W293
392 |         for plugin in self.scan(include_invalid=False):
393 |             if plugin.contract in summary:
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:395:1: W293 [*] Blank line contains whitespace
    |
393 |             if plugin.contract in summary:
394 |                 summary[plugin.contract].append(plugin.name)
395 |         
    | ^^^^^^^^ W293
396 |         return summary
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:404:6: UP006 [*] Use `list` instead of `List` for type annotation
    |
402 |     config_dir: str | Path = "./config",
403 |     include_invalid: bool = False
404 | ) -> List[DiscoveredPlugin]:
    |      ^^^^ UP006
405 |     """
406 |     Convenience function to discover plugins.
    |
    = help: Replace with `list`

plugins\_host\discovery.py:407:1: W293 Blank line contains whitespace
    |
405 |     """
406 |     Convenience function to discover plugins.
407 |     
    | ^^^^ W293
408 |     Args:
409 |         plugins_dir: Path to plugins directory
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:412:1: W293 Blank line contains whitespace
    |
410 |         config_dir: Path to config directory
411 |         include_invalid: Include invalid plugins in results
412 |         
    | ^^^^^^^^ W293
413 |     Returns:
414 |         List of DiscoveredPlugin objects
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:428:1: W293 [*] Blank line contains whitespace
    |
426 |         stream=sys.stderr
427 |     )
428 |     
    | ^^^^ W293
429 |     # Determine paths relative to this file
430 |     this_dir = Path(__file__).parent.resolve()
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:433:1: W293 [*] Blank line contains whitespace
    |
431 |     plugins_dir = this_dir.parent  # ./plugins
432 |     config_dir = this_dir.parent.parent / "config"  # ./config
433 |     
    | ^^^^ W293
434 |     print(f"Scanning: {plugins_dir}", file=sys.stderr)
435 |     print(f"Config: {config_dir}", file=sys.stderr)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:436:1: W293 [*] Blank line contains whitespace
    |
434 |     print(f"Scanning: {plugins_dir}", file=sys.stderr)
435 |     print(f"Config: {config_dir}", file=sys.stderr)
436 |     
    | ^^^^ W293
437 |     discovery = HybridDiscovery(plugins_dir, config_dir)
438 |     plugins = discovery.scan(include_invalid=True)
    |
    = help: Remove whitespace from blank line

plugins\_host\discovery.py:439:1: W293 [*] Blank line contains whitespace
    |
437 |     discovery = HybridDiscovery(plugins_dir, config_dir)
438 |     plugins = discovery.scan(include_invalid=True)
439 |     
    | ^^^^ W293
440 |     print(f"\n=== Discovered {len(plugins)} plugins ===", file=sys.stderr)
441 |     for plugin in plugins:
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:27:1: I001 [*] Import block is un-sorted or un-formatted
   |
25 |   """
26 |
27 | / import asyncio
28 | | import functools
29 | | import logging
30 | | import sys
31 | | import time
32 | | import traceback
33 | | from collections import defaultdict
34 | | from dataclasses import dataclass, field
35 | | from datetime import datetime, timedelta
36 | | from enum import Enum
37 | | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
38 | |
39 | | from contracts.base import PluginStatus, HealthStatus
   | |_____________________________________________________^ I001
40 |
41 |   logger = logging.getLogger(__name__)
   |
   = help: Organize imports

plugins\_host\isolation.py:30:8: F401 [*] `sys` imported but unused
   |
28 | import functools
29 | import logging
30 | import sys
   |        ^^^ F401
31 | import time
32 | import traceback
   |
   = help: Remove unused import: `sys`

plugins\_host\isolation.py:35:32: F401 [*] `datetime.timedelta` imported but unused
   |
33 | from collections import defaultdict
34 | from dataclasses import dataclass, field
35 | from datetime import datetime, timedelta
   |                                ^^^^^^^^^ F401
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   |
   = help: Remove unused import: `datetime.timedelta`

plugins\_host\isolation.py:36:18: F401 [*] `enum.Enum` imported but unused
   |
34 | from dataclasses import dataclass, field
35 | from datetime import datetime, timedelta
36 | from enum import Enum
   |                  ^^^^ F401
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   |
   = help: Remove unused import: `enum.Enum`

plugins\_host\isolation.py:37:1: UP035 [*] Import from `collections.abc` instead: `Callable`, `Coroutine`
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |
   = help: Import from `collections.abc`

plugins\_host\isolation.py:37:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\_host\isolation.py:37:1: UP035 `typing.List` is deprecated, use `list` instead
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\_host\isolation.py:37:1: UP035 `typing.Tuple` is deprecated, use `tuple` instead
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\_host\isolation.py:37:68: F401 [*] `typing.Tuple` imported but unused
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   |                                                                    ^^^^^ F401
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |
   = help: Remove unused import

plugins\_host\isolation.py:37:84: F401 [*] `typing.Union` imported but unused
   |
35 | from datetime import datetime, timedelta
36 | from enum import Enum
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
   |                                                                                    ^^^^^ F401
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |
   = help: Remove unused import

plugins\_host\isolation.py:39:28: F401 [*] `contracts.base.PluginStatus` imported but unused
   |
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |                            ^^^^^^^^^^^^ F401
40 |
41 | logger = logging.getLogger(__name__)
   |
   = help: Remove unused import

plugins\_host\isolation.py:39:42: F401 [*] `contracts.base.HealthStatus` imported but unused
   |
37 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, TypeVar, Union
38 |
39 | from contracts.base import PluginStatus, HealthStatus
   |                                          ^^^^^^^^^^^^ F401
40 |
41 | logger = logging.getLogger(__name__)
   |
   = help: Remove unused import

plugins\_host\isolation.py:59:1: W293 [*] Blank line contains whitespace
   |
57 |     PLUGIN_INITIALIZE_FAILED = -32003
58 |     RESOURCE_EXHAUSTED = -32050
59 |     
   | ^^^^ W293
60 |     # Isolation-specific codes
61 |     EXECUTION_TIMEOUT = -32060
   |
   = help: Remove whitespace from blank line

plugins\_host\isolation.py:70:1: W293 Blank line contains whitespace
   |
68 |     """
69 |     Detailed crash report for a plugin exception.
70 |     
   | ^^^^ W293
71 |     Captures all information needed for debugging without exposing
72 |     sensitive details in user-facing error messages.
   |
   = help: Remove whitespace from blank line

plugins\_host\isolation.py:73:1: W293 Blank line contains whitespace
   |
71 |     Captures all information needed for debugging without exposing
72 |     sensitive details in user-facing error messages.
73 |     
   | ^^^^ W293
74 |     Attributes:
75 |         plugin_name: Name of the crashed plugin
   |
   = help: Remove whitespace from blank line

plugins\_host\isolation.py:93:14: UP007 [*] Use `X | Y` for type annotations
   |
91 |     traceback: str
92 |     timestamp: datetime = field(default_factory=datetime.now)
93 |     call_id: Optional[int] = None
   |              ^^^^^^^^^^^^^ UP007
94 |     params: Optional[Dict[str, Any]] = None
95 |     context: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Convert to `X | Y`

plugins\_host\isolation.py:94:13: UP007 [*] Use `X | Y` for type annotations
   |
92 |     timestamp: datetime = field(default_factory=datetime.now)
93 |     call_id: Optional[int] = None
94 |     params: Optional[Dict[str, Any]] = None
   |             ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
95 |     context: Dict[str, Any] = field(default_factory=dict)
96 |     recovery_attempted: bool = False
   |
   = help: Convert to `X | Y`

plugins\_host\isolation.py:94:22: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
92 |     timestamp: datetime = field(default_factory=datetime.now)
93 |     call_id: Optional[int] = None
94 |     params: Optional[Dict[str, Any]] = None
   |                      ^^^^ UP006
95 |     context: Dict[str, Any] = field(default_factory=dict)
96 |     recovery_attempted: bool = False
   |
   = help: Replace with `dict`

plugins\_host\isolation.py:95:14: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
93 |     call_id: Optional[int] = None
94 |     params: Optional[Dict[str, Any]] = None
95 |     context: Dict[str, Any] = field(default_factory=dict)
   |              ^^^^ UP006
96 |     recovery_attempted: bool = False
97 |     recovery_success: bool = False
   |
   = help: Replace with `dict`

plugins\_host\isolation.py:98:1: W293 [*] Blank line contains whitespace
    |
 96 |     recovery_attempted: bool = False
 97 |     recovery_success: bool = False
 98 |     
    | ^^^^ W293
 99 |     def to_dict(self) -> Dict[str, Any]:
100 |         """Serialize for JSON-RPC responses."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:99:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
 97 |     recovery_success: bool = False
 98 |     
 99 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
100 |         """Serialize for JSON-RPC responses."""
101 |         return {
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:113:1: W293 [*] Blank line contains whitespace
    |
111 |             # to avoid exposing internal details
112 |         }
113 |     
    | ^^^^ W293
114 |     def to_error_data(self) -> Dict[str, Any]:
115 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:114:32: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
112 |         }
113 |     
114 |     def to_error_data(self) -> Dict[str, Any]:
    |                                ^^^^ UP006
115 |         """
116 |         Create error data for JSON-RPC error response.
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:117:1: W293 Blank line contains whitespace
    |
115 |         """
116 |         Create error data for JSON-RPC error response.
117 |         
    | ^^^^^^^^ W293
118 |         Includes only safe information for external consumption.
119 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:126:1: W293 [*] Blank line contains whitespace
    |
124 |             "timestamp": self.timestamp.isoformat(),
125 |         }
126 |     
    | ^^^^ W293
127 |     def log_full_report(self, log: logging.Logger) -> None:
128 |         """Log full crash report including traceback for debugging."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:129:19: F541 [*] f-string without any placeholders
    |
127 |     def log_full_report(self, log: logging.Logger) -> None:
128 |         """Log full crash report including traceback for debugging."""
129 |         log.error(f"Plugin Crash Report")
    |                   ^^^^^^^^^^^^^^^^^^^^^^ F541
130 |         log.error(f"  Plugin: {self.plugin_name}")
131 |         log.error(f"  Method: {self.method}")
    |
    = help: Remove extraneous `f` prefix

plugins\_host\isolation.py:143:1: W293 Blank line contains whitespace
    |
141 |     """
142 |     Result of an isolated execution attempt.
143 |     
    | ^^^^ W293
144 |     Attributes:
145 |         success: Whether execution completed without exception
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:155:17: UP007 [*] Use `X | Y` for type annotations
    |
153 |     success: bool
154 |     result: Any = None
155 |     error_code: Optional[int] = None
    |                 ^^^^^^^^^^^^^ UP007
156 |     error_message: Optional[str] = None
157 |     error_data: Optional[Dict[str, Any]] = None
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:156:20: UP007 [*] Use `X | Y` for type annotations
    |
154 |     result: Any = None
155 |     error_code: Optional[int] = None
156 |     error_message: Optional[str] = None
    |                    ^^^^^^^^^^^^^ UP007
157 |     error_data: Optional[Dict[str, Any]] = None
158 |     crash_report: Optional[CrashReport] = None
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:157:17: UP007 [*] Use `X | Y` for type annotations
    |
155 |     error_code: Optional[int] = None
156 |     error_message: Optional[str] = None
157 |     error_data: Optional[Dict[str, Any]] = None
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
158 |     crash_report: Optional[CrashReport] = None
159 |     execution_time_ms: float = 0.0
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:157:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
155 |     error_code: Optional[int] = None
156 |     error_message: Optional[str] = None
157 |     error_data: Optional[Dict[str, Any]] = None
    |                          ^^^^ UP006
158 |     crash_report: Optional[CrashReport] = None
159 |     execution_time_ms: float = 0.0
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:158:19: UP007 [*] Use `X | Y` for type annotations
    |
156 |     error_message: Optional[str] = None
157 |     error_data: Optional[Dict[str, Any]] = None
158 |     crash_report: Optional[CrashReport] = None
    |                   ^^^^^^^^^^^^^^^^^^^^^ UP007
159 |     execution_time_ms: float = 0.0
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:160:1: W293 [*] Blank line contains whitespace
    |
158 |     crash_report: Optional[CrashReport] = None
159 |     execution_time_ms: float = 0.0
160 |     
    | ^^^^ W293
161 |     def to_json_rpc_error(self) -> Dict[str, Any]:
162 |         """Convert to JSON-RPC error object."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:161:36: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
159 |     execution_time_ms: float = 0.0
160 |     
161 |     def to_json_rpc_error(self) -> Dict[str, Any]:
    |                                    ^^^^ UP006
162 |         """Convert to JSON-RPC error object."""
163 |         error = {
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:175:1: W293 Blank line contains whitespace
    |
173 |     """
174 |     Rate limiter for crash logging and notifications.
175 |     
    | ^^^^ W293
176 |     Prevents log flooding when a plugin crashes repeatedly.
177 |     Uses a sliding window to track crash frequency.
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:179:1: W293 [*] Blank line contains whitespace
    |
177 |     Uses a sliding window to track crash frequency.
178 |     """
179 |     
    | ^^^^ W293
180 |     def __init__(
181 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:187:1: W293 Blank line contains whitespace
    |
185 |         """
186 |         Initialize rate limiter.
187 |         
    | ^^^^^^^^ W293
188 |         Args:
189 |             window_seconds: Time window for rate limiting
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:194:28: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
192 |         self.window_seconds = window_seconds
193 |         self.max_reports = max_reports
194 |         self._crash_times: Dict[str, List[float]] = defaultdict(list)
    |                            ^^^^ UP006
195 |         self._suppressed_counts: Dict[str, int] = defaultdict(int)
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:194:38: UP006 [*] Use `list` instead of `List` for type annotation
    |
192 |         self.window_seconds = window_seconds
193 |         self.max_reports = max_reports
194 |         self._crash_times: Dict[str, List[float]] = defaultdict(list)
    |                                      ^^^^ UP006
195 |         self._suppressed_counts: Dict[str, int] = defaultdict(int)
    |
    = help: Replace with `list`

plugins\_host\isolation.py:195:34: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
193 |         self.max_reports = max_reports
194 |         self._crash_times: Dict[str, List[float]] = defaultdict(list)
195 |         self._suppressed_counts: Dict[str, int] = defaultdict(int)
    |                                  ^^^^ UP006
196 |     
197 |     def should_report(self, plugin_name: str) -> bool:
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:196:1: W293 [*] Blank line contains whitespace
    |
194 |         self._crash_times: Dict[str, List[float]] = defaultdict(list)
195 |         self._suppressed_counts: Dict[str, int] = defaultdict(int)
196 |     
    | ^^^^ W293
197 |     def should_report(self, plugin_name: str) -> bool:
198 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:200:1: W293 Blank line contains whitespace
    |
198 |         """
199 |         Check if a crash should be reported for a plugin.
200 |         
    | ^^^^^^^^ W293
201 |         Args:
202 |             plugin_name: Name of the crashed plugin
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:203:1: W293 Blank line contains whitespace
    |
201 |         Args:
202 |             plugin_name: Name of the crashed plugin
203 |             
    | ^^^^^^^^^^^^ W293
204 |         Returns:
205 |             True if crash should be logged, False if rate-limited
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:209:1: W293 [*] Blank line contains whitespace
    |
207 |         now = time.time()
208 |         cutoff = now - self.window_seconds
209 |         
    | ^^^^^^^^ W293
210 |         # Clean old entries
211 |         self._crash_times[plugin_name] = [
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:215:1: W293 [*] Blank line contains whitespace
    |
213 |             if t > cutoff
214 |         ]
215 |         
    | ^^^^^^^^ W293
216 |         # Check if under limit
217 |         if len(self._crash_times[plugin_name]) < self.max_reports:
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:219:1: W293 [*] Blank line contains whitespace
    |
217 |         if len(self._crash_times[plugin_name]) < self.max_reports:
218 |             self._crash_times[plugin_name].append(now)
219 |             
    | ^^^^^^^^^^^^ W293
220 |             # Log suppressed count if resuming reporting
221 |             if self._suppressed_counts[plugin_name] > 0:
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:227:1: W293 [*] Blank line contains whitespace
    |
225 |                 )
226 |                 self._suppressed_counts[plugin_name] = 0
227 |             
    | ^^^^^^^^^^^^ W293
228 |             return True
229 |         else:
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:232:1: W293 [*] Blank line contains whitespace
    |
230 |             self._suppressed_counts[plugin_name] += 1
231 |             return False
232 |     
    | ^^^^ W293
233 |     def get_crash_count(self, plugin_name: str) -> int:
234 |         """Get number of crashes in current window for a plugin."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:246:1: W293 Blank line contains whitespace
    |
244 |     """
245 |     Executes plugin methods with crash isolation.
246 |     
    | ^^^^ W293
247 |     All plugin method calls should go through this executor to ensure
248 |     exceptions don't crash the Plugin Host.
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:249:1: W293 Blank line contains whitespace
    |
247 |     All plugin method calls should go through this executor to ensure
248 |     exceptions don't crash the Plugin Host.
249 |     
    | ^^^^ W293
250 |     Features:
251 |         - Exception catching and conversion to JSON-RPC errors
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:256:1: W293 Blank line contains whitespace
    |
254 |         - Plugin state management on crash
255 |         - Stack trace capture for debugging
256 |     
    | ^^^^ W293
257 |     Usage:
258 |         executor = IsolatedExecutor()
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:259:1: W293 Blank line contains whitespace
    |
257 |     Usage:
258 |         executor = IsolatedExecutor()
259 |         
    | ^^^^^^^^ W293
260 |         # Execute a plugin method
261 |         result = await executor.execute(
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:269:1: W293 Blank line contains whitespace
    |
267 |             timeout_seconds=30.0
268 |         )
269 |         
    | ^^^^^^^^ W293
270 |         if result.success:
271 |             return result.result
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:275:1: W293 [*] Blank line contains whitespace
    |
273 |             return result.to_json_rpc_error()
274 |     """
275 |     
    | ^^^^ W293
276 |     def __init__(
277 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:285:1: W293 Blank line contains whitespace
    |
283 |         """
284 |         Initialize isolated executor.
285 |         
    | ^^^^^^^^ W293
286 |         Args:
287 |             default_timeout: Default timeout for plugin calls (seconds)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:297:1: W293 [*] Blank line contains whitespace
    |
295 |             max_reports=crash_rate_limit
296 |         )
297 |         
    | ^^^^^^^^ W293
298 |         # Crash history (ring buffer)
299 |         self._crash_history: List[CrashReport] = []
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:299:30: UP006 [*] Use `list` instead of `List` for type annotation
    |
298 |         # Crash history (ring buffer)
299 |         self._crash_history: List[CrashReport] = []
    |                              ^^^^ UP006
300 |         self._max_crash_history = max_crash_history
    |
    = help: Replace with `list`

plugins\_host\isolation.py:301:1: W293 [*] Blank line contains whitespace
    |
299 |         self._crash_history: List[CrashReport] = []
300 |         self._max_crash_history = max_crash_history
301 |         
    | ^^^^^^^^ W293
302 |         # Plugin crash counts for health monitoring
303 |         self._crash_counts: Dict[str, int] = defaultdict(int)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:303:29: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
302 |         # Plugin crash counts for health monitoring
303 |         self._crash_counts: Dict[str, int] = defaultdict(int)
    |                             ^^^^ UP006
304 |         
305 |         logger.debug(
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:304:1: W293 [*] Blank line contains whitespace
    |
302 |         # Plugin crash counts for health monitoring
303 |         self._crash_counts: Dict[str, int] = defaultdict(int)
304 |         
    | ^^^^^^^^ W293
305 |         logger.debug(
306 |             f"IsolatedExecutor initialized: timeout={default_timeout}s, "
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:309:1: W293 [*] Blank line contains whitespace
    |
307 |             f"rate_limit={crash_rate_limit}/{crash_rate_window}s"
308 |         )
309 |     
    | ^^^^ W293
310 |     def _sanitize_params(self, params: Dict[str, Any]) -> Dict[str, Any]:
311 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:310:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
308 |         )
309 |     
310 |     def _sanitize_params(self, params: Dict[str, Any]) -> Dict[str, Any]:
    |                                        ^^^^ UP006
311 |         """
312 |         Sanitize parameters for logging/crash reports.
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:310:59: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
308 |         )
309 |     
310 |     def _sanitize_params(self, params: Dict[str, Any]) -> Dict[str, Any]:
    |                                                           ^^^^ UP006
311 |         """
312 |         Sanitize parameters for logging/crash reports.
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:313:1: W293 Blank line contains whitespace
    |
311 |         """
312 |         Sanitize parameters for logging/crash reports.
313 |         
    | ^^^^^^^^ W293
314 |         Truncates large values and masks sensitive fields.
315 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:318:1: W293 [*] Blank line contains whitespace
    |
316 |         sanitized = {}
317 |         sensitive_keys = {"password", "secret", "key", "token", "auth"}
318 |         
    | ^^^^^^^^ W293
319 |         for key, value in params.items():
320 |             # Mask sensitive values
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:334:1: W293 [*] Blank line contains whitespace
    |
332 |             else:
333 |                 sanitized[key] = value
334 |         
    | ^^^^^^^^ W293
335 |         return sanitized
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:336:1: W293 [*] Blank line contains whitespace
    |
335 |         return sanitized
336 |     
    | ^^^^ W293
337 |     def _create_crash_report(
338 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:342:18: UP007 [*] Use `X | Y` for type annotations
    |
340 |         method: str,
341 |         exception: Exception,
342 |         call_id: Optional[int] = None,
    |                  ^^^^^^^^^^^^^ UP007
343 |         params: Optional[Dict[str, Any]] = None
344 |     ) -> CrashReport:
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:343:17: UP007 [*] Use `X | Y` for type annotations
    |
341 |         exception: Exception,
342 |         call_id: Optional[int] = None,
343 |         params: Optional[Dict[str, Any]] = None
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
344 |     ) -> CrashReport:
345 |         """Create a crash report from an exception."""
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:343:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
341 |         exception: Exception,
342 |         call_id: Optional[int] = None,
343 |         params: Optional[Dict[str, Any]] = None
    |                          ^^^^ UP006
344 |     ) -> CrashReport:
345 |         """Create a crash report from an exception."""
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:355:1: W293 [*] Blank line contains whitespace
    |
353 |             params=self._sanitize_params(params) if params else None,
354 |         )
355 |     
    | ^^^^ W293
356 |     def _record_crash(self, report: CrashReport) -> None:
357 |         """Record a crash in history."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:362:1: W293 [*] Blank line contains whitespace
    |
360 |         if len(self._crash_history) > self._max_crash_history:
361 |             self._crash_history.pop(0)
362 |         
    | ^^^^^^^^ W293
363 |         # Increment crash count
364 |         self._crash_counts[report.plugin_name] += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:365:1: W293 [*] Blank line contains whitespace
    |
363 |         # Increment crash count
364 |         self._crash_counts[report.plugin_name] += 1
365 |         
    | ^^^^^^^^ W293
366 |         # Log if not rate-limited
367 |         if self.rate_limiter.should_report(report.plugin_name):
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:373:1: W293 [*] Blank line contains whitespace
    |
371 |                 f"Crash report suppressed for {report.plugin_name} (rate limited)"
372 |             )
373 |     
    | ^^^^ W293
374 |     def _exception_to_error_code(self, exception: Exception) -> int:
375 |         """Map exception type to JSON-RPC error code."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:377:1: W293 [*] Blank line contains whitespace
    |
375 |         """Map exception type to JSON-RPC error code."""
376 |         exception_type = type(exception).__name__
377 |         
    | ^^^^^^^^ W293
378 |         # Timeout exceptions
379 |         if isinstance(exception, asyncio.TimeoutError):
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:381:1: W293 [*] Blank line contains whitespace
    |
379 |         if isinstance(exception, asyncio.TimeoutError):
380 |             return ErrorCode.EXECUTION_TIMEOUT
381 |         
    | ^^^^^^^^ W293
382 |         # Memory/resource exceptions
383 |         if exception_type in ("MemoryError", "ResourceExhaustedError"):
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:385:1: W293 [*] Blank line contains whitespace
    |
383 |         if exception_type in ("MemoryError", "ResourceExhaustedError"):
384 |             return ErrorCode.RESOURCE_EXHAUSTED
385 |         
    | ^^^^^^^^ W293
386 |         # General plugin exception
387 |         return ErrorCode.PLUGIN_EXCEPTION
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:388:1: W293 [*] Blank line contains whitespace
    |
386 |         # General plugin exception
387 |         return ErrorCode.PLUGIN_EXCEPTION
388 |     
    | ^^^^ W293
389 |     async def execute(
390 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:394:15: UP007 [*] Use `X | Y` for type annotations
    |
392 |         method: str,
393 |         callable: Callable[..., Coroutine[Any, Any, T]],
394 |         args: Optional[tuple] = None,
    |               ^^^^^^^^^^^^^^^ UP007
395 |         kwargs: Optional[Dict[str, Any]] = None,
396 |         timeout_seconds: Optional[float] = None,
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:395:17: UP007 [*] Use `X | Y` for type annotations
    |
393 |         callable: Callable[..., Coroutine[Any, Any, T]],
394 |         args: Optional[tuple] = None,
395 |         kwargs: Optional[Dict[str, Any]] = None,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
396 |         timeout_seconds: Optional[float] = None,
397 |         call_id: Optional[int] = None
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:395:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
393 |         callable: Callable[..., Coroutine[Any, Any, T]],
394 |         args: Optional[tuple] = None,
395 |         kwargs: Optional[Dict[str, Any]] = None,
    |                          ^^^^ UP006
396 |         timeout_seconds: Optional[float] = None,
397 |         call_id: Optional[int] = None
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:396:26: UP007 [*] Use `X | Y` for type annotations
    |
394 |         args: Optional[tuple] = None,
395 |         kwargs: Optional[Dict[str, Any]] = None,
396 |         timeout_seconds: Optional[float] = None,
    |                          ^^^^^^^^^^^^^^^ UP007
397 |         call_id: Optional[int] = None
398 |     ) -> ExecutionResult:
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:397:18: UP007 [*] Use `X | Y` for type annotations
    |
395 |         kwargs: Optional[Dict[str, Any]] = None,
396 |         timeout_seconds: Optional[float] = None,
397 |         call_id: Optional[int] = None
    |                  ^^^^^^^^^^^^^ UP007
398 |     ) -> ExecutionResult:
399 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:401:1: W293 Blank line contains whitespace
    |
399 |         """
400 |         Execute a plugin method with crash isolation.
401 |         
    | ^^^^^^^^ W293
402 |         Args:
403 |             plugin_name: Name of the plugin
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:410:1: W293 Blank line contains whitespace
    |
408 |             timeout_seconds: Timeout (uses default if not specified)
409 |             call_id: JSON-RPC request ID for crash reports
410 |             
    | ^^^^^^^^^^^^ W293
411 |         Returns:
412 |             ExecutionResult with success status and result/error
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:417:1: W293 [*] Blank line contains whitespace
    |
415 |         kwargs = kwargs or {}
416 |         timeout = timeout_seconds or self.default_timeout
417 |         
    | ^^^^^^^^ W293
418 |         start_time = time.perf_counter()
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:419:1: W293 [*] Blank line contains whitespace
    |
418 |         start_time = time.perf_counter()
419 |         
    | ^^^^^^^^ W293
420 |         try:
421 |             # Execute with timeout
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:426:1: W293 [*] Blank line contains whitespace
    |
424 |                 timeout=timeout
425 |             )
426 |             
    | ^^^^^^^^^^^^ W293
427 |             execution_time = (time.perf_counter() - start_time) * 1000
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:428:1: W293 [*] Blank line contains whitespace
    |
427 |             execution_time = (time.perf_counter() - start_time) * 1000
428 |             
    | ^^^^^^^^^^^^ W293
429 |             return ExecutionResult(
430 |                 success=True,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:434:1: W293 [*] Blank line contains whitespace
    |
432 |                 execution_time_ms=execution_time
433 |             )
434 |             
    | ^^^^^^^^^^^^ W293
435 |         except asyncio.TimeoutError:
436 |             execution_time = (time.perf_counter() - start_time) * 1000
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:435:16: UP041 [*] Replace aliased errors with `TimeoutError`
    |
433 |             )
434 |             
435 |         except asyncio.TimeoutError:
    |                ^^^^^^^^^^^^^^^^^^^^ UP041
436 |             execution_time = (time.perf_counter() - start_time) * 1000
    |
    = help: Replace `asyncio.TimeoutError` with builtin `TimeoutError`

plugins\_host\isolation.py:437:1: W293 [*] Blank line contains whitespace
    |
435 |         except asyncio.TimeoutError:
436 |             execution_time = (time.perf_counter() - start_time) * 1000
437 |             
    | ^^^^^^^^^^^^ W293
438 |             # Create timeout crash report
439 |             report = CrashReport(
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:449:1: W293 [*] Blank line contains whitespace
    |
447 |             )
448 |             self._record_crash(report)
449 |             
    | ^^^^^^^^^^^^ W293
450 |             return ExecutionResult(
451 |                 success=False,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:458:1: W293 [*] Blank line contains whitespace
    |
456 |                 execution_time_ms=execution_time
457 |             )
458 |             
    | ^^^^^^^^^^^^ W293
459 |         except Exception as e:
460 |             execution_time = (time.perf_counter() - start_time) * 1000
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:461:1: W293 [*] Blank line contains whitespace
    |
459 |         except Exception as e:
460 |             execution_time = (time.perf_counter() - start_time) * 1000
461 |             
    | ^^^^^^^^^^^^ W293
462 |             # Create crash report
463 |             report = self._create_crash_report(
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:471:1: W293 [*] Blank line contains whitespace
    |
469 |             )
470 |             self._record_crash(report)
471 |             
    | ^^^^^^^^^^^^ W293
472 |             return ExecutionResult(
473 |                 success=False,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:480:1: W293 [*] Blank line contains whitespace
    |
478 |                 execution_time_ms=execution_time
479 |             )
480 |     
    | ^^^^ W293
481 |     def execute_sync(
482 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:486:15: UP007 [*] Use `X | Y` for type annotations
    |
484 |         method: str,
485 |         callable: Callable[..., T],
486 |         args: Optional[tuple] = None,
    |               ^^^^^^^^^^^^^^^ UP007
487 |         kwargs: Optional[Dict[str, Any]] = None,
488 |         call_id: Optional[int] = None
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:487:17: UP007 [*] Use `X | Y` for type annotations
    |
485 |         callable: Callable[..., T],
486 |         args: Optional[tuple] = None,
487 |         kwargs: Optional[Dict[str, Any]] = None,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
488 |         call_id: Optional[int] = None
489 |     ) -> ExecutionResult:
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:487:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
485 |         callable: Callable[..., T],
486 |         args: Optional[tuple] = None,
487 |         kwargs: Optional[Dict[str, Any]] = None,
    |                          ^^^^ UP006
488 |         call_id: Optional[int] = None
489 |     ) -> ExecutionResult:
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:488:18: UP007 [*] Use `X | Y` for type annotations
    |
486 |         args: Optional[tuple] = None,
487 |         kwargs: Optional[Dict[str, Any]] = None,
488 |         call_id: Optional[int] = None
    |                  ^^^^^^^^^^^^^ UP007
489 |     ) -> ExecutionResult:
490 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:492:1: W293 Blank line contains whitespace
    |
490 |         """
491 |         Execute a synchronous plugin method with crash isolation.
492 |         
    | ^^^^^^^^ W293
493 |         Args:
494 |             plugin_name: Name of the plugin
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:500:1: W293 Blank line contains whitespace
    |
498 |             kwargs: Keyword arguments
499 |             call_id: JSON-RPC request ID for crash reports
500 |             
    | ^^^^^^^^^^^^ W293
501 |         Returns:
502 |             ExecutionResult with success status and result/error
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:506:1: W293 [*] Blank line contains whitespace
    |
504 |         args = args or ()
505 |         kwargs = kwargs or {}
506 |         
    | ^^^^^^^^ W293
507 |         start_time = time.perf_counter()
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:508:1: W293 [*] Blank line contains whitespace
    |
507 |         start_time = time.perf_counter()
508 |         
    | ^^^^^^^^ W293
509 |         try:
510 |             result = callable(*args, **kwargs)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:512:1: W293 [*] Blank line contains whitespace
    |
510 |             result = callable(*args, **kwargs)
511 |             execution_time = (time.perf_counter() - start_time) * 1000
512 |             
    | ^^^^^^^^^^^^ W293
513 |             return ExecutionResult(
514 |                 success=True,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:518:1: W293 [*] Blank line contains whitespace
    |
516 |                 execution_time_ms=execution_time
517 |             )
518 |             
    | ^^^^^^^^^^^^ W293
519 |         except Exception as e:
520 |             execution_time = (time.perf_counter() - start_time) * 1000
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:521:1: W293 [*] Blank line contains whitespace
    |
519 |         except Exception as e:
520 |             execution_time = (time.perf_counter() - start_time) * 1000
521 |             
    | ^^^^^^^^^^^^ W293
522 |             # Create crash report
523 |             report = self._create_crash_report(
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:531:1: W293 [*] Blank line contains whitespace
    |
529 |             )
530 |             self._record_crash(report)
531 |             
    | ^^^^^^^^^^^^ W293
532 |             return ExecutionResult(
533 |                 success=False,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:540:1: W293 [*] Blank line contains whitespace
    |
538 |                 execution_time_ms=execution_time
539 |             )
540 |     
    | ^^^^ W293
541 |     def get_crash_history(
542 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:543:22: UP007 [*] Use `X | Y` for type annotations
    |
541 |     def get_crash_history(
542 |         self,
543 |         plugin_name: Optional[str] = None,
    |                      ^^^^^^^^^^^^^ UP007
544 |         limit: int = 10
545 |     ) -> List[CrashReport]:
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:545:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
543 |         plugin_name: Optional[str] = None,
544 |         limit: int = 10
545 |     ) -> List[CrashReport]:
    |          ^^^^ UP006
546 |         """
547 |         Get recent crash reports.
    |
    = help: Replace with `list`

plugins\_host\isolation.py:548:1: W293 Blank line contains whitespace
    |
546 |         """
547 |         Get recent crash reports.
548 |         
    | ^^^^^^^^ W293
549 |         Args:
550 |             plugin_name: Filter by plugin name (None for all)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:552:1: W293 Blank line contains whitespace
    |
550 |             plugin_name: Filter by plugin name (None for all)
551 |             limit: Maximum reports to return
552 |             
    | ^^^^^^^^^^^^ W293
553 |         Returns:
554 |             List of CrashReport objects, newest first
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:557:1: W293 [*] Blank line contains whitespace
    |
555 |         """
556 |         reports = self._crash_history
557 |         
    | ^^^^^^^^ W293
558 |         if plugin_name:
559 |             reports = [r for r in reports if r.plugin_name == plugin_name]
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:560:1: W293 [*] Blank line contains whitespace
    |
558 |         if plugin_name:
559 |             reports = [r for r in reports if r.plugin_name == plugin_name]
560 |         
    | ^^^^^^^^ W293
561 |         # Return newest first
562 |         return list(reversed(reports[-limit:]))
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:563:1: W293 [*] Blank line contains whitespace
    |
561 |         # Return newest first
562 |         return list(reversed(reports[-limit:]))
563 |     
    | ^^^^ W293
564 |     def get_crash_count(self, plugin_name: str) -> int:
565 |         """Get total crash count for a plugin."""
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:567:1: W293 [*] Blank line contains whitespace
    |
565 |         """Get total crash count for a plugin."""
566 |         return self._crash_counts[plugin_name]
567 |     
    | ^^^^ W293
568 |     def get_crash_stats(self) -> Dict[str, Any]:
569 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:568:34: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
566 |         return self._crash_counts[plugin_name]
567 |     
568 |     def get_crash_stats(self) -> Dict[str, Any]:
    |                                  ^^^^ UP006
569 |         """
570 |         Get crash statistics summary.
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:571:1: W293 Blank line contains whitespace
    |
569 |         """
570 |         Get crash statistics summary.
571 |         
    | ^^^^^^^^ W293
572 |         Returns:
573 |             Dict with crash counts and recent crash info
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:578:1: W293 [*] Blank line contains whitespace
    |
576 |         now = time.time()
577 |         cutoff = datetime.fromtimestamp(now - recent_window)
578 |         
    | ^^^^^^^^ W293
579 |         recent_crashes = [
580 |             r for r in self._crash_history
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:583:1: W293 [*] Blank line contains whitespace
    |
581 |             if r.timestamp > cutoff
582 |         ]
583 |         
    | ^^^^^^^^ W293
584 |         # Group by plugin
585 |         by_plugin: Dict[str, int] = defaultdict(int)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:585:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
584 |         # Group by plugin
585 |         by_plugin: Dict[str, int] = defaultdict(int)
    |                    ^^^^ UP006
586 |         for r in recent_crashes:
587 |             by_plugin[r.plugin_name] += 1
    |
    = help: Replace with `dict`

plugins\_host\isolation.py:588:1: W293 [*] Blank line contains whitespace
    |
586 |         for r in recent_crashes:
587 |             by_plugin[r.plugin_name] += 1
588 |         
    | ^^^^^^^^ W293
589 |         return {
590 |             "total_crashes": sum(self._crash_counts.values()),
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:596:1: W293 [*] Blank line contains whitespace
    |
594 |             "history_size": len(self._crash_history),
595 |         }
596 |     
    | ^^^^ W293
597 |     def clear_crash_history(self, plugin_name: Optional[str] = None) -> int:
598 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:597:48: UP007 [*] Use `X | Y` for type annotations
    |
595 |         }
596 |     
597 |     def clear_crash_history(self, plugin_name: Optional[str] = None) -> int:
    |                                                ^^^^^^^^^^^^^ UP007
598 |         """
599 |         Clear crash history.
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:600:1: W293 Blank line contains whitespace
    |
598 |         """
599 |         Clear crash history.
600 |         
    | ^^^^^^^^ W293
601 |         Args:
602 |             plugin_name: Plugin to clear (None for all)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:603:1: W293 Blank line contains whitespace
    |
601 |         Args:
602 |             plugin_name: Plugin to clear (None for all)
603 |             
    | ^^^^^^^^^^^^ W293
604 |         Returns:
605 |             Number of records cleared
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:623:14: UP007 [*] Use `X | Y` for type annotations
    |
622 | def isolated(
623 |     timeout: Optional[float] = None,
    |              ^^^^^^^^^^^^^^^ UP007
624 |     executor: Optional[IsolatedExecutor] = None
625 | ):
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:624:15: UP007 [*] Use `X | Y` for type annotations
    |
622 | def isolated(
623 |     timeout: Optional[float] = None,
624 |     executor: Optional[IsolatedExecutor] = None
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
625 | ):
626 |     """
    |
    = help: Convert to `X | Y`

plugins\_host\isolation.py:628:1: W293 Blank line contains whitespace
    |
626 |     """
627 |     Decorator for isolated plugin method execution.
628 |     
    | ^^^^ W293
629 |     Args:
630 |         timeout: Timeout in seconds
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:632:1: W293 Blank line contains whitespace
    |
630 |         timeout: Timeout in seconds
631 |         executor: IsolatedExecutor instance (uses default if not specified)
632 |         
    | ^^^^^^^^ W293
633 |     Usage:
634 |         @isolated(timeout=30.0)
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:643:1: W293 [*] Blank line contains whitespace
    |
641 |         async def wrapper(self, *args, **kwargs):
642 |             exec_instance = executor or getattr(self, '_executor', None)
643 |             
    | ^^^^^^^^^^^^ W293
644 |             if exec_instance is None:
645 |                 # No executor, just run with basic try/except
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:651:1: W293 [*] Blank line contains whitespace
    |
649 |                     logger.error(f"Plugin method {func.__name__} failed: {e}")
650 |                     raise
651 |             
    | ^^^^^^^^^^^^ W293
652 |             result = await exec_instance.execute(
653 |                 plugin_name=getattr(self, 'name', 'unknown'),
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:658:1: W293 [*] Blank line contains whitespace
    |
656 |                 timeout_seconds=timeout
657 |             )
658 |             
    | ^^^^^^^^^^^^ W293
659 |             if result.success:
660 |                 return result.result
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:664:1: W293 [*] Blank line contains whitespace
    |
662 |                 # Re-raise as a standard exception
663 |                 raise RuntimeError(result.error_message)
664 |         
    | ^^^^^^^^ W293
665 |         return wrapper
666 |     return decorator
    |
    = help: Remove whitespace from blank line

plugins\_host\isolation.py:670:20: UP007 [*] Use `X | Y` for type annotations
    |
669 | # Module-level default executor
670 | _default_executor: Optional[IsolatedExecutor] = None
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
    |
    = help: Convert to `X | Y`

plugins\_host\loader.py:18:8: F401 [*] `asyncio` imported but unused
   |
16 | """
17 |
18 | import asyncio
   |        ^^^^^^^ F401
19 | import importlib
20 | import importlib.util
   |
   = help: Remove unused import: `asyncio`

plugins\_host\loader.py:27:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
25 | from dataclasses import dataclass, field
26 | from pathlib import Path
27 | from typing import Any, Dict, List, Optional, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
28 |
29 | from contracts.base import PluginBase, PluginManifest, PluginStatus
   |

plugins\_host\loader.py:27:1: UP035 `typing.List` is deprecated, use `list` instead
   |
25 | from dataclasses import dataclass, field
26 | from pathlib import Path
27 | from typing import Any, Dict, List, Optional, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
28 |
29 | from contracts.base import PluginBase, PluginManifest, PluginStatus
   |

plugins\_host\loader.py:27:1: UP035 `typing.Type` is deprecated, use `type` instead
   |
25 | from dataclasses import dataclass, field
26 | from pathlib import Path
27 | from typing import Any, Dict, List, Optional, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
28 |
29 | from contracts.base import PluginBase, PluginManifest, PluginStatus
   |

plugins\_host\loader.py:38:1: W293 Blank line contains whitespace
   |
36 |     """
37 |     Represents a loaded and instantiated plugin.
38 |     
   | ^^^^ W293
39 |     Attributes:
40 |         name: Plugin name from manifest
   |
   = help: Remove whitespace from blank line

plugins\_host\loader.py:54:19: UP006 [*] Use `type` instead of `Type` for type annotation
   |
52 |     manifest: PluginManifest
53 |     module: Any
54 |     plugin_class: Type[PluginBase]
   |                   ^^^^ UP006
55 |     path: Path
56 |     initialized: bool = False
   |
   = help: Replace with `type`

plugins\_host\loader.py:58:18: UP006 [*] Use `list` instead of `List` for type annotation
   |
56 |     initialized: bool = False
57 |     status: PluginStatus = PluginStatus.UNLOADED
58 |     load_errors: List[str] = field(default_factory=list)
   |                  ^^^^ UP006
59 |     
60 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `list`

plugins\_host\loader.py:59:1: W293 [*] Blank line contains whitespace
   |
57 |     status: PluginStatus = PluginStatus.UNLOADED
58 |     load_errors: List[str] = field(default_factory=list)
59 |     
   | ^^^^ W293
60 |     def to_dict(self) -> Dict[str, Any]:
61 |         """Serialize for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

plugins\_host\loader.py:60:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
58 |     load_errors: List[str] = field(default_factory=list)
59 |     
60 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
61 |         """Serialize for JSON-RPC responses."""
62 |         return {
   |
   = help: Replace with `dict`

plugins\_host\loader.py:78:1: W293 Blank line contains whitespace
   |
76 |     """
77 |     Dynamically loads plugins using importlib.
78 |     
   | ^^^^ W293
79 |     Loading process:
80 |         1. Validate plugin is discoverable
   |
   = help: Remove whitespace from blank line

plugins\_host\loader.py:87:1: W293 Blank line contains whitespace
   |
85 |         6. Set manifest on plugin instance
86 |         7. Return LoadedPlugin wrapper
87 |     
   | ^^^^ W293
88 |     Usage:
89 |         loader = PluginLoader()
   |
   = help: Remove whitespace from blank line

plugins\_host\loader.py:94:1: W293 [*] Blank line contains whitespace
   |
92 |             await loaded.instance.initialize(config)
93 |     """
94 |     
   | ^^^^ W293
95 |     def __init__(
96 |         self,
   |
   = help: Remove whitespace from blank line

plugins\_host\loader.py:102:1: W293 Blank line contains whitespace
    |
100 |         """
101 |         Initialize plugin loader.
102 |         
    | ^^^^^^^^ W293
103 |         Args:
104 |             auto_install_deps: If True, auto-install missing dependencies
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:109:1: W293 [*] Blank line contains whitespace
    |
107 |         self.auto_install_deps = auto_install_deps
108 |         self.pip_executable = pip_executable
109 |         
    | ^^^^^^^^ W293
110 |         # Track modules we've loaded to enable hot-reload
111 |         self._loaded_modules: Dict[str, Any] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:111:31: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
110 |         # Track modules we've loaded to enable hot-reload
111 |         self._loaded_modules: Dict[str, Any] = {}
    |                               ^^^^ UP006
112 |         
113 |         logger.debug(f"PluginLoader initialized: auto_deps={auto_install_deps}")
    |
    = help: Replace with `dict`

plugins\_host\loader.py:112:1: W293 [*] Blank line contains whitespace
    |
110 |         # Track modules we've loaded to enable hot-reload
111 |         self._loaded_modules: Dict[str, Any] = {}
112 |         
    | ^^^^^^^^ W293
113 |         logger.debug(f"PluginLoader initialized: auto_deps={auto_install_deps}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:114:1: W293 [*] Blank line contains whitespace
    |
113 |         logger.debug(f"PluginLoader initialized: auto_deps={auto_install_deps}")
114 |     
    | ^^^^ W293
115 |     def check_dependencies(
116 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:117:23: UP006 [*] Use `list` instead of `List` for type annotation
    |
115 |     def check_dependencies(
116 |         self,
117 |         dependencies: List[str]
    |                       ^^^^ UP006
118 |     ) -> tuple[List[str], List[str]]:
119 |         """
    |
    = help: Replace with `list`

plugins\_host\loader.py:118:16: UP006 [*] Use `list` instead of `List` for type annotation
    |
116 |         self,
117 |         dependencies: List[str]
118 |     ) -> tuple[List[str], List[str]]:
    |                ^^^^ UP006
119 |         """
120 |         Check which dependencies are installed.
    |
    = help: Replace with `list`

plugins\_host\loader.py:118:27: UP006 [*] Use `list` instead of `List` for type annotation
    |
116 |         self,
117 |         dependencies: List[str]
118 |     ) -> tuple[List[str], List[str]]:
    |                           ^^^^ UP006
119 |         """
120 |         Check which dependencies are installed.
    |
    = help: Replace with `list`

plugins\_host\loader.py:121:1: W293 Blank line contains whitespace
    |
119 |         """
120 |         Check which dependencies are installed.
121 |         
    | ^^^^^^^^ W293
122 |         Args:
123 |             dependencies: List of pip requirement strings
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:124:1: W293 Blank line contains whitespace
    |
122 |         Args:
123 |             dependencies: List of pip requirement strings
124 |             
    | ^^^^^^^^^^^^ W293
125 |         Returns:
126 |             Tuple of (installed, missing) dependency lists
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:130:1: W293 [*] Blank line contains whitespace
    |
128 |         installed = []
129 |         missing = []
130 |         
    | ^^^^^^^^ W293
131 |         for dep in dependencies:
132 |             # Parse package name from requirement string
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:136:1: W293 [*] Blank line contains whitespace
    |
134 |             package_name = dep.split(">=")[0].split("<=")[0].split("==")[0].split("<")[0].split(">")[0].strip()
135 |             package_name = package_name.split("[")[0]  # Handle extras like "package[extra]"
136 |             
    | ^^^^^^^^^^^^ W293
137 |             try:
138 |                 importlib.import_module(package_name.replace("-", "_"))
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:142:1: W293 [*] Blank line contains whitespace
    |
140 |             except ImportError:
141 |                 missing.append(dep)
142 |         
    | ^^^^^^^^ W293
143 |         return installed, missing
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:144:1: W293 [*] Blank line contains whitespace
    |
143 |         return installed, missing
144 |     
    | ^^^^ W293
145 |     def install_dependencies(self, dependencies: List[str]) -> bool:
146 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:145:50: UP006 [*] Use `list` instead of `List` for type annotation
    |
143 |         return installed, missing
144 |     
145 |     def install_dependencies(self, dependencies: List[str]) -> bool:
    |                                                  ^^^^ UP006
146 |         """
147 |         Install dependencies using pip.
    |
    = help: Replace with `list`

plugins\_host\loader.py:148:1: W293 Blank line contains whitespace
    |
146 |         """
147 |         Install dependencies using pip.
148 |         
    | ^^^^^^^^ W293
149 |         Args:
150 |             dependencies: List of pip requirement strings
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:151:1: W293 Blank line contains whitespace
    |
149 |         Args:
150 |             dependencies: List of pip requirement strings
151 |             
    | ^^^^^^^^^^^^ W293
152 |         Returns:
153 |             True if installation successful
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:157:1: W293 [*] Blank line contains whitespace
    |
155 |         if not dependencies:
156 |             return True
157 |         
    | ^^^^^^^^ W293
158 |         try:
159 |             cmd = [self.pip_executable, "install"] + dependencies
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:161:1: W293 [*] Blank line contains whitespace
    |
159 |             cmd = [self.pip_executable, "install"] + dependencies
160 |             logger.info(f"Installing dependencies: {' '.join(dependencies)}")
161 |             
    | ^^^^^^^^^^^^ W293
162 |             result = subprocess.run(
163 |                 cmd,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:168:1: W293 [*] Blank line contains whitespace
    |
166 |                 timeout=300  # 5 minute timeout
167 |             )
168 |             
    | ^^^^^^^^^^^^ W293
169 |             if result.returncode != 0:
170 |                 logger.error(f"Pip install failed: {result.stderr}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:172:1: W293 [*] Blank line contains whitespace
    |
170 |                 logger.error(f"Pip install failed: {result.stderr}")
171 |                 return False
172 |             
    | ^^^^^^^^^^^^ W293
173 |             logger.info("Dependencies installed successfully")
174 |             return True
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:175:1: W293 [*] Blank line contains whitespace
    |
173 |             logger.info("Dependencies installed successfully")
174 |             return True
175 |             
    | ^^^^^^^^^^^^ W293
176 |         except subprocess.TimeoutExpired:
177 |             logger.error("Dependency installation timed out")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:182:1: W293 [*] Blank line contains whitespace
    |
180 |             logger.error(f"Failed to install dependencies: {e}")
181 |             return False
182 |     
    | ^^^^ W293
183 |     def import_module(
184 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:188:10: UP007 [*] Use `X | Y` for type annotations
    |
186 |         entry_point: str,
187 |         force_reload: bool = False
188 |     ) -> Optional[Any]:
    |          ^^^^^^^^^^^^^ UP007
189 |         """
190 |         Import a plugin module.
    |
    = help: Convert to `X | Y`

plugins\_host\loader.py:191:1: W293 Blank line contains whitespace
    |
189 |         """
190 |         Import a plugin module.
191 |         
    | ^^^^^^^^ W293
192 |         Args:
193 |             plugin_path: Absolute path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:196:1: W293 Blank line contains whitespace
    |
194 |             entry_point: Module name to import (e.g., "plugin")
195 |             force_reload: If True, reload even if already imported
196 |             
    | ^^^^^^^^^^^^ W293
197 |         Returns:
198 |             Imported module or None if failed
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:202:1: W293 [*] Blank line contains whitespace
    |
200 |         # Create a unique module name to avoid conflicts
201 |         module_key = f"{plugin_path.name}.{entry_point}"
202 |         
    | ^^^^^^^^ W293
203 |         # Check if already loaded
204 |         if module_key in self._loaded_modules and not force_reload:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:207:1: W293 [*] Blank line contains whitespace
    |
205 |             logger.debug(f"Using cached module: {module_key}")
206 |             return self._loaded_modules[module_key]
207 |         
    | ^^^^^^^^ W293
208 |         # Prepare module path
209 |         module_file = plugin_path / f"{entry_point}.py"
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:213:1: W293 [*] Blank line contains whitespace
    |
211 |             logger.error(f"Entry point not found: {module_file}")
212 |             return None
213 |         
    | ^^^^^^^^ W293
214 |         # Add plugin path to sys.path
215 |         plugin_path_str = str(plugin_path)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:220:1: W293 [*] Blank line contains whitespace
    |
218 |             sys.path.insert(0, plugin_path_str)
219 |             path_added = True
220 |         
    | ^^^^^^^^ W293
221 |         # Also add parent directory for absolute imports
222 |         parent_path_str = str(plugin_path.parent)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:227:1: W293 [*] Blank line contains whitespace
    |
225 |             sys.path.insert(0, parent_path_str)
226 |             parent_added = True
227 |         
    | ^^^^^^^^ W293
228 |         try:
229 |             # Use importlib.util for more control
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:234:1: W293 [*] Blank line contains whitespace
    |
232 |                 str(module_file)
233 |             )
234 |             
    | ^^^^^^^^^^^^ W293
235 |             if spec is None or spec.loader is None:
236 |                 logger.error(f"Failed to create module spec for {module_file}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:238:1: W293 [*] Blank line contains whitespace
    |
236 |                 logger.error(f"Failed to create module spec for {module_file}")
237 |                 return None
238 |             
    | ^^^^^^^^^^^^ W293
239 |             module = importlib.util.module_from_spec(spec)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:240:1: W293 [*] Blank line contains whitespace
    |
239 |             module = importlib.util.module_from_spec(spec)
240 |             
    | ^^^^^^^^^^^^ W293
241 |             # Add to sys.modules before execution for proper imports
242 |             sys.modules[module_key] = module
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:243:1: W293 [*] Blank line contains whitespace
    |
241 |             # Add to sys.modules before execution for proper imports
242 |             sys.modules[module_key] = module
243 |             
    | ^^^^^^^^^^^^ W293
244 |             # Execute the module
245 |             spec.loader.exec_module(module)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:246:1: W293 [*] Blank line contains whitespace
    |
244 |             # Execute the module
245 |             spec.loader.exec_module(module)
246 |             
    | ^^^^^^^^^^^^ W293
247 |             # Cache the module
248 |             self._loaded_modules[module_key] = module
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:249:1: W293 [*] Blank line contains whitespace
    |
247 |             # Cache the module
248 |             self._loaded_modules[module_key] = module
249 |             
    | ^^^^^^^^^^^^ W293
250 |             logger.debug(f"Successfully imported module: {module_key}")
251 |             return module
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:252:1: W293 [*] Blank line contains whitespace
    |
250 |             logger.debug(f"Successfully imported module: {module_key}")
251 |             return module
252 |             
    | ^^^^^^^^^^^^ W293
253 |         except Exception as e:
254 |             logger.error(f"Failed to import module {module_key}: {e}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:259:1: W293 [*] Blank line contains whitespace
    |
257 |                 del sys.modules[module_key]
258 |             return None
259 |             
    | ^^^^^^^^^^^^ W293
260 |         finally:
261 |             # Clean up sys.path
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:266:1: W293 [*] Blank line contains whitespace
    |
264 |             if parent_added and parent_path_str in sys.path:
265 |                 sys.path.remove(parent_path_str)
266 |     
    | ^^^^ W293
267 |     def find_plugin_class(
268 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:271:10: UP007 [*] Use `X | Y` for type annotations
    |
269 |         module: Any,
270 |         contract: str
271 |     ) -> Optional[Type[PluginBase]]:
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
272 |         """
273 |         Find the plugin class in an imported module.
    |
    = help: Convert to `X | Y`

plugins\_host\loader.py:271:19: UP006 [*] Use `type` instead of `Type` for type annotation
    |
269 |         module: Any,
270 |         contract: str
271 |     ) -> Optional[Type[PluginBase]]:
    |                   ^^^^ UP006
272 |         """
273 |         Find the plugin class in an imported module.
    |
    = help: Replace with `type`

plugins\_host\loader.py:274:1: W293 Blank line contains whitespace
    |
272 |         """
273 |         Find the plugin class in an imported module.
274 |         
    | ^^^^^^^^ W293
275 |         Args:
276 |             module: Imported module to search
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:278:1: W293 Blank line contains whitespace
    |
276 |             module: Imported module to search
277 |             contract: Expected contract type
278 |             
    | ^^^^^^^^^^^^ W293
279 |         Returns:
280 |             Plugin class or None if not found
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:287:1: W293 [*] Blank line contains whitespace
    |
285 |             if obj.__module__ != module.__name__:
286 |                 continue
287 |             
    | ^^^^^^^^^^^^ W293
288 |             # Must inherit from PluginBase
289 |             if not issubclass(obj, PluginBase):
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:291:1: W293 [*] Blank line contains whitespace
    |
289 |             if not issubclass(obj, PluginBase):
290 |                 continue
291 |             
    | ^^^^^^^^^^^^ W293
292 |             # Skip PluginBase itself
293 |             if obj is PluginBase:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:295:1: W293 [*] Blank line contains whitespace
    |
293 |             if obj is PluginBase:
294 |                 continue
295 |             
    | ^^^^^^^^^^^^ W293
296 |             # Skip contract base classes
297 |             if name.endswith("Contract"):
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:299:1: W293 [*] Blank line contains whitespace
    |
297 |             if name.endswith("Contract"):
298 |                 continue
299 |             
    | ^^^^^^^^^^^^ W293
300 |             # Prefer classes ending with "Plugin"
301 |             if name.endswith("Plugin"):
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:304:1: W293 [*] Blank line contains whitespace
    |
302 |                 logger.debug(f"Found plugin class: {name}")
303 |                 return obj
304 |         
    | ^^^^^^^^ W293
305 |         # If no class ending with "Plugin", return first PluginBase subclass
306 |         for name, obj in inspect.getmembers(module, inspect.isclass):
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:312:1: W293 [*] Blank line contains whitespace
    |
310 |                 logger.debug(f"Found plugin class (fallback): {name}")
311 |                 return obj
312 |         
    | ^^^^^^^^ W293
313 |         return None
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:314:1: W293 [*] Blank line contains whitespace
    |
313 |         return None
314 |     
    | ^^^^ W293
315 |     def load(
316 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:319:10: UP007 [*] Use `X | Y` for type annotations
    |
317 |         discovered: "DiscoveredPlugin",
318 |         force_reload: bool = False
319 |     ) -> Optional[LoadedPlugin]:
    |          ^^^^^^^^^^^^^^^^^^^^^^ UP007
320 |         """
321 |         Load a discovered plugin.
    |
    = help: Convert to `X | Y`

plugins\_host\loader.py:322:1: W293 Blank line contains whitespace
    |
320 |         """
321 |         Load a discovered plugin.
322 |         
    | ^^^^^^^^ W293
323 |         Args:
324 |             discovered: DiscoveredPlugin from discovery system
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:326:1: W293 Blank line contains whitespace
    |
324 |             discovered: DiscoveredPlugin from discovery system
325 |             force_reload: If True, reload even if already loaded
326 |             
    | ^^^^^^^^^^^^ W293
327 |         Returns:
328 |             LoadedPlugin if successful, None otherwise
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:330:22: UP006 [*] Use `list` instead of `List` for type annotation
    |
328 |             LoadedPlugin if successful, None otherwise
329 |         """
330 |         load_errors: List[str] = []
    |                      ^^^^ UP006
331 |         
332 |         # Validate discovery result
    |
    = help: Replace with `list`

plugins\_host\loader.py:331:1: W293 [*] Blank line contains whitespace
    |
329 |         """
330 |         load_errors: List[str] = []
331 |         
    | ^^^^^^^^ W293
332 |         # Validate discovery result
333 |         if not discovered.valid:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:336:1: W293 [*] Blank line contains whitespace
    |
334 |             logger.error(f"Cannot load invalid plugin: {discovered.name}")
335 |             return None
336 |         
    | ^^^^^^^^ W293
337 |         # Check dependencies
338 |         dependencies = discovered.manifest.get("dependencies", [])
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:341:1: W293 [*] Blank line contains whitespace
    |
339 |         if dependencies:
340 |             installed, missing = self.check_dependencies(dependencies)
341 |             
    | ^^^^^^^^^^^^ W293
342 |             if missing:
343 |                 if self.auto_install_deps:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:352:1: W293 [*] Blank line contains whitespace
    |
350 |                     )
351 |                     # Continue anyway, might work with optional deps
352 |         
    | ^^^^^^^^ W293
353 |         # Import module
354 |         module = self.import_module(
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:359:1: W293 [*] Blank line contains whitespace
    |
357 |             force_reload=force_reload
358 |         )
359 |         
    | ^^^^^^^^ W293
360 |         if module is None:
361 |             logger.error(f"Failed to import plugin module: {discovered.name}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:363:1: W293 [*] Blank line contains whitespace
    |
361 |             logger.error(f"Failed to import plugin module: {discovered.name}")
362 |             return None
363 |         
    | ^^^^^^^^ W293
364 |         # Find plugin class
365 |         plugin_class = self.find_plugin_class(module, discovered.contract)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:366:1: W293 [*] Blank line contains whitespace
    |
364 |         # Find plugin class
365 |         plugin_class = self.find_plugin_class(module, discovered.contract)
366 |         
    | ^^^^^^^^ W293
367 |         if plugin_class is None:
368 |             logger.error(f"No plugin class found in {discovered.name}")
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:370:1: W293 [*] Blank line contains whitespace
    |
368 |             logger.error(f"No plugin class found in {discovered.name}")
369 |             return None
370 |         
    | ^^^^^^^^ W293
371 |         # Instantiate plugin
372 |         try:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:378:1: W293 [*] Blank line contains whitespace
    |
376 |             logger.error(f"Failed to instantiate plugin {discovered.name}: {e}")
377 |             return None
378 |         
    | ^^^^^^^^ W293
379 |         # Create manifest dataclass
380 |         manifest = PluginManifest.from_dict(discovered.manifest)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:382:1: W293 [*] Blank line contains whitespace
    |
380 |         manifest = PluginManifest.from_dict(discovered.manifest)
381 |         instance.set_manifest(manifest)
382 |         
    | ^^^^^^^^ W293
383 |         # Create LoadedPlugin wrapper
384 |         loaded = LoadedPlugin(
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:394:1: W293 [*] Blank line contains whitespace
    |
392 |             load_errors=load_errors,
393 |         )
394 |         
    | ^^^^^^^^ W293
395 |         logger.info(f"Loaded plugin: {discovered.name} (v{manifest.version})")
396 |         return loaded
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:397:1: W293 [*] Blank line contains whitespace
    |
395 |         logger.info(f"Loaded plugin: {discovered.name} (v{manifest.version})")
396 |         return loaded
397 |     
    | ^^^^ W293
398 |     def unload(self, loaded: LoadedPlugin) -> bool:
399 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:401:1: W293 Blank line contains whitespace
    |
399 |         """
400 |         Unload a loaded plugin.
401 |         
    | ^^^^^^^^ W293
402 |         Args:
403 |             loaded: LoadedPlugin to unload
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:404:1: W293 Blank line contains whitespace
    |
402 |         Args:
403 |             loaded: LoadedPlugin to unload
404 |             
    | ^^^^^^^^^^^^ W293
405 |         Returns:
406 |             True if unloaded successfully
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:409:1: W293 [*] Blank line contains whitespace
    |
407 |         """
408 |         module_key = f"{loaded.path.name}.{loaded.manifest.entry_point if hasattr(loaded.manifest, 'entry_point') else 'plugin'}"
409 |         
    | ^^^^^^^^ W293
410 |         # Remove from cache
411 |         if module_key in self._loaded_modules:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:413:1: W293 [*] Blank line contains whitespace
    |
411 |         if module_key in self._loaded_modules:
412 |             del self._loaded_modules[module_key]
413 |         
    | ^^^^^^^^ W293
414 |         # Remove from sys.modules
415 |         if module_key in sys.modules:
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:417:1: W293 [*] Blank line contains whitespace
    |
415 |         if module_key in sys.modules:
416 |             del sys.modules[module_key]
417 |         
    | ^^^^^^^^ W293
418 |         logger.info(f"Unloaded plugin: {loaded.name}")
419 |         return True
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:420:1: W293 [*] Blank line contains whitespace
    |
418 |         logger.info(f"Unloaded plugin: {loaded.name}")
419 |         return True
420 |     
    | ^^^^ W293
421 |     def reload(
422 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:424:10: UP007 [*] Use `X | Y` for type annotations
    |
422 |         self,
423 |         discovered: "DiscoveredPlugin"
424 |     ) -> Optional[LoadedPlugin]:
    |          ^^^^^^^^^^^^^^^^^^^^^^ UP007
425 |         """
426 |         Reload a plugin (unload then load fresh).
    |
    = help: Convert to `X | Y`

plugins\_host\loader.py:427:1: W293 Blank line contains whitespace
    |
425 |         """
426 |         Reload a plugin (unload then load fresh).
427 |         
    | ^^^^^^^^ W293
428 |         Args:
429 |             discovered: DiscoveredPlugin to reload
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:430:1: W293 Blank line contains whitespace
    |
428 |         Args:
429 |             discovered: DiscoveredPlugin to reload
430 |             
    | ^^^^^^^^^^^^ W293
431 |         Returns:
432 |             New LoadedPlugin if successful
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:448:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
446 |     name: str
447 |     path: Path
448 |     manifest: Dict[str, Any]
    |               ^^^^ UP006
449 |     contract: str
450 |     entry_point: str
    |
    = help: Replace with `dict`

plugins\_host\loader.py:452:13: UP006 [*] Use `list` instead of `List` for type annotation
    |
450 |     entry_point: str
451 |     valid: bool
452 |     errors: List[str]
    |             ^^^^ UP006
    |
    = help: Replace with `list`

plugins\_host\loader.py:458:13: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
456 | async def initialize_plugin(
457 |     loaded: LoadedPlugin,
458 |     config: Dict[str, Any]
    |             ^^^^ UP006
459 | ) -> bool:
460 |     """
    |
    = help: Replace with `dict`

plugins\_host\loader.py:462:1: W293 Blank line contains whitespace
    |
460 |     """
461 |     Initialize a loaded plugin with configuration.
462 |     
    | ^^^^ W293
463 |     Args:
464 |         loaded: LoadedPlugin to initialize
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:466:1: W293 Blank line contains whitespace
    |
464 |         loaded: LoadedPlugin to initialize
465 |         config: Plugin configuration dictionary
466 |         
    | ^^^^^^^^ W293
467 |     Returns:
468 |         True if initialization successful
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:473:1: W293 [*] Blank line contains whitespace
    |
471 |         logger.warning(f"Plugin {loaded.name} already initialized")
472 |         return True
473 |     
    | ^^^^ W293
474 |     loaded.status = PluginStatus.INITIALIZING
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:475:1: W293 [*] Blank line contains whitespace
    |
474 |     loaded.status = PluginStatus.INITIALIZING
475 |     
    | ^^^^ W293
476 |     try:
477 |         success = await loaded.instance.initialize(config)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:478:1: W293 [*] Blank line contains whitespace
    |
476 |     try:
477 |         success = await loaded.instance.initialize(config)
478 |         
    | ^^^^^^^^ W293
479 |         if success:
480 |             loaded.initialized = True
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:486:1: W293 [*] Blank line contains whitespace
    |
484 |             loaded.status = PluginStatus.ERROR
485 |             logger.error(f"Plugin {loaded.name} initialization returned False")
486 |         
    | ^^^^^^^^ W293
487 |         return success
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:488:1: W293 [*] Blank line contains whitespace
    |
487 |         return success
488 |         
    | ^^^^^^^^ W293
489 |     except Exception as e:
490 |         loaded.status = PluginStatus.ERROR
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:499:1: W293 Blank line contains whitespace
    |
497 |     """
498 |     Shutdown a loaded plugin.
499 |     
    | ^^^^ W293
500 |     Args:
501 |         loaded: LoadedPlugin to shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:502:1: W293 Blank line contains whitespace
    |
500 |     Args:
501 |         loaded: LoadedPlugin to shutdown
502 |         
    | ^^^^^^^^ W293
503 |     Returns:
504 |         True if shutdown successful
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:509:1: W293 [*] Blank line contains whitespace
    |
507 |         logger.warning(f"Plugin {loaded.name} not initialized, nothing to shutdown")
508 |         return True
509 |     
    | ^^^^ W293
510 |     loaded.status = PluginStatus.SHUTTING_DOWN
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:511:1: W293 [*] Blank line contains whitespace
    |
510 |     loaded.status = PluginStatus.SHUTTING_DOWN
511 |     
    | ^^^^ W293
512 |     try:
513 |         success = await loaded.instance.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:514:1: W293 [*] Blank line contains whitespace
    |
512 |     try:
513 |         success = await loaded.instance.shutdown()
514 |         
    | ^^^^^^^^ W293
515 |         if success:
516 |             loaded.initialized = False
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:522:1: W293 [*] Blank line contains whitespace
    |
520 |             loaded.status = PluginStatus.ERROR
521 |             logger.error(f"Plugin {loaded.name} shutdown returned False")
522 |         
    | ^^^^^^^^ W293
523 |         return success
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:524:1: W293 [*] Blank line contains whitespace
    |
523 |         return success
524 |         
    | ^^^^^^^^ W293
525 |     except Exception as e:
526 |         loaded.status = PluginStatus.ERROR
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:539:1: W293 [*] Blank line contains whitespace
    |
537 |         stream=sys.stderr
538 |     )
539 |     
    | ^^^^ W293
540 |     from .discovery import HybridDiscovery
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:541:1: W293 [*] Blank line contains whitespace
    |
540 |     from .discovery import HybridDiscovery
541 |     
    | ^^^^ W293
542 |     this_dir = Path(__file__).parent.resolve()
543 |     plugins_dir = this_dir.parent
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:545:1: W293 [*] Blank line contains whitespace
    |
543 |     plugins_dir = this_dir.parent
544 |     config_dir = this_dir.parent.parent / "config"
545 |     
    | ^^^^ W293
546 |     discovery = HybridDiscovery(plugins_dir, config_dir)
547 |     loader = PluginLoader()
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:548:1: W293 [*] Blank line contains whitespace
    |
546 |     discovery = HybridDiscovery(plugins_dir, config_dir)
547 |     loader = PluginLoader()
548 |     
    | ^^^^ W293
549 |     for plugin in discovery.scan():
550 |         print(f"\n=== Loading: {plugin.name} ===", file=sys.stderr)
    |
    = help: Remove whitespace from blank line

plugins\_host\loader.py:552:1: W293 [*] Blank line contains whitespace
    |
550 |         print(f"\n=== Loading: {plugin.name} ===", file=sys.stderr)
551 |         loaded = loader.load(plugin)
552 |         
    | ^^^^^^^^ W293
553 |         if loaded:
554 |             print(f"Loaded: {loaded.name} v{loaded.manifest.version}", file=sys.stderr)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:24:1: UP035 [*] Import from `collections.abc` instead: `Callable`
   |
22 | from dataclasses import dataclass, field
23 | from pathlib import Path
24 | from typing import Any, Callable, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import HealthStatus, PluginBase, PluginStatus
   |
   = help: Import from `collections.abc`

plugins\_host\manager.py:24:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
22 | from dataclasses import dataclass, field
23 | from pathlib import Path
24 | from typing import Any, Callable, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import HealthStatus, PluginBase, PluginStatus
   |

plugins\_host\manager.py:24:1: UP035 `typing.List` is deprecated, use `list` instead
   |
22 | from dataclasses import dataclass, field
23 | from pathlib import Path
24 | from typing import Any, Callable, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import HealthStatus, PluginBase, PluginStatus
   |

plugins\_host\manager.py:24:1: UP035 `typing.Set` is deprecated, use `set` instead
   |
22 | from dataclasses import dataclass, field
23 | from pathlib import Path
24 | from typing import Any, Callable, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import HealthStatus, PluginBase, PluginStatus
   |

plugins\_host\manager.py:39:1: W293 Blank line contains whitespace
   |
37 |     """
38 |     Result of a hot-swap operation.
39 |     
   | ^^^^ W293
40 |     Attributes:
41 |         success: Whether swap completed successfully
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:52:13: UP006 [*] Use `list` instead of `List` for type annotation
   |
50 |     new_plugin: str
51 |     rollback_performed: bool = False
52 |     errors: List[str] = field(default_factory=list)
   |             ^^^^ UP006
53 |     swap_duration_ms: float = 0.0
   |
   = help: Replace with `list`

plugins\_host\manager.py:54:1: W293 [*] Blank line contains whitespace
   |
52 |     errors: List[str] = field(default_factory=list)
53 |     swap_duration_ms: float = 0.0
54 |     
   | ^^^^ W293
55 |     def to_dict(self) -> Dict[str, Any]:
56 |         """Serialize for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:55:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
53 |     swap_duration_ms: float = 0.0
54 |     
55 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
56 |         """Serialize for JSON-RPC responses."""
57 |         return {
   |
   = help: Replace with `dict`

plugins\_host\manager.py:70:1: W293 Blank line contains whitespace
   |
68 |     """
69 |     Central plugin lifecycle manager.
70 |     
   | ^^^^ W293
71 |     Responsibilities:
72 |         - Discover available plugins
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:77:1: W293 Blank line contains whitespace
   |
75 |         - Hot-swap plugins with rollback support
76 |         - Health monitoring
77 |     
   | ^^^^ W293
78 |     Usage:
79 |         manager = PluginManager(plugins_dir="./plugins", config_dir="./config")
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:81:1: W293 Blank line contains whitespace
   |
79 |         manager = PluginManager(plugins_dir="./plugins", config_dir="./config")
80 |         await manager.start()
81 |         
   | ^^^^^^^^ W293
82 |         # Load a specific plugin
83 |         loaded = await manager.load_plugin("tts_kokoro_plugin")
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:84:1: W293 Blank line contains whitespace
   |
82 |         # Load a specific plugin
83 |         loaded = await manager.load_plugin("tts_kokoro_plugin")
84 |         
   | ^^^^^^^^ W293
85 |         # Hot-swap plugins
86 |         result = await manager.hot_swap("tts_kokoro_plugin", "tts_piper_plugin")
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:87:1: W293 Blank line contains whitespace
   |
85 |         # Hot-swap plugins
86 |         result = await manager.hot_swap("tts_kokoro_plugin", "tts_piper_plugin")
87 |         
   | ^^^^^^^^ W293
88 |         # Shutdown
89 |         await manager.shutdown()
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:91:1: W293 [*] Blank line contains whitespace
   |
89 |         await manager.shutdown()
90 |     """
91 |     
   | ^^^^ W293
92 |     def __init__(
93 |         self,
   |
   = help: Remove whitespace from blank line

plugins\_host\manager.py:100:1: W293 Blank line contains whitespace
    |
 98 |         """
 99 |         Initialize plugin manager.
100 |         
    | ^^^^^^^^ W293
101 |         Args:
102 |             plugins_dir: Path to plugins directory
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |         self.plugins_dir = Path(plugins_dir).resolve()
107 |         self.config_dir = Path(config_dir).resolve()
108 |         
    | ^^^^^^^^ W293
109 |         # Initialize subsystems
110 |         self.discovery = HybridDiscovery(plugins_dir, config_dir)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:113:1: W293 [*] Blank line contains whitespace
    |
111 |         self.validator = PluginValidator(config_dir)
112 |         self.loader = PluginLoader(auto_install_deps=auto_install_deps)
113 |         
    | ^^^^^^^^ W293
114 |         # Active plugins by name
115 |         self._plugins: Dict[str, LoadedPlugin] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:115:24: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
114 |         # Active plugins by name
115 |         self._plugins: Dict[str, LoadedPlugin] = {}
    |                        ^^^^ UP006
116 |         
117 |         # Plugin configurations
    |
    = help: Replace with `dict`

plugins\_host\manager.py:116:1: W293 [*] Blank line contains whitespace
    |
114 |         # Active plugins by name
115 |         self._plugins: Dict[str, LoadedPlugin] = {}
116 |         
    | ^^^^^^^^ W293
117 |         # Plugin configurations
118 |         self._configs: Dict[str, Dict[str, Any]] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:118:24: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
117 |         # Plugin configurations
118 |         self._configs: Dict[str, Dict[str, Any]] = {}
    |                        ^^^^ UP006
119 |         
120 |         # Callbacks for plugin events
    |
    = help: Replace with `dict`

plugins\_host\manager.py:118:34: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
117 |         # Plugin configurations
118 |         self._configs: Dict[str, Dict[str, Any]] = {}
    |                                  ^^^^ UP006
119 |         
120 |         # Callbacks for plugin events
    |
    = help: Replace with `dict`

plugins\_host\manager.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |         # Plugin configurations
118 |         self._configs: Dict[str, Dict[str, Any]] = {}
119 |         
    | ^^^^^^^^ W293
120 |         # Callbacks for plugin events
121 |         self._on_load_callbacks: List[Callable[[LoadedPlugin], None]] = []
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:121:34: UP006 [*] Use `list` instead of `List` for type annotation
    |
120 |         # Callbacks for plugin events
121 |         self._on_load_callbacks: List[Callable[[LoadedPlugin], None]] = []
    |                                  ^^^^ UP006
122 |         self._on_unload_callbacks: List[Callable[[str], None]] = []
123 |         self._on_swap_callbacks: List[Callable[[HotSwapResult], None]] = []
    |
    = help: Replace with `list`

plugins\_host\manager.py:122:36: UP006 [*] Use `list` instead of `List` for type annotation
    |
120 |         # Callbacks for plugin events
121 |         self._on_load_callbacks: List[Callable[[LoadedPlugin], None]] = []
122 |         self._on_unload_callbacks: List[Callable[[str], None]] = []
    |                                    ^^^^ UP006
123 |         self._on_swap_callbacks: List[Callable[[HotSwapResult], None]] = []
    |
    = help: Replace with `list`

plugins\_host\manager.py:123:34: UP006 [*] Use `list` instead of `List` for type annotation
    |
121 |         self._on_load_callbacks: List[Callable[[LoadedPlugin], None]] = []
122 |         self._on_unload_callbacks: List[Callable[[str], None]] = []
123 |         self._on_swap_callbacks: List[Callable[[HotSwapResult], None]] = []
    |                                  ^^^^ UP006
124 |         
125 |         # Manager state
    |
    = help: Replace with `list`

plugins\_host\manager.py:124:1: W293 [*] Blank line contains whitespace
    |
122 |         self._on_unload_callbacks: List[Callable[[str], None]] = []
123 |         self._on_swap_callbacks: List[Callable[[HotSwapResult], None]] = []
124 |         
    | ^^^^^^^^ W293
125 |         # Manager state
126 |         self._started = False
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:128:1: W293 [*] Blank line contains whitespace
    |
126 |         self._started = False
127 |         self._shutting_down = False
128 |         
    | ^^^^^^^^ W293
129 |         logger.debug(f"PluginManager initialized: plugins={self.plugins_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:130:1: W293 [*] Blank line contains whitespace
    |
129 |         logger.debug(f"PluginManager initialized: plugins={self.plugins_dir}")
130 |     
    | ^^^^ W293
131 |     @property
132 |     def is_started(self) -> bool:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:135:1: W293 [*] Blank line contains whitespace
    |
133 |         """Check if manager has been started."""
134 |         return self._started
135 |     
    | ^^^^ W293
136 |     @property
137 |     def loaded_plugins(self) -> Dict[str, LoadedPlugin]:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:137:33: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
136 |     @property
137 |     def loaded_plugins(self) -> Dict[str, LoadedPlugin]:
    |                                 ^^^^ UP006
138 |         """Get dictionary of loaded plugins."""
139 |         return self._plugins.copy()
    |
    = help: Replace with `dict`

plugins\_host\manager.py:140:1: W293 [*] Blank line contains whitespace
    |
138 |         """Get dictionary of loaded plugins."""
139 |         return self._plugins.copy()
140 |     
    | ^^^^ W293
141 |     @property
142 |     def plugin_names(self) -> Set[str]:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:142:31: UP006 [*] Use `set` instead of `Set` for type annotation
    |
141 |     @property
142 |     def plugin_names(self) -> Set[str]:
    |                               ^^^ UP006
143 |         """Get set of loaded plugin names."""
144 |         return set(self._plugins.keys())
    |
    = help: Replace with `set`

plugins\_host\manager.py:145:1: W293 [*] Blank line contains whitespace
    |
143 |         """Get set of loaded plugin names."""
144 |         return set(self._plugins.keys())
145 |     
    | ^^^^ W293
146 |     def on_load(self, callback: Callable[[LoadedPlugin], None]) -> None:
147 |         """Register callback for plugin load events."""
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:149:1: W293 [*] Blank line contains whitespace
    |
147 |         """Register callback for plugin load events."""
148 |         self._on_load_callbacks.append(callback)
149 |     
    | ^^^^ W293
150 |     def on_unload(self, callback: Callable[[str], None]) -> None:
151 |         """Register callback for plugin unload events."""
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:153:1: W293 [*] Blank line contains whitespace
    |
151 |         """Register callback for plugin unload events."""
152 |         self._on_unload_callbacks.append(callback)
153 |     
    | ^^^^ W293
154 |     def on_swap(self, callback: Callable[[HotSwapResult], None]) -> None:
155 |         """Register callback for hot-swap events."""
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:157:1: W293 [*] Blank line contains whitespace
    |
155 |         """Register callback for hot-swap events."""
156 |         self._on_swap_callbacks.append(callback)
157 |     
    | ^^^^ W293
158 |     async def start(self) -> None:
159 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:161:1: W293 Blank line contains whitespace
    |
159 |         """
160 |         Start the plugin manager.
161 |         
    | ^^^^^^^^ W293
162 |         Performs initial discovery but does not auto-load plugins.
163 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:167:1: W293 [*] Blank line contains whitespace
    |
165 |             logger.warning("PluginManager already started")
166 |             return
167 |         
    | ^^^^^^^^ W293
168 |         logger.info("Starting PluginManager...")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:169:1: W293 [*] Blank line contains whitespace
    |
168 |         logger.info("Starting PluginManager...")
169 |         
    | ^^^^^^^^ W293
170 |         # Perform initial discovery
171 |         discovered = self.discovery.scan()
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:173:1: W293 [*] Blank line contains whitespace
    |
171 |         discovered = self.discovery.scan()
172 |         logger.info(f"Discovered {len(discovered)} plugins")
173 |         
    | ^^^^^^^^ W293
174 |         self._started = True
175 |         logger.info("PluginManager started")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:176:1: W293 [*] Blank line contains whitespace
    |
174 |         self._started = True
175 |         logger.info("PluginManager started")
176 |     
    | ^^^^ W293
177 |     async def shutdown(self) -> None:
178 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:180:1: W293 Blank line contains whitespace
    |
178 |         """
179 |         Shutdown the plugin manager.
180 |         
    | ^^^^^^^^ W293
181 |         Shuts down and unloads all plugins gracefully.
182 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:185:1: W293 [*] Blank line contains whitespace
    |
183 |         if not self._started:
184 |             return
185 |         
    | ^^^^^^^^ W293
186 |         if self._shutting_down:
187 |             logger.warning("Shutdown already in progress")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:189:1: W293 [*] Blank line contains whitespace
    |
187 |             logger.warning("Shutdown already in progress")
188 |             return
189 |         
    | ^^^^^^^^ W293
190 |         self._shutting_down = True
191 |         logger.info("Shutting down PluginManager...")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:192:1: W293 [*] Blank line contains whitespace
    |
190 |         self._shutting_down = True
191 |         logger.info("Shutting down PluginManager...")
192 |         
    | ^^^^^^^^ W293
193 |         # Shutdown all plugins
194 |         plugin_names = list(self._plugins.keys())
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:200:1: W293 [*] Blank line contains whitespace
    |
198 |             except Exception as e:
199 |                 logger.error(f"Error unloading {name} during shutdown: {e}")
200 |         
    | ^^^^^^^^ W293
201 |         self._started = False
202 |         self._shutting_down = False
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:204:1: W293 [*] Blank line contains whitespace
    |
202 |         self._shutting_down = False
203 |         logger.info("PluginManager shutdown complete")
204 |     
    | ^^^^ W293
205 |     def discover_plugins(
206 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:208:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
206 |         self,
207 |         include_invalid: bool = False
208 |     ) -> List[DiscoveredPlugin]:
    |          ^^^^ UP006
209 |         """
210 |         Discover available plugins.
    |
    = help: Replace with `list`

plugins\_host\manager.py:211:1: W293 Blank line contains whitespace
    |
209 |         """
210 |         Discover available plugins.
211 |         
    | ^^^^^^^^ W293
212 |         Args:
213 |             include_invalid: Include plugins that failed validation
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:214:1: W293 Blank line contains whitespace
    |
212 |         Args:
213 |             include_invalid: Include plugins that failed validation
214 |             
    | ^^^^^^^^^^^^ W293
215 |         Returns:
216 |             List of DiscoveredPlugin objects
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:219:1: W293 [*] Blank line contains whitespace
    |
217 |         """
218 |         return self.discovery.scan(include_invalid=include_invalid)
219 |     
    | ^^^^ W293
220 |     def discover_by_contract(
221 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:224:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
222 |         contract: str,
223 |         include_invalid: bool = False
224 |     ) -> List[DiscoveredPlugin]:
    |          ^^^^ UP006
225 |         """
226 |         Discover plugins of a specific contract type.
    |
    = help: Replace with `list`

plugins\_host\manager.py:227:1: W293 Blank line contains whitespace
    |
225 |         """
226 |         Discover plugins of a specific contract type.
227 |         
    | ^^^^^^^^ W293
228 |         Args:
229 |             contract: Contract type (e.g., "tts", "llm")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:231:1: W293 Blank line contains whitespace
    |
229 |             contract: Contract type (e.g., "tts", "llm")
230 |             include_invalid: Include invalid plugins
231 |             
    | ^^^^^^^^^^^^ W293
232 |         Returns:
233 |             List of matching plugins
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:236:1: W293 [*] Blank line contains whitespace
    |
234 |         """
235 |         return self.discovery.scan_by_contract(contract, include_invalid)
236 |     
    | ^^^^ W293
237 |     def validate_plugin(
238 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:244:1: W293 Blank line contains whitespace
    |
242 |         """
243 |         Validate a plugin.
244 |         
    | ^^^^^^^^ W293
245 |         Args:
246 |             plugin_name: Name of plugin to validate
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:248:1: W293 Blank line contains whitespace
    |
246 |             plugin_name: Name of plugin to validate
247 |             deep_validate: If True, also validate class methods
248 |             
    | ^^^^^^^^^^^^ W293
249 |         Returns:
250 |             ValidationResult
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:257:1: W293 [*] Blank line contains whitespace
    |
255 |             result.add_error(f"Plugin not found: {plugin_name}")
256 |             return result
257 |         
    | ^^^^^^^^ W293
258 |         return self.validator.validate_from_discovery(discovered, deep_validate)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:259:1: W293 [*] Blank line contains whitespace
    |
258 |         return self.validator.validate_from_discovery(discovered, deep_validate)
259 |     
    | ^^^^ W293
260 |     def get_plugin(self, name: str) -> Optional[LoadedPlugin]:
261 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:260:40: UP007 [*] Use `X | Y` for type annotations
    |
258 |         return self.validator.validate_from_discovery(discovered, deep_validate)
259 |     
260 |     def get_plugin(self, name: str) -> Optional[LoadedPlugin]:
    |                                        ^^^^^^^^^^^^^^^^^^^^^^ UP007
261 |         """
262 |         Get a loaded plugin by name.
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:263:1: W293 Blank line contains whitespace
    |
261 |         """
262 |         Get a loaded plugin by name.
263 |         
    | ^^^^^^^^ W293
264 |         Args:
265 |             name: Plugin name
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:266:1: W293 Blank line contains whitespace
    |
264 |         Args:
265 |             name: Plugin name
266 |             
    | ^^^^^^^^^^^^ W293
267 |         Returns:
268 |             LoadedPlugin or None if not loaded
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:271:1: W293 [*] Blank line contains whitespace
    |
269 |         """
270 |         return self._plugins.get(name)
271 |     
    | ^^^^ W293
272 |     def get_plugin_instance(self, name: str) -> Optional[PluginBase]:
273 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:272:49: UP007 [*] Use `X | Y` for type annotations
    |
270 |         return self._plugins.get(name)
271 |     
272 |     def get_plugin_instance(self, name: str) -> Optional[PluginBase]:
    |                                                 ^^^^^^^^^^^^^^^^^^^^ UP007
273 |         """
274 |         Get a plugin instance by name.
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:275:1: W293 Blank line contains whitespace
    |
273 |         """
274 |         Get a plugin instance by name.
275 |         
    | ^^^^^^^^ W293
276 |         Args:
277 |             name: Plugin name
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:278:1: W293 Blank line contains whitespace
    |
276 |         Args:
277 |             name: Plugin name
278 |             
    | ^^^^^^^^^^^^ W293
279 |         Returns:
280 |             Plugin instance or None
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:284:1: W293 [*] Blank line contains whitespace
    |
282 |         loaded = self._plugins.get(name)
283 |         return loaded.instance if loaded else None
284 |     
    | ^^^^ W293
285 |     def is_loaded(self, name: str) -> bool:
286 |         """Check if a plugin is loaded."""
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:288:1: W293 [*] Blank line contains whitespace
    |
286 |         """Check if a plugin is loaded."""
287 |         return name in self._plugins
288 |     
    | ^^^^ W293
289 |     async def load_plugin(
290 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:292:17: UP007 [*] Use `X | Y` for type annotations
    |
290 |         self,
291 |         name: str,
292 |         config: Optional[Dict[str, Any]] = None,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
293 |         auto_initialize: bool = True
294 |     ) -> Optional[LoadedPlugin]:
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:292:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
290 |         self,
291 |         name: str,
292 |         config: Optional[Dict[str, Any]] = None,
    |                          ^^^^ UP006
293 |         auto_initialize: bool = True
294 |     ) -> Optional[LoadedPlugin]:
    |
    = help: Replace with `dict`

plugins\_host\manager.py:294:10: UP007 [*] Use `X | Y` for type annotations
    |
292 |         config: Optional[Dict[str, Any]] = None,
293 |         auto_initialize: bool = True
294 |     ) -> Optional[LoadedPlugin]:
    |          ^^^^^^^^^^^^^^^^^^^^^^ UP007
295 |         """
296 |         Load a plugin by name.
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:297:1: W293 Blank line contains whitespace
    |
295 |         """
296 |         Load a plugin by name.
297 |         
    | ^^^^^^^^ W293
298 |         Args:
299 |             name: Plugin name to load
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:302:1: W293 Blank line contains whitespace
    |
300 |             config: Optional configuration for initialization
301 |             auto_initialize: If True, also call initialize()
302 |             
    | ^^^^^^^^^^^^ W293
303 |         Returns:
304 |             LoadedPlugin if successful, None otherwise
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:310:1: W293 [*] Blank line contains whitespace
    |
308 |             logger.warning(f"Plugin {name} already loaded")
309 |             return self._plugins[name]
310 |         
    | ^^^^^^^^ W293
311 |         # Discover plugin
312 |         discovered = self.discovery.find_plugin(name)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:316:1: W293 [*] Blank line contains whitespace
    |
314 |             logger.error(f"Plugin not found: {name}")
315 |             return None
316 |         
    | ^^^^^^^^ W293
317 |         # Validate
318 |         validation = self.validator.validate_from_discovery(discovered, deep_validate=False)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:324:1: W293 [*] Blank line contains whitespace
    |
322 |                 logger.error(f"  {error}")
323 |             return None
324 |         
    | ^^^^^^^^ W293
325 |         # Load
326 |         loaded = self.loader.load(discovered)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:330:1: W293 [*] Blank line contains whitespace
    |
328 |             logger.error(f"Failed to load plugin: {name}")
329 |             return None
330 |         
    | ^^^^^^^^ W293
331 |         # Store configuration
332 |         if config:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:334:1: W293 [*] Blank line contains whitespace
    |
332 |         if config:
333 |             self._configs[name] = config
334 |         
    | ^^^^^^^^ W293
335 |         # Initialize if requested
336 |         if auto_initialize:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:338:1: W293 [*] Blank line contains whitespace
    |
336 |         if auto_initialize:
337 |             plugin_config = self._configs.get(name, {})
338 |             
    | ^^^^^^^^^^^^ W293
339 |             # Merge with default config from manifest
340 |             default_config = discovered.manifest.get("default_config", {})
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:342:1: W293 [*] Blank line contains whitespace
    |
340 |             default_config = discovered.manifest.get("default_config", {})
341 |             merged_config = {**default_config, **plugin_config}
342 |             
    | ^^^^^^^^^^^^ W293
343 |             success = await initialize_plugin(loaded, merged_config)
344 |             if not success:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:349:1: W293 [*] Blank line contains whitespace
    |
347 |                 self.loader.unload(loaded)
348 |                 return None
349 |         
    | ^^^^^^^^ W293
350 |         # Add to active plugins
351 |         self._plugins[name] = loaded
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:352:1: W293 [*] Blank line contains whitespace
    |
350 |         # Add to active plugins
351 |         self._plugins[name] = loaded
352 |         
    | ^^^^^^^^ W293
353 |         # Fire callbacks
354 |         for callback in self._on_load_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:359:1: W293 [*] Blank line contains whitespace
    |
357 |             except Exception as e:
358 |                 logger.error(f"Error in load callback: {e}")
359 |         
    | ^^^^^^^^ W293
360 |         logger.info(f"Plugin loaded: {name} (v{loaded.manifest.version})")
361 |         return loaded
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:362:1: W293 [*] Blank line contains whitespace
    |
360 |         logger.info(f"Plugin loaded: {name} (v{loaded.manifest.version})")
361 |         return loaded
362 |     
    | ^^^^ W293
363 |     async def unload_plugin(self, name: str) -> bool:
364 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:366:1: W293 Blank line contains whitespace
    |
364 |         """
365 |         Unload a plugin.
366 |         
    | ^^^^^^^^ W293
367 |         Args:
368 |             name: Plugin name to unload
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:369:1: W293 Blank line contains whitespace
    |
367 |         Args:
368 |             name: Plugin name to unload
369 |             
    | ^^^^^^^^^^^^ W293
370 |         Returns:
371 |             True if unloaded successfully
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:377:1: W293 [*] Blank line contains whitespace
    |
375 |             logger.warning(f"Plugin not loaded: {name}")
376 |             return False
377 |         
    | ^^^^^^^^ W293
378 |         # Shutdown if initialized
379 |         if loaded.initialized:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:381:1: W293 [*] Blank line contains whitespace
    |
379 |         if loaded.initialized:
380 |             await shutdown_plugin(loaded)
381 |         
    | ^^^^^^^^ W293
382 |         # Unload module
383 |         self.loader.unload(loaded)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:384:1: W293 [*] Blank line contains whitespace
    |
382 |         # Unload module
383 |         self.loader.unload(loaded)
384 |         
    | ^^^^^^^^ W293
385 |         # Remove from active plugins
386 |         del self._plugins[name]
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:387:1: W293 [*] Blank line contains whitespace
    |
385 |         # Remove from active plugins
386 |         del self._plugins[name]
387 |         
    | ^^^^^^^^ W293
388 |         # Clear config
389 |         if name in self._configs:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:391:1: W293 [*] Blank line contains whitespace
    |
389 |         if name in self._configs:
390 |             del self._configs[name]
391 |         
    | ^^^^^^^^ W293
392 |         # Fire callbacks
393 |         for callback in self._on_unload_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:398:1: W293 [*] Blank line contains whitespace
    |
396 |             except Exception as e:
397 |                 logger.error(f"Error in unload callback: {e}")
398 |         
    | ^^^^^^^^ W293
399 |         logger.info(f"Plugin unloaded: {name}")
400 |         return True
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:401:1: W293 [*] Blank line contains whitespace
    |
399 |         logger.info(f"Plugin unloaded: {name}")
400 |         return True
401 |     
    | ^^^^ W293
402 |     async def reload_plugin(
403 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:405:17: UP007 [*] Use `X | Y` for type annotations
    |
403 |         self,
404 |         name: str,
405 |         config: Optional[Dict[str, Any]] = None
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
406 |     ) -> Optional[LoadedPlugin]:
407 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:405:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
403 |         self,
404 |         name: str,
405 |         config: Optional[Dict[str, Any]] = None
    |                          ^^^^ UP006
406 |     ) -> Optional[LoadedPlugin]:
407 |         """
    |
    = help: Replace with `dict`

plugins\_host\manager.py:406:10: UP007 [*] Use `X | Y` for type annotations
    |
404 |         name: str,
405 |         config: Optional[Dict[str, Any]] = None
406 |     ) -> Optional[LoadedPlugin]:
    |          ^^^^^^^^^^^^^^^^^^^^^^ UP007
407 |         """
408 |         Reload a plugin (unload then load fresh).
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:409:1: W293 Blank line contains whitespace
    |
407 |         """
408 |         Reload a plugin (unload then load fresh).
409 |         
    | ^^^^^^^^ W293
410 |         Args:
411 |             name: Plugin name to reload
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:413:1: W293 Blank line contains whitespace
    |
411 |             name: Plugin name to reload
412 |             config: New configuration (uses previous if not provided)
413 |             
    | ^^^^^^^^^^^^ W293
414 |         Returns:
415 |             New LoadedPlugin if successful
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:420:1: W293 [*] Blank line contains whitespace
    |
418 |         if config is None:
419 |             config = self._configs.get(name, {})
420 |         
    | ^^^^^^^^ W293
421 |         # Unload
422 |         await self.unload_plugin(name)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:423:1: W293 [*] Blank line contains whitespace
    |
421 |         # Unload
422 |         await self.unload_plugin(name)
423 |         
    | ^^^^^^^^ W293
424 |         # Load fresh
425 |         return await self.load_plugin(name, config, auto_initialize=True)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:426:1: W293 [*] Blank line contains whitespace
    |
424 |         # Load fresh
425 |         return await self.load_plugin(name, config, auto_initialize=True)
426 |     
    | ^^^^ W293
427 |     async def hot_swap(
428 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:431:21: UP007 [*] Use `X | Y` for type annotations
    |
429 |         old_name: str,
430 |         new_name: str,
431 |         new_config: Optional[Dict[str, Any]] = None
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
432 |     ) -> HotSwapResult:
433 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:431:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
429 |         old_name: str,
430 |         new_name: str,
431 |         new_config: Optional[Dict[str, Any]] = None
    |                              ^^^^ UP006
432 |     ) -> HotSwapResult:
433 |         """
    |
    = help: Replace with `dict`

plugins\_host\manager.py:435:1: W293 Blank line contains whitespace
    |
433 |         """
434 |         Hot-swap one plugin for another with rollback support.
435 |         
    | ^^^^^^^^ W293
436 |         Process:
437 |             1. Load new plugin (don't initialize yet)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:442:1: W293 Blank line contains whitespace
    |
440 |             4. If init fails, rollback to old plugin
441 |             5. Unload old plugin on success
442 |         
    | ^^^^^^^^ W293
443 |         Args:
444 |             old_name: Currently active plugin name
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:447:1: W293 Blank line contains whitespace
    |
445 |             new_name: New plugin to swap in
446 |             new_config: Configuration for new plugin
447 |             
    | ^^^^^^^^^^^^ W293
448 |         Returns:
449 |             HotSwapResult with outcome
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:457:1: W293 [*] Blank line contains whitespace
    |
455 |             new_plugin=new_name
456 |         )
457 |         
    | ^^^^^^^^ W293
458 |         # Validate old plugin exists and is loaded
459 |         old_loaded = self._plugins.get(old_name)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:463:1: W293 [*] Blank line contains whitespace
    |
461 |             result.errors.append(f"Old plugin not loaded: {old_name}")
462 |             return result
463 |         
    | ^^^^^^^^ W293
464 |         # Validate new plugin exists
465 |         new_discovered = self.discovery.find_plugin(new_name)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:469:1: W293 [*] Blank line contains whitespace
    |
467 |             result.errors.append(f"New plugin not found: {new_name}")
468 |             return result
469 |         
    | ^^^^^^^^ W293
470 |         # Validate contract compatibility
471 |         if old_loaded.manifest.contract != new_discovered.contract:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:476:1: W293 [*] Blank line contains whitespace
    |
474 |             )
475 |             return result
476 |         
    | ^^^^^^^^ W293
477 |         logger.info(f"Hot-swap: {old_name} -> {new_name}")
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:478:1: W293 [*] Blank line contains whitespace
    |
477 |         logger.info(f"Hot-swap: {old_name} -> {new_name}")
478 |         
    | ^^^^^^^^ W293
479 |         # Step 1: Load new plugin without initialization
480 |         new_loaded = self.loader.load(new_discovered)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:484:1: W293 [*] Blank line contains whitespace
    |
482 |             result.errors.append(f"Failed to load new plugin: {new_name}")
483 |             return result
484 |         
    | ^^^^^^^^ W293
485 |         # Step 2: Shutdown old plugin
486 |         old_config = self._configs.get(old_name, {})
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:487:1: W293 [*] Blank line contains whitespace
    |
485 |         # Step 2: Shutdown old plugin
486 |         old_config = self._configs.get(old_name, {})
487 |         
    | ^^^^^^^^ W293
488 |         try:
489 |             await shutdown_plugin(old_loaded)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:493:1: W293 [*] Blank line contains whitespace
    |
491 |             result.errors.append(f"Error shutting down old plugin: {e}")
492 |             # Continue anyway, try to initialize new plugin
493 |         
    | ^^^^^^^^ W293
494 |         # Step 3: Initialize new plugin
495 |         config = new_config or self._configs.get(new_name, {})
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:498:1: W293 [*] Blank line contains whitespace
    |
496 |         default_config = new_discovered.manifest.get("default_config", {})
497 |         merged_config = {**default_config, **config}
498 |         
    | ^^^^^^^^ W293
499 |         init_success = await initialize_plugin(new_loaded, merged_config)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:500:1: W293 [*] Blank line contains whitespace
    |
499 |         init_success = await initialize_plugin(new_loaded, merged_config)
500 |         
    | ^^^^^^^^ W293
501 |         if not init_success:
502 |             # Step 4: Rollback to old plugin
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:506:1: W293 [*] Blank line contains whitespace
    |
504 |             result.errors.append(f"New plugin initialization failed: {new_name}")
505 |             result.rollback_performed = True
506 |             
    | ^^^^^^^^^^^^ W293
507 |             # Unload failed new plugin
508 |             self.loader.unload(new_loaded)
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:509:1: W293 [*] Blank line contains whitespace
    |
507 |             # Unload failed new plugin
508 |             self.loader.unload(new_loaded)
509 |             
    | ^^^^^^^^^^^^ W293
510 |             # Re-initialize old plugin
511 |             try:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:519:1: W293 [*] Blank line contains whitespace
    |
517 |             except Exception as e:
518 |                 result.errors.append(f"CRITICAL: Rollback exception: {e}")
519 |             
    | ^^^^^^^^^^^^ W293
520 |             result.swap_duration_ms = (time.perf_counter() - start_time) * 1000
521 |             return result
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:522:1: W293 [*] Blank line contains whitespace
    |
520 |             result.swap_duration_ms = (time.perf_counter() - start_time) * 1000
521 |             return result
522 |         
    | ^^^^^^^^ W293
523 |         # Step 5: Swap successful
524 |         # Unload old plugin module
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:526:1: W293 [*] Blank line contains whitespace
    |
524 |         # Unload old plugin module
525 |         self.loader.unload(old_loaded)
526 |         
    | ^^^^^^^^ W293
527 |         # Update plugin registry
528 |         del self._plugins[old_name]
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:530:1: W293 [*] Blank line contains whitespace
    |
528 |         del self._plugins[old_name]
529 |         self._plugins[new_name] = new_loaded
530 |         
    | ^^^^^^^^ W293
531 |         # Update config
532 |         if old_name in self._configs:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:535:1: W293 [*] Blank line contains whitespace
    |
533 |             del self._configs[old_name]
534 |         self._configs[new_name] = config
535 |         
    | ^^^^^^^^ W293
536 |         result.success = True
537 |         result.swap_duration_ms = (time.perf_counter() - start_time) * 1000
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:538:1: W293 [*] Blank line contains whitespace
    |
536 |         result.success = True
537 |         result.swap_duration_ms = (time.perf_counter() - start_time) * 1000
538 |         
    | ^^^^^^^^ W293
539 |         # Fire callbacks
540 |         for callback in self._on_swap_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:545:1: W293 [*] Blank line contains whitespace
    |
543 |             except Exception as e:
544 |                 logger.error(f"Error in swap callback: {e}")
545 |         
    | ^^^^^^^^ W293
546 |         logger.info(
547 |             f"Hot-swap complete: {old_name} -> {new_name} "
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:551:1: W293 [*] Blank line contains whitespace
    |
549 |         )
550 |         return result
551 |     
    | ^^^^ W293
552 |     def health_check(self, name: str) -> Optional[HealthStatus]:
553 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:552:42: UP007 [*] Use `X | Y` for type annotations
    |
550 |         return result
551 |     
552 |     def health_check(self, name: str) -> Optional[HealthStatus]:
    |                                          ^^^^^^^^^^^^^^^^^^^^^^ UP007
553 |         """
554 |         Perform health check on a plugin.
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:555:1: W293 Blank line contains whitespace
    |
553 |         """
554 |         Perform health check on a plugin.
555 |         
    | ^^^^^^^^ W293
556 |         Args:
557 |             name: Plugin name
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:558:1: W293 Blank line contains whitespace
    |
556 |         Args:
557 |             name: Plugin name
558 |             
    | ^^^^^^^^^^^^ W293
559 |         Returns:
560 |             HealthStatus or None if plugin not loaded
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:565:1: W293 [*] Blank line contains whitespace
    |
563 |         if not loaded:
564 |             return None
565 |         
    | ^^^^^^^^ W293
566 |         try:
567 |             return loaded.instance.health_check()
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:574:1: W293 [*] Blank line contains whitespace
    |
572 |                 message=f"Health check exception: {e}"
573 |             )
574 |     
    | ^^^^ W293
575 |     def health_check_all(self) -> Dict[str, HealthStatus]:
576 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:575:35: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
573 |             )
574 |     
575 |     def health_check_all(self) -> Dict[str, HealthStatus]:
    |                                   ^^^^ UP006
576 |         """
577 |         Perform health check on all loaded plugins.
    |
    = help: Replace with `dict`

plugins\_host\manager.py:578:1: W293 Blank line contains whitespace
    |
576 |         """
577 |         Perform health check on all loaded plugins.
578 |         
    | ^^^^^^^^ W293
579 |         Returns:
580 |             Dict mapping plugin name to HealthStatus
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:588:1: W293 [*] Blank line contains whitespace
    |
586 |                 results[name] = status
587 |         return results
588 |     
    | ^^^^ W293
589 |     def get_status_summary(self) -> Dict[str, Any]:
590 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:589:37: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
587 |         return results
588 |     
589 |     def get_status_summary(self) -> Dict[str, Any]:
    |                                     ^^^^ UP006
590 |         """
591 |         Get summary of all plugin statuses.
    |
    = help: Replace with `dict`

plugins\_host\manager.py:592:1: W293 Blank line contains whitespace
    |
590 |         """
591 |         Get summary of all plugin statuses.
592 |         
    | ^^^^^^^^ W293
593 |         Returns:
594 |             Status summary dictionary
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:602:1: W293 [*] Blank line contains whitespace
    |
600 |             "by_status": {},
601 |         }
602 |         
    | ^^^^^^^^ W293
603 |         for name, loaded in self._plugins.items():
604 |             contract = loaded.manifest.contract
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:606:1: W293 [*] Blank line contains whitespace
    |
604 |             contract = loaded.manifest.contract
605 |             status = loaded.status.value
606 |             
    | ^^^^^^^^^^^^ W293
607 |             summary["plugins"][name] = {
608 |                 "version": loaded.manifest.version,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:613:1: W293 [*] Blank line contains whitespace
    |
611 |                 "initialized": loaded.initialized,
612 |             }
613 |             
    | ^^^^^^^^^^^^ W293
614 |             # Group by contract
615 |             if contract not in summary["by_contract"]:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:618:1: W293 [*] Blank line contains whitespace
    |
616 |                 summary["by_contract"][contract] = []
617 |             summary["by_contract"][contract].append(name)
618 |             
    | ^^^^^^^^^^^^ W293
619 |             # Group by status
620 |             if status not in summary["by_status"]:
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:623:1: W293 [*] Blank line contains whitespace
    |
621 |                 summary["by_status"][status] = []
622 |             summary["by_status"][status].append(name)
623 |         
    | ^^^^^^^^ W293
624 |         return summary
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:625:1: W293 [*] Blank line contains whitespace
    |
624 |         return summary
625 |     
    | ^^^^ W293
626 |     def list_plugins(self) -> List[Dict[str, Any]]:
627 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:626:31: UP006 [*] Use `list` instead of `List` for type annotation
    |
624 |         return summary
625 |     
626 |     def list_plugins(self) -> List[Dict[str, Any]]:
    |                               ^^^^ UP006
627 |         """
628 |         List all loaded plugins.
    |
    = help: Replace with `list`

plugins\_host\manager.py:626:36: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
624 |         return summary
625 |     
626 |     def list_plugins(self) -> List[Dict[str, Any]]:
    |                                    ^^^^ UP006
627 |         """
628 |         List all loaded plugins.
    |
    = help: Replace with `dict`

plugins\_host\manager.py:629:1: W293 Blank line contains whitespace
    |
627 |         """
628 |         List all loaded plugins.
629 |         
    | ^^^^^^^^ W293
630 |         Returns:
631 |             List of plugin info dicts
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:634:1: W293 [*] Blank line contains whitespace
    |
632 |         """
633 |         return [loaded.to_dict() for loaded in self._plugins.values()]
634 |     
    | ^^^^ W293
635 |     def list_available(self) -> List[Dict[str, Any]]:
636 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:635:33: UP006 [*] Use `list` instead of `List` for type annotation
    |
633 |         return [loaded.to_dict() for loaded in self._plugins.values()]
634 |     
635 |     def list_available(self) -> List[Dict[str, Any]]:
    |                                 ^^^^ UP006
636 |         """
637 |         List all available (discovered) plugins.
    |
    = help: Replace with `list`

plugins\_host\manager.py:635:38: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
633 |         return [loaded.to_dict() for loaded in self._plugins.values()]
634 |     
635 |     def list_available(self) -> List[Dict[str, Any]]:
    |                                      ^^^^ UP006
636 |         """
637 |         List all available (discovered) plugins.
    |
    = help: Replace with `dict`

plugins\_host\manager.py:638:1: W293 Blank line contains whitespace
    |
636 |         """
637 |         List all available (discovered) plugins.
638 |         
    | ^^^^^^^^ W293
639 |         Returns:
640 |             List of discovered plugin info dicts
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:658:11: UP007 [*] Use `X | Y` for type annotations
    |
657 | # Module-level singleton (optional)
658 | _manager: Optional[PluginManager] = None
    |           ^^^^^^^^^^^^^^^^^^^^^^^ UP007
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:661:22: UP007 [*] Use `X | Y` for type annotations
    |
661 | def get_manager() -> Optional[PluginManager]:
    |                      ^^^^^^^^^^^^^^^^^^^^^^^ UP007
662 |     """Get the global plugin manager instance."""
663 |     return _manager
    |
    = help: Convert to `X | Y`

plugins\_host\manager.py:675:1: W293 [*] Blank line contains whitespace
    |
673 | if __name__ == "__main__":
674 |     import sys
675 |     
    | ^^^^ W293
676 |     logging.basicConfig(
677 |         level=logging.DEBUG,
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:681:1: W293 [*] Blank line contains whitespace
    |
679 |         stream=sys.stderr
680 |     )
681 |     
    | ^^^^ W293
682 |     async def test_manager():
683 |         this_dir = Path(__file__).parent.resolve()
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:686:1: W293 [*] Blank line contains whitespace
    |
684 |         plugins_dir = this_dir.parent
685 |         config_dir = this_dir.parent.parent / "config"
686 |         
    | ^^^^^^^^ W293
687 |         manager = PluginManager(plugins_dir, config_dir)
688 |         await manager.start()
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:689:1: W293 [*] Blank line contains whitespace
    |
687 |         manager = PluginManager(plugins_dir, config_dir)
688 |         await manager.start()
689 |         
    | ^^^^^^^^ W293
690 |         print("\n=== Available Plugins ===", file=sys.stderr)
691 |         for plugin in manager.list_available():
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:695:1: W293 [*] Blank line contains whitespace
    |
693 |             loaded = "[LOADED]" if plugin["loaded"] else ""
694 |             print(f"{status} {plugin['name']} ({plugin['contract']}) {loaded}", file=sys.stderr)
695 |         
    | ^^^^^^^^ W293
696 |         await manager.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\_host\manager.py:697:1: W293 [*] Blank line contains whitespace
    |
696 |         await manager.shutdown()
697 |     
    | ^^^^ W293
698 |     asyncio.run(test_manager())
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:27:1: W293 Blank line contains whitespace
   |
25 |         - plugin/swap      : Hot-swap one plugin for another
26 |         - plugin/health    : Health check a plugin
27 |     
   | ^^^^ W293
28 |     Plugin Execution:
29 |         - <contract>/<method>  : Route to plugin method
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:32:1: W293 Blank line contains whitespace
   |
30 |         - tts/synthesize       : Example TTS method
31 |         - llm/complete         : Example LLM method
32 |     
   | ^^^^ W293
33 |     System:
34 |         - ping             : Health check (returns "pong")
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:42:8: F401 [*] `time` imported but unused
   |
40 | import json
41 | import logging
42 | import time
   |        ^^^^ F401
43 | from dataclasses import dataclass, field
44 | from datetime import datetime
   |
   = help: Remove unused import: `time`

plugins\_host\protocol.py:45:1: UP035 [*] Import from `collections.abc` instead: `Callable`, `Coroutine`
   |
43 | from dataclasses import dataclass, field
44 | from datetime import datetime
45 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
46 |
47 | logger = logging.getLogger(__name__)
   |
   = help: Import from `collections.abc`

plugins\_host\protocol.py:45:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
43 | from dataclasses import dataclass, field
44 | from datetime import datetime
45 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
46 |
47 | logger = logging.getLogger(__name__)
   |

plugins\_host\protocol.py:45:1: UP035 `typing.List` is deprecated, use `list` instead
   |
43 | from dataclasses import dataclass, field
44 | from datetime import datetime
45 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
46 |
47 | logger = logging.getLogger(__name__)
   |

plugins\_host\protocol.py:45:1: UP035 `typing.Tuple` is deprecated, use `tuple` instead
   |
43 | from dataclasses import dataclass, field
44 | from datetime import datetime
45 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Tuple, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
46 |
47 | logger = logging.getLogger(__name__)
   |

plugins\_host\protocol.py:58:1: W293 Blank line contains whitespace
   |
56 |     """
57 |     JSON-RPC 2.0 Request object.
58 |     
   | ^^^^ W293
59 |     Attributes:
60 |         jsonrpc: Protocol version (always "2.0")
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:67:9: UP007 [*] Use `X | Y` for type annotations
   |
65 |     """
66 |     jsonrpc: str
67 |     id: Optional[Union[str, int]]
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
   |
   = help: Convert to `X | Y`

plugins\_host\protocol.py:67:18: UP007 [*] Use `X | Y` for type annotations
   |
65 |     """
66 |     jsonrpc: str
67 |     id: Optional[Union[str, int]]
   |                  ^^^^^^^^^^^^^^^ UP007
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
   |
   = help: Convert to `X | Y`

plugins\_host\protocol.py:69:13: UP007 [*] Use `X | Y` for type annotations
   |
67 |     id: Optional[Union[str, int]]
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
70 |     raw: Dict[str, Any] = field(default_factory=dict, repr=False)
   |
   = help: Convert to `X | Y`

plugins\_host\protocol.py:69:19: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
67 |     id: Optional[Union[str, int]]
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
   |                   ^^^^ UP006
70 |     raw: Dict[str, Any] = field(default_factory=dict, repr=False)
   |
   = help: Replace with `dict`

plugins\_host\protocol.py:69:35: UP006 [*] Use `list` instead of `List` for type annotation
   |
67 |     id: Optional[Union[str, int]]
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
   |                                   ^^^^ UP006
70 |     raw: Dict[str, Any] = field(default_factory=dict, repr=False)
   |
   = help: Replace with `list`

plugins\_host\protocol.py:70:10: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
68 |     method: str
69 |     params: Union[Dict[str, Any], List[Any], None] = None
70 |     raw: Dict[str, Any] = field(default_factory=dict, repr=False)
   |          ^^^^ UP006
71 |     
72 |     @property
   |
   = help: Replace with `dict`

plugins\_host\protocol.py:71:1: W293 [*] Blank line contains whitespace
   |
69 |     params: Union[Dict[str, Any], List[Any], None] = None
70 |     raw: Dict[str, Any] = field(default_factory=dict, repr=False)
71 |     
   | ^^^^ W293
72 |     @property
73 |     def is_notification(self) -> bool:
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:76:1: W293 [*] Blank line contains whitespace
   |
74 |         """Check if this is a notification (no id)."""
75 |         return self.id is None
76 |     
   | ^^^^ W293
77 |     @classmethod
78 |     def from_dict(cls, data: Dict[str, Any]) -> "JsonRpcRequest":
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:78:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
77 |     @classmethod
78 |     def from_dict(cls, data: Dict[str, Any]) -> "JsonRpcRequest":
   |                              ^^^^ UP006
79 |         """
80 |         Create a JsonRpcRequest from a parsed dictionary.
   |
   = help: Replace with `dict`

plugins\_host\protocol.py:81:1: W293 Blank line contains whitespace
   |
79 |         """
80 |         Create a JsonRpcRequest from a parsed dictionary.
81 |         
   | ^^^^^^^^ W293
82 |         Args:
83 |             data: Parsed JSON dictionary
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:84:1: W293 Blank line contains whitespace
   |
82 |         Args:
83 |             data: Parsed JSON dictionary
84 |             
   | ^^^^^^^^^^^^ W293
85 |         Returns:
86 |             JsonRpcRequest instance
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:87:1: W293 Blank line contains whitespace
   |
85 |         Returns:
86 |             JsonRpcRequest instance
87 |             
   | ^^^^^^^^^^^^ W293
88 |         Raises:
89 |             ValueError: If required fields are missing
   |
   = help: Remove whitespace from blank line

plugins\_host\protocol.py:100:1: W293 [*] Blank line contains whitespace
    |
 98 |         if not isinstance(data["method"], str):
 99 |             raise ValueError("'method' must be a string")
100 |         
    | ^^^^^^^^ W293
101 |         return cls(
102 |             jsonrpc=data["jsonrpc"],
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |             raw=data,
107 |         )
108 |     
    | ^^^^ W293
109 |     def get_param(self, key: str, default: Any = None) -> Any:
110 |         """Get a parameter by key (for dict params)."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:120:1: W293 Blank line contains whitespace
    |
118 |     """
119 |     JSON-RPC 2.0 Error object.
120 |     
    | ^^^^ W293
121 |     Attributes:
122 |         code: Error code (int)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:128:11: UP007 [*] Use `X | Y` for type annotations
    |
126 |     code: int
127 |     message: str
128 |     data: Optional[Dict[str, Any]] = None
    |           ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
129 |     
130 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:128:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
126 |     code: int
127 |     message: str
128 |     data: Optional[Dict[str, Any]] = None
    |                    ^^^^ UP006
129 |     
130 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:129:1: W293 [*] Blank line contains whitespace
    |
127 |     message: str
128 |     data: Optional[Dict[str, Any]] = None
129 |     
    | ^^^^ W293
130 |     def to_dict(self) -> Dict[str, Any]:
131 |         """Convert to JSON-serializable dict."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:130:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
128 |     data: Optional[Dict[str, Any]] = None
129 |     
130 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
131 |         """Convert to JSON-serializable dict."""
132 |         result = {
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:145:1: W293 Blank line contains whitespace
    |
143 |     """
144 |     JSON-RPC 2.0 Response object.
145 |     
    | ^^^^ W293
146 |     Either result OR error must be set, not both.
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:147:1: W293 Blank line contains whitespace
    |
146 |     Either result OR error must be set, not both.
147 |     
    | ^^^^ W293
148 |     Attributes:
149 |         jsonrpc: Protocol version (always "2.0")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:155:9: UP007 [*] Use `X | Y` for type annotations
    |
153 |     """
154 |     jsonrpc: str = "2.0"
155 |     id: Optional[Union[str, int]] = None
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
156 |     result: Any = None
157 |     error: Optional[JsonRpcError] = None
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:155:18: UP007 [*] Use `X | Y` for type annotations
    |
153 |     """
154 |     jsonrpc: str = "2.0"
155 |     id: Optional[Union[str, int]] = None
    |                  ^^^^^^^^^^^^^^^ UP007
156 |     result: Any = None
157 |     error: Optional[JsonRpcError] = None
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:157:12: UP007 [*] Use `X | Y` for type annotations
    |
155 |     id: Optional[Union[str, int]] = None
156 |     result: Any = None
157 |     error: Optional[JsonRpcError] = None
    |            ^^^^^^^^^^^^^^^^^^^^^^ UP007
158 |     
159 |     @property
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:158:1: W293 [*] Blank line contains whitespace
    |
156 |     result: Any = None
157 |     error: Optional[JsonRpcError] = None
158 |     
    | ^^^^ W293
159 |     @property
160 |     def is_success(self) -> bool:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:163:1: W293 [*] Blank line contains whitespace
    |
161 |         """Check if this is a success response."""
162 |         return self.error is None
163 |     
    | ^^^^ W293
164 |     def to_dict(self) -> Dict[str, Any]:
165 |         """Convert to JSON-serializable dict."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:164:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
162 |         return self.error is None
163 |     
164 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
165 |         """Convert to JSON-serializable dict."""
166 |         response = {
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:170:1: W293 [*] Blank line contains whitespace
    |
168 |             "id": self.id,
169 |         }
170 |         
    | ^^^^^^^^ W293
171 |         if self.error is not None:
172 |             response["error"] = self.error.to_dict()
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:175:1: W293 [*] Blank line contains whitespace
    |
173 |         else:
174 |             response["result"] = self.result
175 |         
    | ^^^^^^^^ W293
176 |         return response
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:177:1: W293 [*] Blank line contains whitespace
    |
176 |         return response
177 |     
    | ^^^^ W293
178 |     def to_json(self) -> str:
179 |         """Convert to JSON string."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:181:1: W293 [*] Blank line contains whitespace
    |
179 |         """Convert to JSON string."""
180 |         return json.dumps(self.to_dict(), ensure_ascii=False)
181 |     
    | ^^^^ W293
182 |     @classmethod
183 |     def success(cls, id: Optional[Union[str, int]], result: Any) -> "JsonRpcResponse":
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:183:26: UP007 [*] Use `X | Y` for type annotations
    |
182 |     @classmethod
183 |     def success(cls, id: Optional[Union[str, int]], result: Any) -> "JsonRpcResponse":
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
184 |         """Create a success response."""
185 |         return cls(id=id, result=result)
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:183:35: UP007 [*] Use `X | Y` for type annotations
    |
182 |     @classmethod
183 |     def success(cls, id: Optional[Union[str, int]], result: Any) -> "JsonRpcResponse":
    |                                   ^^^^^^^^^^^^^^^ UP007
184 |         """Create a success response."""
185 |         return cls(id=id, result=result)
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:186:1: W293 [*] Blank line contains whitespace
    |
184 |         """Create a success response."""
185 |         return cls(id=id, result=result)
186 |     
    | ^^^^ W293
187 |     @classmethod
188 |     def error_response(
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:190:13: UP007 [*] Use `X | Y` for type annotations
    |
188 |     def error_response(
189 |         cls,
190 |         id: Optional[Union[str, int]],
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
191 |         code: int,
192 |         message: str,
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:190:22: UP007 [*] Use `X | Y` for type annotations
    |
188 |     def error_response(
189 |         cls,
190 |         id: Optional[Union[str, int]],
    |                      ^^^^^^^^^^^^^^^ UP007
191 |         code: int,
192 |         message: str,
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:193:15: UP007 [*] Use `X | Y` for type annotations
    |
191 |         code: int,
192 |         message: str,
193 |         data: Optional[Dict[str, Any]] = None
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
194 |     ) -> "JsonRpcResponse":
195 |         """Create an error response."""
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:193:24: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
191 |         code: int,
192 |         message: str,
193 |         data: Optional[Dict[str, Any]] = None
    |                        ^^^^ UP006
194 |     ) -> "JsonRpcResponse":
195 |         """Create an error response."""
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:211:1: W293 [*] Blank line contains whitespace
    |
209 |     INVALID_PARAMS = -32602
210 |     INTERNAL_ERROR = -32603
211 |     
    | ^^^^ W293
212 |     # Server errors (implementation-defined)
213 |     PLUGIN_NOT_FOUND = -32000
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:238:6: UP007 [*] Use `X | Y` for type annotations
    |
236 | # Handler signature: (params, request_id) -> result
237 | MethodHandler = Callable[
238 |     [Optional[Dict[str, Any]], Optional[Union[str, int]]],
    |      ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
239 |     Coroutine[Any, Any, Any]
240 | ]
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:238:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
236 | # Handler signature: (params, request_id) -> result
237 | MethodHandler = Callable[
238 |     [Optional[Dict[str, Any]], Optional[Union[str, int]]],
    |               ^^^^ UP006
239 |     Coroutine[Any, Any, Any]
240 | ]
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:238:32: UP007 [*] Use `X | Y` for type annotations
    |
236 | # Handler signature: (params, request_id) -> result
237 | MethodHandler = Callable[
238 |     [Optional[Dict[str, Any]], Optional[Union[str, int]]],
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
239 |     Coroutine[Any, Any, Any]
240 | ]
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:238:41: UP007 [*] Use `X | Y` for type annotations
    |
236 | # Handler signature: (params, request_id) -> result
237 | MethodHandler = Callable[
238 |     [Optional[Dict[str, Any]], Optional[Union[str, int]]],
    |                                         ^^^^^^^^^^^^^^^ UP007
239 |     Coroutine[Any, Any, Any]
240 | ]
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:249:15: UP007 [*] Use `X | Y` for type annotations
    |
247 |     description: str = ""
248 |     requires_plugin: bool = False
249 |     contract: Optional[str] = None
    |               ^^^^^^^^^^^^^ UP007
250 |     timeout_seconds: Optional[float] = None
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:250:22: UP007 [*] Use `X | Y` for type annotations
    |
248 |     requires_plugin: bool = False
249 |     contract: Optional[str] = None
250 |     timeout_seconds: Optional[float] = None
    |                      ^^^^^^^^^^^^^^^ UP007
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:260:1: W293 Blank line contains whitespace
    |
258 |     """
259 |     Routes JSON-RPC requests to method handlers.
260 |     
    | ^^^^ W293
261 |     Features:
262 |         - Static method registration
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:267:1: W293 Blank line contains whitespace
    |
265 |         - Error handling
266 |         - Timeout enforcement
267 |     
    | ^^^^ W293
268 |     Usage:
269 |         router = JsonRpcRouter(manager=plugin_manager)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:270:1: W293 Blank line contains whitespace
    |
268 |     Usage:
269 |         router = JsonRpcRouter(manager=plugin_manager)
270 |         
    | ^^^^^^^^ W293
271 |         # Register static method
272 |         @router.method("ping")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:275:1: W293 Blank line contains whitespace
    |
273 |         async def handle_ping(params, id):
274 |             return "pong"
275 |         
    | ^^^^^^^^ W293
276 |         # Process request
277 |         response = await router.handle_request(request)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:279:1: W293 [*] Blank line contains whitespace
    |
277 |         response = await router.handle_request(request)
278 |     """
279 |     
    | ^^^^ W293
280 |     # Separator between contract and method
281 |     METHOD_SEPARATOR = "/"
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:282:1: W293 [*] Blank line contains whitespace
    |
280 |     # Separator between contract and method
281 |     METHOD_SEPARATOR = "/"
282 |     
    | ^^^^ W293
283 |     def __init__(
284 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:291:1: W293 Blank line contains whitespace
    |
289 |         """
290 |         Initialize router.
291 |         
    | ^^^^^^^^ W293
292 |         Args:
293 |             manager: PluginManager for plugin method routing
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:300:1: W293 [*] Blank line contains whitespace
    |
298 |         self.executor = executor
299 |         self.default_timeout = default_timeout
300 |         
    | ^^^^^^^^ W293
301 |         # Registered methods
302 |         self._methods: Dict[str, MethodRegistration] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:302:24: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
301 |         # Registered methods
302 |         self._methods: Dict[str, MethodRegistration] = {}
    |                        ^^^^ UP006
303 |         
304 |         # Statistics
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:303:1: W293 [*] Blank line contains whitespace
    |
301 |         # Registered methods
302 |         self._methods: Dict[str, MethodRegistration] = {}
303 |         
    | ^^^^^^^^ W293
304 |         # Statistics
305 |         self._request_count = 0
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:307:34: UP007 [*] Use `X | Y` for type annotations
    |
305 |         self._request_count = 0
306 |         self._error_count = 0
307 |         self._last_request_time: Optional[datetime] = None
    |                                  ^^^^^^^^^^^^^^^^^^ UP007
308 |         
309 |         # Register built-in methods
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:308:1: W293 [*] Blank line contains whitespace
    |
306 |         self._error_count = 0
307 |         self._last_request_time: Optional[datetime] = None
308 |         
    | ^^^^^^^^ W293
309 |         # Register built-in methods
310 |         self._register_builtin_methods()
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:311:1: W293 [*] Blank line contains whitespace
    |
309 |         # Register built-in methods
310 |         self._register_builtin_methods()
311 |         
    | ^^^^^^^^ W293
312 |         logger.debug("JsonRpcRouter initialized")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:313:1: W293 [*] Blank line contains whitespace
    |
312 |         logger.debug("JsonRpcRouter initialized")
313 |     
    | ^^^^ W293
314 |     def _register_builtin_methods(self) -> None:
315 |         """Register built-in system methods."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:316:1: W293 [*] Blank line contains whitespace
    |
314 |     def _register_builtin_methods(self) -> None:
315 |         """Register built-in system methods."""
316 |         
    | ^^^^^^^^ W293
317 |         # ping - basic health check
318 |         async def handle_ping(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:320:1: W293 [*] Blank line contains whitespace
    |
318 |         async def handle_ping(params, id):
319 |             return "pong"
320 |         
    | ^^^^^^^^ W293
321 |         self._methods["ping"] = MethodRegistration(
322 |             handler=handle_ping,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:325:1: W293 [*] Blank line contains whitespace
    |
323 |             description="Basic health check"
324 |         )
325 |         
    | ^^^^^^^^ W293
326 |         # status - get host status
327 |         async def handle_status(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:338:1: W293 [*] Blank line contains whitespace
    |
336 |                 "registered_methods": list(self._methods.keys()),
337 |             }
338 |         
    | ^^^^^^^^ W293
339 |         self._methods["status"] = MethodRegistration(
340 |             handler=handle_status,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:343:1: W293 [*] Blank line contains whitespace
    |
341 |             description="Get host status"
342 |         )
343 |         
    | ^^^^^^^^ W293
344 |         # plugin/list - list plugins
345 |         async def handle_plugin_list(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:349:1: W293 [*] Blank line contains whitespace
    |
347 |                 return []
348 |             return self.manager.list_available()
349 |         
    | ^^^^^^^^ W293
350 |         self._methods["plugin/list"] = MethodRegistration(
351 |             handler=handle_plugin_list,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:354:1: W293 [*] Blank line contains whitespace
    |
352 |             description="List all discovered plugins"
353 |         )
354 |         
    | ^^^^^^^^ W293
355 |         # plugin/load - load a plugin
356 |         async def handle_plugin_load(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:359:1: W293 [*] Blank line contains whitespace
    |
357 |             if not self.manager:
358 |                 raise RuntimeError("Plugin manager not available")
359 |             
    | ^^^^^^^^^^^^ W293
360 |             name = params.get("name") if params else None
361 |             if not name:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:363:1: W293 [*] Blank line contains whitespace
    |
361 |             if not name:
362 |                 raise ValueError("Missing 'name' parameter")
363 |             
    | ^^^^^^^^^^^^ W293
364 |             config = params.get("config", {}) if params else {}
365 |             loaded = await self.manager.load_plugin(name, config=config)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:366:1: W293 [*] Blank line contains whitespace
    |
364 |             config = params.get("config", {}) if params else {}
365 |             loaded = await self.manager.load_plugin(name, config=config)
366 |             
    | ^^^^^^^^^^^^ W293
367 |             if loaded:
368 |                 return loaded.to_dict()
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:371:1: W293 [*] Blank line contains whitespace
    |
369 |             else:
370 |                 raise RuntimeError(f"Failed to load plugin: {name}")
371 |         
    | ^^^^^^^^ W293
372 |         self._methods["plugin/load"] = MethodRegistration(
373 |             handler=handle_plugin_load,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:376:1: W293 [*] Blank line contains whitespace
    |
374 |             description="Load a plugin by name"
375 |         )
376 |         
    | ^^^^^^^^ W293
377 |         # plugin/unload - unload a plugin
378 |         async def handle_plugin_unload(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:381:1: W293 [*] Blank line contains whitespace
    |
379 |             if not self.manager:
380 |                 raise RuntimeError("Plugin manager not available")
381 |             
    | ^^^^^^^^^^^^ W293
382 |             name = params.get("name") if params else None
383 |             if not name:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:385:1: W293 [*] Blank line contains whitespace
    |
383 |             if not name:
384 |                 raise ValueError("Missing 'name' parameter")
385 |             
    | ^^^^^^^^^^^^ W293
386 |             success = await self.manager.unload_plugin(name)
387 |             return {"success": success, "plugin": name}
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:388:1: W293 [*] Blank line contains whitespace
    |
386 |             success = await self.manager.unload_plugin(name)
387 |             return {"success": success, "plugin": name}
388 |         
    | ^^^^^^^^ W293
389 |         self._methods["plugin/unload"] = MethodRegistration(
390 |             handler=handle_plugin_unload,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:393:1: W293 [*] Blank line contains whitespace
    |
391 |             description="Unload a plugin"
392 |         )
393 |         
    | ^^^^^^^^ W293
394 |         # plugin/swap - hot-swap plugins
395 |         async def handle_plugin_swap(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:398:1: W293 [*] Blank line contains whitespace
    |
396 |             if not self.manager:
397 |                 raise RuntimeError("Plugin manager not available")
398 |             
    | ^^^^^^^^^^^^ W293
399 |             old_name = params.get("old") if params else None
400 |             new_name = params.get("new") if params else None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:401:1: W293 [*] Blank line contains whitespace
    |
399 |             old_name = params.get("old") if params else None
400 |             new_name = params.get("new") if params else None
401 |             
    | ^^^^^^^^^^^^ W293
402 |             if not old_name or not new_name:
403 |                 raise ValueError("Missing 'old' or 'new' parameter")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:404:1: W293 [*] Blank line contains whitespace
    |
402 |             if not old_name or not new_name:
403 |                 raise ValueError("Missing 'old' or 'new' parameter")
404 |             
    | ^^^^^^^^^^^^ W293
405 |             config = params.get("config", {}) if params else {}
406 |             result = await self.manager.hot_swap(old_name, new_name, new_config=config)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:407:1: W293 [*] Blank line contains whitespace
    |
405 |             config = params.get("config", {}) if params else {}
406 |             result = await self.manager.hot_swap(old_name, new_name, new_config=config)
407 |             
    | ^^^^^^^^^^^^ W293
408 |             return result.to_dict()
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:409:1: W293 [*] Blank line contains whitespace
    |
408 |             return result.to_dict()
409 |         
    | ^^^^^^^^ W293
410 |         self._methods["plugin/swap"] = MethodRegistration(
411 |             handler=handle_plugin_swap,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:414:1: W293 [*] Blank line contains whitespace
    |
412 |             description="Hot-swap one plugin for another"
413 |         )
414 |         
    | ^^^^^^^^ W293
415 |         # plugin/health - health check a plugin
416 |         async def handle_plugin_health(params, id):
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:419:1: W293 [*] Blank line contains whitespace
    |
417 |             if not self.manager:
418 |                 raise RuntimeError("Plugin manager not available")
419 |             
    | ^^^^^^^^^^^^ W293
420 |             name = params.get("name") if params else None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:421:1: W293 [*] Blank line contains whitespace
    |
420 |             name = params.get("name") if params else None
421 |             
    | ^^^^^^^^^^^^ W293
422 |             if name:
423 |                 health = self.manager.health_check(name)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:442:1: W293 [*] Blank line contains whitespace
    |
440 |                     for name, h in results.items()
441 |                 }
442 |         
    | ^^^^^^^^ W293
443 |         self._methods["plugin/health"] = MethodRegistration(
444 |             handler=handle_plugin_health,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:452:18: UP007 [*] Use `X | Y` for type annotations
    |
450 |         name: str,
451 |         description: str = "",
452 |         timeout: Optional[float] = None
    |                  ^^^^^^^^^^^^^^^ UP007
453 |     ):
454 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:456:1: W293 Blank line contains whitespace
    |
454 |         """
455 |         Decorator to register a method handler.
456 |         
    | ^^^^^^^^ W293
457 |         Args:
458 |             name: Method name
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:461:1: W293 Blank line contains whitespace
    |
459 |             description: Method description
460 |             timeout: Timeout in seconds
461 |             
    | ^^^^^^^^^^^^ W293
462 |         Usage:
463 |             @router.method("my/method")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:475:1: W293 [*] Blank line contains whitespace
    |
473 |             return handler
474 |         return decorator
475 |     
    | ^^^^ W293
476 |     def register_method(
477 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:482:19: UP007 [*] Use `X | Y` for type annotations
    |
480 |         description: str = "",
481 |         requires_plugin: bool = False,
482 |         contract: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
483 |         timeout: Optional[float] = None
484 |     ) -> None:
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:483:18: UP007 [*] Use `X | Y` for type annotations
    |
481 |         requires_plugin: bool = False,
482 |         contract: Optional[str] = None,
483 |         timeout: Optional[float] = None
    |                  ^^^^^^^^^^^^^^^ UP007
484 |     ) -> None:
485 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:487:1: W293 Blank line contains whitespace
    |
485 |         """
486 |         Register a method handler.
487 |         
    | ^^^^^^^^ W293
488 |         Args:
489 |             name: Method name
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:504:1: W293 [*] Blank line contains whitespace
    |
502 |         )
503 |         logger.debug(f"Registered method: {name}")
504 |     
    | ^^^^ W293
505 |     def parse_request(self, line: str) -> Tuple[Optional[JsonRpcRequest], Optional[JsonRpcResponse]]:
506 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:505:43: UP006 [*] Use `tuple` instead of `Tuple` for type annotation
    |
503 |         logger.debug(f"Registered method: {name}")
504 |     
505 |     def parse_request(self, line: str) -> Tuple[Optional[JsonRpcRequest], Optional[JsonRpcResponse]]:
    |                                           ^^^^^ UP006
506 |         """
507 |         Parse a JSON-RPC request from a line.
    |
    = help: Replace with `tuple`

plugins\_host\protocol.py:505:49: UP007 [*] Use `X | Y` for type annotations
    |
503 |         logger.debug(f"Registered method: {name}")
504 |     
505 |     def parse_request(self, line: str) -> Tuple[Optional[JsonRpcRequest], Optional[JsonRpcResponse]]:
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
506 |         """
507 |         Parse a JSON-RPC request from a line.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:505:75: UP007 [*] Use `X | Y` for type annotations
    |
503 |         logger.debug(f"Registered method: {name}")
504 |     
505 |     def parse_request(self, line: str) -> Tuple[Optional[JsonRpcRequest], Optional[JsonRpcResponse]]:
    |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
506 |         """
507 |         Parse a JSON-RPC request from a line.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:508:1: W293 Blank line contains whitespace
    |
506 |         """
507 |         Parse a JSON-RPC request from a line.
508 |         
    | ^^^^^^^^ W293
509 |         Args:
510 |             line: Raw JSON string
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:511:1: W293 Blank line contains whitespace
    |
509 |         Args:
510 |             line: Raw JSON string
511 |             
    | ^^^^^^^^^^^^ W293
512 |         Returns:
513 |             Tuple of (request, error_response)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:526:1: W293 [*] Blank line contains whitespace
    |
524 |                 message=f"Parse error: {e}"
525 |             )
526 |         
    | ^^^^^^^^ W293
527 |         # Validate request object
528 |         try:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:537:1: W293 [*] Blank line contains whitespace
    |
535 |                 message=str(e)
536 |             )
537 |         
    | ^^^^^^^^ W293
538 |         return request, None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:539:1: W293 [*] Blank line contains whitespace
    |
538 |         return request, None
539 |     
    | ^^^^ W293
540 |     def _get_plugin_method(
541 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:543:10: UP006 [*] Use `tuple` instead of `Tuple` for type annotation
    |
541 |         self,
542 |         method: str
543 |     ) -> Tuple[Optional[str], Optional[str], Optional[str]]:
    |          ^^^^^ UP006
544 |         """
545 |         Parse a plugin method name.
    |
    = help: Replace with `tuple`

plugins\_host\protocol.py:543:16: UP007 [*] Use `X | Y` for type annotations
    |
541 |         self,
542 |         method: str
543 |     ) -> Tuple[Optional[str], Optional[str], Optional[str]]:
    |                ^^^^^^^^^^^^^ UP007
544 |         """
545 |         Parse a plugin method name.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:543:31: UP007 [*] Use `X | Y` for type annotations
    |
541 |         self,
542 |         method: str
543 |     ) -> Tuple[Optional[str], Optional[str], Optional[str]]:
    |                               ^^^^^^^^^^^^^ UP007
544 |         """
545 |         Parse a plugin method name.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:543:46: UP007 [*] Use `X | Y` for type annotations
    |
541 |         self,
542 |         method: str
543 |     ) -> Tuple[Optional[str], Optional[str], Optional[str]]:
    |                                              ^^^^^^^^^^^^^ UP007
544 |         """
545 |         Parse a plugin method name.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:546:1: W293 Blank line contains whitespace
    |
544 |         """
545 |         Parse a plugin method name.
546 |         
    | ^^^^^^^^ W293
547 |         Args:
548 |             method: Method name (e.g., "tts/synthesize")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:549:1: W293 Blank line contains whitespace
    |
547 |         Args:
548 |             method: Method name (e.g., "tts/synthesize")
549 |             
    | ^^^^^^^^^^^^ W293
550 |         Returns:
551 |             Tuple of (contract, method_name, plugin_name)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:556:1: W293 [*] Blank line contains whitespace
    |
554 |         if self.METHOD_SEPARATOR not in method:
555 |             return None, None, None
556 |         
    | ^^^^^^^^ W293
557 |         parts = method.split(self.METHOD_SEPARATOR)
558 |         if len(parts) != 2:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:560:1: W293 [*] Blank line contains whitespace
    |
558 |         if len(parts) != 2:
559 |             return None, None, None
560 |         
    | ^^^^^^^^ W293
561 |         contract, method_name = parts
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:562:1: W293 [*] Blank line contains whitespace
    |
561 |         contract, method_name = parts
562 |         
    | ^^^^^^^^ W293
563 |         # Check if this is a plugin management method
564 |         if contract == "plugin":
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:566:1: W293 [*] Blank line contains whitespace
    |
564 |         if contract == "plugin":
565 |             return None, None, None
566 |         
    | ^^^^^^^^ W293
567 |         return contract, method_name, None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:568:1: W293 [*] Blank line contains whitespace
    |
567 |         return contract, method_name, None
568 |     
    | ^^^^ W293
569 |     async def _invoke_plugin_method(
570 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:573:17: UP007 [*] Use `X | Y` for type annotations
    |
571 |         contract: str,
572 |         method_name: str,
573 |         params: Optional[Dict[str, Any]],
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
574 |         request_id: Optional[Union[str, int]]
575 |     ) -> Any:
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:573:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
571 |         contract: str,
572 |         method_name: str,
573 |         params: Optional[Dict[str, Any]],
    |                          ^^^^ UP006
574 |         request_id: Optional[Union[str, int]]
575 |     ) -> Any:
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:574:21: UP007 [*] Use `X | Y` for type annotations
    |
572 |         method_name: str,
573 |         params: Optional[Dict[str, Any]],
574 |         request_id: Optional[Union[str, int]]
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
575 |     ) -> Any:
576 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:574:30: UP007 [*] Use `X | Y` for type annotations
    |
572 |         method_name: str,
573 |         params: Optional[Dict[str, Any]],
574 |         request_id: Optional[Union[str, int]]
    |                              ^^^^^^^^^^^^^^^ UP007
575 |     ) -> Any:
576 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:578:1: W293 Blank line contains whitespace
    |
576 |         """
577 |         Invoke a method on a loaded plugin.
578 |         
    | ^^^^^^^^ W293
579 |         Args:
580 |             contract: Contract type
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:584:1: W293 Blank line contains whitespace
    |
582 |             params: Method parameters
583 |             request_id: Request ID for crash reports
584 |             
    | ^^^^^^^^^^^^ W293
585 |         Returns:
586 |             Method result
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:587:1: W293 Blank line contains whitespace
    |
585 |         Returns:
586 |             Method result
587 |             
    | ^^^^^^^^^^^^ W293
588 |         Raises:
589 |             RuntimeError: If plugin not found or method fails
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:593:1: W293 [*] Blank line contains whitespace
    |
591 |         if not self.manager:
592 |             raise RuntimeError("Plugin manager not available")
593 |         
    | ^^^^^^^^ W293
594 |         # Find loaded plugin for this contract
595 |         loaded = None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:596:13: B007 Loop control variable `name` not used within loop body
    |
594 |         # Find loaded plugin for this contract
595 |         loaded = None
596 |         for name, plugin in self.manager.loaded_plugins.items():
    |             ^^^^ B007
597 |             if plugin.manifest.contract == contract:
598 |                 loaded = plugin
    |
    = help: Rename unused `name` to `_name`

plugins\_host\protocol.py:600:1: W293 [*] Blank line contains whitespace
    |
598 |                 loaded = plugin
599 |                 break
600 |         
    | ^^^^^^^^ W293
601 |         if not loaded:
602 |             raise RuntimeError(f"No plugin loaded for contract: {contract}")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:603:1: W293 [*] Blank line contains whitespace
    |
601 |         if not loaded:
602 |             raise RuntimeError(f"No plugin loaded for contract: {contract}")
603 |         
    | ^^^^^^^^ W293
604 |         if not loaded.initialized:
605 |             raise RuntimeError(f"Plugin not initialized: {loaded.name}")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:606:1: W293 [*] Blank line contains whitespace
    |
604 |         if not loaded.initialized:
605 |             raise RuntimeError(f"Plugin not initialized: {loaded.name}")
606 |         
    | ^^^^^^^^ W293
607 |         # Get method from plugin instance
608 |         method = getattr(loaded.instance, method_name, None)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:611:1: W293 [*] Blank line contains whitespace
    |
609 |         if method is None:
610 |             raise RuntimeError(f"Method not found: {method_name}")
611 |         
    | ^^^^^^^^ W293
612 |         if not callable(method):
613 |             raise RuntimeError(f"Method not callable: {method_name}")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:614:1: W293 [*] Blank line contains whitespace
    |
612 |         if not callable(method):
613 |             raise RuntimeError(f"Method not callable: {method_name}")
614 |         
    | ^^^^^^^^ W293
615 |         # Invoke with isolation if executor available
616 |         if self.executor:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:618:1: W293 [*] Blank line contains whitespace
    |
616 |         if self.executor:
617 |             from .isolation import ExecutionResult
618 |             
    | ^^^^^^^^^^^^ W293
619 |             result: ExecutionResult = await self.executor.execute(
620 |                 plugin_name=loaded.name,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:625:1: W293 [*] Blank line contains whitespace
    |
623 |                 call_id=request_id
624 |             )
625 |             
    | ^^^^^^^^^^^^ W293
626 |             if result.success:
627 |                 return result.result
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:633:1: W293 [*] Blank line contains whitespace
    |
631 |             # Direct call without isolation
632 |             return await method(**(params or {}))
633 |     
    | ^^^^ W293
634 |     async def handle_request(
635 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:637:10: UP007 [*] Use `X | Y` for type annotations
    |
635 |         self,
636 |         request: JsonRpcRequest
637 |     ) -> Optional[JsonRpcResponse]:
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
638 |         """
639 |         Handle a JSON-RPC request and return response.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:640:1: W293 Blank line contains whitespace
    |
638 |         """
639 |         Handle a JSON-RPC request and return response.
640 |         
    | ^^^^^^^^ W293
641 |         Args:
642 |             request: Parsed JsonRpcRequest
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:643:1: W293 Blank line contains whitespace
    |
641 |         Args:
642 |             request: Parsed JsonRpcRequest
643 |             
    | ^^^^^^^^^^^^ W293
644 |         Returns:
645 |             JsonRpcResponse, or None for notifications
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:649:1: W293 [*] Blank line contains whitespace
    |
647 |         self._request_count += 1
648 |         self._last_request_time = datetime.now()
649 |         
    | ^^^^^^^^ W293
650 |         method = request.method
651 |         params = request.params if isinstance(request.params, dict) else {}
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:652:1: W293 [*] Blank line contains whitespace
    |
650 |         method = request.method
651 |         params = request.params if isinstance(request.params, dict) else {}
652 |         
    | ^^^^^^^^ W293
653 |         logger.debug(f"Handling request: method={method}, id={request.id}")
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:654:1: W293 [*] Blank line contains whitespace
    |
653 |         logger.debug(f"Handling request: method={method}, id={request.id}")
654 |         
    | ^^^^^^^^ W293
655 |         try:
656 |             # Check for static method first
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:660:1: W293 [*] Blank line contains whitespace
    |
658 |                 registration = self._methods[method]
659 |                 timeout = registration.timeout_seconds or self.default_timeout
660 |                 
    | ^^^^^^^^^^^^^^^^ W293
661 |                 result = await asyncio.wait_for(
662 |                     registration.handler(params, request.id),
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:665:1: W293 [*] Blank line contains whitespace
    |
663 |                     timeout=timeout
664 |                 )
665 |                 
    | ^^^^^^^^^^^^^^^^ W293
666 |                 # Don't return response for notifications
667 |                 if request.is_notification:
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:669:1: W293 [*] Blank line contains whitespace
    |
667 |                 if request.is_notification:
668 |                     return None
669 |                 
    | ^^^^^^^^^^^^^^^^ W293
670 |                 return JsonRpcResponse.success(request.id, result)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:671:1: W293 [*] Blank line contains whitespace
    |
670 |                 return JsonRpcResponse.success(request.id, result)
671 |             
    | ^^^^^^^^^^^^ W293
672 |             # Check for plugin method
673 |             contract, method_name, _ = self._get_plugin_method(method)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:674:1: W293 [*] Blank line contains whitespace
    |
672 |             # Check for plugin method
673 |             contract, method_name, _ = self._get_plugin_method(method)
674 |             
    | ^^^^^^^^^^^^ W293
675 |             if contract and method_name:
676 |                 result = await self._invoke_plugin_method(
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:679:1: W293 [*] Blank line contains whitespace
    |
677 |                     contract, method_name, params, request.id
678 |                 )
679 |                 
    | ^^^^^^^^^^^^^^^^ W293
680 |                 if request.is_notification:
681 |                     return None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:682:1: W293 [*] Blank line contains whitespace
    |
680 |                 if request.is_notification:
681 |                     return None
682 |                 
    | ^^^^^^^^^^^^^^^^ W293
683 |                 return JsonRpcResponse.success(request.id, result)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:684:1: W293 [*] Blank line contains whitespace
    |
683 |                 return JsonRpcResponse.success(request.id, result)
684 |             
    | ^^^^^^^^^^^^ W293
685 |             # Method not found
686 |             self._error_count += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:692:1: W293 [*] Blank line contains whitespace
    |
690 |                 message=f"Method not found: {method}"
691 |             )
692 |             
    | ^^^^^^^^^^^^ W293
693 |         except asyncio.TimeoutError:
694 |             self._error_count += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:693:16: UP041 [*] Replace aliased errors with `TimeoutError`
    |
691 |             )
692 |             
693 |         except asyncio.TimeoutError:
    |                ^^^^^^^^^^^^^^^^^^^^ UP041
694 |             self._error_count += 1
695 |             logger.error(f"Method timed out: {method}")
    |
    = help: Replace `asyncio.TimeoutError` with builtin `TimeoutError`

plugins\_host\protocol.py:701:1: W293 [*] Blank line contains whitespace
    |
699 |                 message=f"Method timed out: {method}"
700 |             )
701 |             
    | ^^^^^^^^^^^^ W293
702 |         except ValueError as e:
703 |             self._error_count += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:709:1: W293 [*] Blank line contains whitespace
    |
707 |                 message=str(e)
708 |             )
709 |             
    | ^^^^^^^^^^^^ W293
710 |         except RuntimeError as e:
711 |             self._error_count += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:713:1: W293 [*] Blank line contains whitespace
    |
711 |             self._error_count += 1
712 |             error_msg = str(e)
713 |             
    | ^^^^^^^^^^^^ W293
714 |             # Map specific errors to codes
715 |             if "not found" in error_msg.lower():
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:721:1: W293 [*] Blank line contains whitespace
    |
719 |             else:
720 |                 code = ErrorCodes.INTERNAL_ERROR
721 |             
    | ^^^^^^^^^^^^ W293
722 |             return JsonRpcResponse.error_response(
723 |                 id=request.id,
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:727:1: W293 [*] Blank line contains whitespace
    |
725 |                 message=error_msg
726 |             )
727 |             
    | ^^^^^^^^^^^^ W293
728 |         except Exception as e:
729 |             self._error_count += 1
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:736:1: W293 [*] Blank line contains whitespace
    |
734 |                 message=f"Internal error: {type(e).__name__}: {str(e)}"
735 |             )
736 |     
    | ^^^^ W293
737 |     async def process_line(self, line: str) -> Optional[str]:
738 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:737:48: UP007 [*] Use `X | Y` for type annotations
    |
735 |             )
736 |     
737 |     async def process_line(self, line: str) -> Optional[str]:
    |                                                ^^^^^^^^^^^^^ UP007
738 |         """
739 |         Process a single line of input.
    |
    = help: Convert to `X | Y`

plugins\_host\protocol.py:740:1: W293 Blank line contains whitespace
    |
738 |         """
739 |         Process a single line of input.
740 |         
    | ^^^^^^^^ W293
741 |         Args:
742 |             line: Raw input line
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:743:1: W293 Blank line contains whitespace
    |
741 |         Args:
742 |             line: Raw input line
743 |             
    | ^^^^^^^^^^^^ W293
744 |         Returns:
745 |             JSON response string, or None for notifications
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:751:1: W293 [*] Blank line contains whitespace
    |
749 |         if not line:
750 |             return None
751 |         
    | ^^^^^^^^ W293
752 |         # Parse request
753 |         request, error = self.parse_request(line)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:754:1: W293 [*] Blank line contains whitespace
    |
752 |         # Parse request
753 |         request, error = self.parse_request(line)
754 |         
    | ^^^^^^^^ W293
755 |         if error:
756 |             return error.to_json()
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:757:1: W293 [*] Blank line contains whitespace
    |
755 |         if error:
756 |             return error.to_json()
757 |         
    | ^^^^^^^^ W293
758 |         if request:
759 |             response = await self.handle_request(request)
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:762:1: W293 [*] Blank line contains whitespace
    |
760 |             if response:
761 |                 return response.to_json()
762 |         
    | ^^^^^^^^ W293
763 |         return None
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:764:1: W293 [*] Blank line contains whitespace
    |
763 |         return None
764 |     
    | ^^^^ W293
765 |     def get_methods(self) -> Dict[str, str]:
766 |         """Get registered methods with descriptions."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:765:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
763 |         return None
764 |     
765 |     def get_methods(self) -> Dict[str, str]:
    |                              ^^^^ UP006
766 |         """Get registered methods with descriptions."""
767 |         return {
    |
    = help: Replace with `dict`

plugins\_host\protocol.py:771:1: W293 [*] Blank line contains whitespace
    |
769 |             for name, reg in self._methods.items()
770 |         }
771 |     
    | ^^^^ W293
772 |     def get_stats(self) -> Dict[str, Any]:
773 |         """Get router statistics."""
    |
    = help: Remove whitespace from blank line

plugins\_host\protocol.py:772:28: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
770 |         }
771 |     
772 |     def get_stats(self) -> Dict[str, Any]:
    |                            ^^^^ UP006
773 |         """Get router statistics."""
774 |         return {
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:21:8: F401 [*] `os` imported but unused
   |
19 | import json
20 | import logging
21 | import os
   |        ^^ F401
22 | import re
23 | import shutil
   |
   = help: Remove unused import: `os`

plugins\_host\scaffold.py:26:20: F401 [*] `string.Template` imported but unused
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from string import Template
   |                    ^^^^^^^^ F401
27 | from typing import Any, Dict, List, Optional
   |
   = help: Remove unused import: `string.Template`

plugins\_host\scaffold.py:27:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
25 | from pathlib import Path
26 | from string import Template
27 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
28 |
29 | import yaml
   |

plugins\_host\scaffold.py:27:1: UP035 `typing.List` is deprecated, use `list` instead
   |
25 | from pathlib import Path
26 | from string import Template
27 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
28 |
29 | import yaml
   |

plugins\_host\scaffold.py:67:19: UP006 [*] Use `list` instead of `List` for type annotation
   |
65 |     author: str = ""
66 |     license: str = "MIT"
67 |     dependencies: List[str] = field(default_factory=list)
   |                   ^^^^ UP006
68 |     python_requires: str = ">=3.11"
69 |     gpu_required: bool = False
   |
   = help: Replace with `list`

plugins\_host\scaffold.py:72:11: UP006 [*] Use `list` instead of `List` for type annotation
   |
70 |     gpu_recommended: bool = False
71 |     min_memory_mb: int = 512
72 |     tags: List[str] = field(default_factory=list)
   |           ^^^^ UP006
73 |     capabilities: List[str] = field(default_factory=list)
74 |     config_schema: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Replace with `list`

plugins\_host\scaffold.py:73:19: UP006 [*] Use `list` instead of `List` for type annotation
   |
71 |     min_memory_mb: int = 512
72 |     tags: List[str] = field(default_factory=list)
73 |     capabilities: List[str] = field(default_factory=list)
   |                   ^^^^ UP006
74 |     config_schema: Dict[str, Any] = field(default_factory=dict)
75 |     default_config: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Replace with `list`

plugins\_host\scaffold.py:74:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
72 |     tags: List[str] = field(default_factory=list)
73 |     capabilities: List[str] = field(default_factory=list)
74 |     config_schema: Dict[str, Any] = field(default_factory=dict)
   |                    ^^^^ UP006
75 |     default_config: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Replace with `dict`

plugins\_host\scaffold.py:75:21: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
73 |     capabilities: List[str] = field(default_factory=list)
74 |     config_schema: Dict[str, Any] = field(default_factory=dict)
75 |     default_config: Dict[str, Any] = field(default_factory=dict)
   |                     ^^^^ UP006
76 |
77 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `dict`

plugins\_host\scaffold.py:77:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
75 |     default_config: Dict[str, Any] = field(default_factory=dict)
76 |
77 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
78 |         """Convert to manifest.json format."""
79 |         return {
   |
   = help: Replace with `dict`

plugins\_host\scaffold.py:100:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
 99 |     @classmethod
100 |     def from_dict(cls, data: Dict[str, Any]) -> "PluginManifest":
    |                              ^^^^ UP006
101 |         """Create from dictionary."""
102 |         return cls(
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:136:18: UP007 [*] Use `X | Y` for type annotations
    |
135 |     success: bool
136 |     plugin_path: Optional[Path] = None
    |                  ^^^^^^^^^^^^^^ UP007
137 |     files_created: List[str] = field(default_factory=list)
138 |     errors: List[str] = field(default_factory=list)
    |
    = help: Convert to `X | Y`

plugins\_host\scaffold.py:137:20: UP006 [*] Use `list` instead of `List` for type annotation
    |
135 |     success: bool
136 |     plugin_path: Optional[Path] = None
137 |     files_created: List[str] = field(default_factory=list)
    |                    ^^^^ UP006
138 |     errors: List[str] = field(default_factory=list)
    |
    = help: Replace with `list`

plugins\_host\scaffold.py:138:13: UP006 [*] Use `list` instead of `List` for type annotation
    |
136 |     plugin_path: Optional[Path] = None
137 |     files_created: List[str] = field(default_factory=list)
138 |     errors: List[str] = field(default_factory=list)
    |             ^^^^ UP006
139 |
140 |     def to_dict(self) -> Dict[str, Any]:
    |
    = help: Replace with `list`

plugins\_host\scaffold.py:140:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
138 |     errors: List[str] = field(default_factory=list)
139 |
140 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
141 |         """Serialize for JSON-RPC response."""
142 |         return {
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:198:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
197 |         # Load contract registry for method signatures
198 |         self._contracts: Dict[str, Any] = {}
    |                          ^^^^ UP006
199 |         self._load_contracts()
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:207:18: UP015 [*] Unnecessary open mode parameters
    |
205 |         registry_path = self.config_dir / "contracts_registry.yaml"
206 |         if registry_path.exists():
207 |             with open(registry_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
208 |                 data = yaml.safe_load(f)
209 |                 self._contracts = data.get("contracts", {})
    |
    = help: Remove open mode parameters

plugins\_host\scaffold.py:214:62: UP006 [*] Use `list` instead of `List` for type annotation
    |
212 |             logger.warning(f"Contracts registry not found: {registry_path}")
213 |
214 |     def validate_manifest(self, manifest: PluginManifest) -> List[str]:
    |                                                              ^^^^ UP006
215 |         """
216 |         Validate manifest before generation.
    |
    = help: Replace with `list`

plugins\_host\scaffold.py:333:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
331 |     def _get_files_for_contract(
332 |         self, manifest: PluginManifest
333 |     ) -> List[Dict[str, str]]:
    |          ^^^^ UP006
334 |         """
335 |         Get list of files to create for a contract type.
    |
    = help: Replace with `list`

plugins\_host\scaffold.py:333:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
331 |     def _get_files_for_contract(
332 |         self, manifest: PluginManifest
333 |     ) -> List[Dict[str, str]]:
    |               ^^^^ UP006
334 |         """
335 |         Get list of files to create for a contract type.
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:508:39: UP006 [*] Use `list` instead of `List` for type annotation
    |
507 |     def _generate_method_implementations(
508 |         self, contract: str, methods: List[Dict[str, Any]]
    |                                       ^^^^ UP006
509 |     ) -> str:
510 |         """Generate method implementations for contract."""
    |
    = help: Replace with `list`

plugins\_host\scaffold.py:508:44: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
507 |     def _generate_method_implementations(
508 |         self, contract: str, methods: List[Dict[str, Any]]
    |                                            ^^^^ UP006
509 |     ) -> str:
510 |         """Generate method implementations for contract."""
    |
    = help: Replace with `dict`

plugins\_host\scaffold.py:630:20: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
629 | def create_plugin(
630 |     manifest_data: Dict[str, Any],
    |                    ^^^^ UP006
631 |     plugins_dir: str | Path = "./plugins",
632 |     config_dir: str | Path = "./config",
    |
    = help: Replace with `dict`

plugins\_host\shutdown.py:43:1: UP035 [*] Import from `collections.abc` instead: `Callable`, `Coroutine`
   |
41 | from datetime import datetime
42 | from enum import Enum
43 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
44 |
45 | logger = logging.getLogger(__name__)
   |
   = help: Import from `collections.abc`

plugins\_host\shutdown.py:43:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
41 | from datetime import datetime
42 | from enum import Enum
43 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
44 |
45 | logger = logging.getLogger(__name__)
   |

plugins\_host\shutdown.py:43:1: UP035 `typing.List` is deprecated, use `list` instead
   |
41 | from datetime import datetime
42 | from enum import Enum
43 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
44 |
45 | logger = logging.getLogger(__name__)
   |

plugins\_host\shutdown.py:43:1: UP035 `typing.Set` is deprecated, use `set` instead
   |
41 | from datetime import datetime
42 | from enum import Enum
43 | from typing import Any, Callable, Coroutine, Dict, List, Optional, Set
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
44 |
45 | logger = logging.getLogger(__name__)
   |

plugins\_host\shutdown.py:63:13: UP007 [*] Use `X | Y` for type annotations
   |
61 |     """Current state of shutdown process."""
62 |     initiated: bool = False
63 |     reason: Optional[ShutdownReason] = None
   |             ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
64 |     timestamp: Optional[datetime] = None
65 |     in_flight_count: int = 0
   |
   = help: Convert to `X | Y`

plugins\_host\shutdown.py:64:16: UP007 [*] Use `X | Y` for type annotations
   |
62 |     initiated: bool = False
63 |     reason: Optional[ShutdownReason] = None
64 |     timestamp: Optional[datetime] = None
   |                ^^^^^^^^^^^^^^^^^^ UP007
65 |     in_flight_count: int = 0
66 |     plugins_shutdown: bool = False
   |
   = help: Convert to `X | Y`

plugins\_host\shutdown.py:68:1: W293 [*] Blank line contains whitespace
   |
66 |     plugins_shutdown: bool = False
67 |     exit_code: int = 0
68 |     
   | ^^^^ W293
69 |     def to_dict(self) -> Dict[str, Any]:
70 |         """Serialize for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

plugins\_host\shutdown.py:69:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
67 |     exit_code: int = 0
68 |     
69 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
70 |         """Serialize for JSON-RPC responses."""
71 |         return {
   |
   = help: Replace with `dict`

plugins\_host\shutdown.py:84:1: W293 Blank line contains whitespace
   |
82 |     """
83 |     Manages graceful shutdown of the Plugin Host.
84 |     
   | ^^^^ W293
85 |     Features:
86 |         - Signal handling (SIGTERM, SIGINT)
   |
   = help: Remove whitespace from blank line

plugins\_host\shutdown.py:91:1: W293 Blank line contains whitespace
   |
89 |         - Plugin manager integration
90 |         - Cleanup callback registration
91 |     
   | ^^^^ W293
92 |     Usage:
93 |         handler = ShutdownHandler(manager=plugin_manager)
   |
   = help: Remove whitespace from blank line

plugins\_host\shutdown.py:95:1: W293 Blank line contains whitespace
   |
93 |         handler = ShutdownHandler(manager=plugin_manager)
94 |         handler.register_cleanup(cleanup_function)
95 |         
   | ^^^^^^^^ W293
96 |         # In main loop
97 |         if handler.is_shutdown_requested():
   |
   = help: Remove whitespace from blank line

plugins\_host\shutdown.py:99:1: W293 Blank line contains whitespace
    |
 97 |         if handler.is_shutdown_requested():
 98 |             break
 99 |         
    | ^^^^^^^^ W293
100 |         # Start tracking request
101 |         handler.request_started(request_id=1)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:104:1: W293 Blank line contains whitespace
    |
102 |         ...process request...
103 |         handler.request_completed(request_id=1)
104 |         
    | ^^^^^^^^ W293
105 |         # Initiate shutdown
106 |         await handler.shutdown(reason=ShutdownReason.NORMAL)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |         await handler.shutdown(reason=ShutdownReason.NORMAL)
107 |     """
108 |     
    | ^^^^ W293
109 |     # Exit codes by reason
110 |     EXIT_CODES = {
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |         ShutdownReason.REQUESTED: 0,
118 |     }
119 |     
    | ^^^^ W293
120 |     def __init__(
121 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:128:1: W293 Blank line contains whitespace
    |
126 |         """
127 |         Initialize shutdown handler.
128 |         
    | ^^^^^^^^ W293
129 |         Args:
130 |             manager: PluginManager instance for plugin cleanup
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:137:1: W293 [*] Blank line contains whitespace
    |
135 |         self.shutdown_timeout = shutdown_timeout
136 |         self.request_timeout = request_timeout
137 |         
    | ^^^^^^^^ W293
138 |         # State
139 |         self._state = ShutdownState()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:140:26: UP006 [*] Use `set` instead of `Set` for type annotation
    |
138 |         # State
139 |         self._state = ShutdownState()
140 |         self._in_flight: Set[int] = set()
    |                          ^^^ UP006
141 |         self._cleanup_callbacks: List[Callable[[], Coroutine[Any, Any, None]]] = []
142 |         self._sync_cleanup_callbacks: List[Callable[[], None]] = []
    |
    = help: Replace with `set`

plugins\_host\shutdown.py:141:34: UP006 [*] Use `list` instead of `List` for type annotation
    |
139 |         self._state = ShutdownState()
140 |         self._in_flight: Set[int] = set()
141 |         self._cleanup_callbacks: List[Callable[[], Coroutine[Any, Any, None]]] = []
    |                                  ^^^^ UP006
142 |         self._sync_cleanup_callbacks: List[Callable[[], None]] = []
    |
    = help: Replace with `list`

plugins\_host\shutdown.py:142:39: UP006 [*] Use `list` instead of `List` for type annotation
    |
140 |         self._in_flight: Set[int] = set()
141 |         self._cleanup_callbacks: List[Callable[[], Coroutine[Any, Any, None]]] = []
142 |         self._sync_cleanup_callbacks: List[Callable[[], None]] = []
    |                                       ^^^^ UP006
143 |         
144 |         # Original signal handlers
    |
    = help: Replace with `list`

plugins\_host\shutdown.py:143:1: W293 [*] Blank line contains whitespace
    |
141 |         self._cleanup_callbacks: List[Callable[[], Coroutine[Any, Any, None]]] = []
142 |         self._sync_cleanup_callbacks: List[Callable[[], None]] = []
143 |         
    | ^^^^^^^^ W293
144 |         # Original signal handlers
145 |         self._original_sigterm = None
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:147:1: W293 [*] Blank line contains whitespace
    |
145 |         self._original_sigterm = None
146 |         self._original_sigint = None
147 |         
    | ^^^^^^^^ W293
148 |         # Event loop reference for async shutdown from signal
149 |         self._loop: Optional[asyncio.AbstractEventLoop] = None
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:149:21: UP007 [*] Use `X | Y` for type annotations
    |
148 |         # Event loop reference for async shutdown from signal
149 |         self._loop: Optional[asyncio.AbstractEventLoop] = None
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
150 |         
151 |         logger.debug(
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:150:1: W293 [*] Blank line contains whitespace
    |
148 |         # Event loop reference for async shutdown from signal
149 |         self._loop: Optional[asyncio.AbstractEventLoop] = None
150 |         
    | ^^^^^^^^ W293
151 |         logger.debug(
152 |             f"ShutdownHandler initialized: shutdown_timeout={shutdown_timeout}s, "
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:155:1: W293 [*] Blank line contains whitespace
    |
153 |             f"request_timeout={request_timeout}s"
154 |         )
155 |     
    | ^^^^ W293
156 |     def install_signal_handlers(
157 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:158:15: UP007 [*] Use `X | Y` for type annotations
    |
156 |     def install_signal_handlers(
157 |         self,
158 |         loop: Optional[asyncio.AbstractEventLoop] = None
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
159 |     ) -> None:
160 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:162:1: W293 Blank line contains whitespace
    |
160 |         """
161 |         Install signal handlers for graceful shutdown.
162 |         
    | ^^^^^^^^ W293
163 |         Args:
164 |             loop: Event loop to use for async shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:167:1: W293 [*] Blank line contains whitespace
    |
165 |         """
166 |         self._loop = loop or asyncio.get_event_loop()
167 |         
    | ^^^^^^^^ W293
168 |         # Store original handlers
169 |         self._original_sigterm = signal.getsignal(signal.SIGTERM)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:171:1: W293 [*] Blank line contains whitespace
    |
169 |         self._original_sigterm = signal.getsignal(signal.SIGTERM)
170 |         self._original_sigint = signal.getsignal(signal.SIGINT)
171 |         
    | ^^^^^^^^ W293
172 |         # Install new handlers
173 |         signal.signal(signal.SIGTERM, self._handle_sigterm)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:175:1: W293 [*] Blank line contains whitespace
    |
173 |         signal.signal(signal.SIGTERM, self._handle_sigterm)
174 |         signal.signal(signal.SIGINT, self._handle_sigint)
175 |         
    | ^^^^^^^^ W293
176 |         # Register atexit handler for emergency cleanup
177 |         atexit.register(self._atexit_cleanup)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:178:1: W293 [*] Blank line contains whitespace
    |
176 |         # Register atexit handler for emergency cleanup
177 |         atexit.register(self._atexit_cleanup)
178 |         
    | ^^^^^^^^ W293
179 |         logger.debug("Signal handlers installed")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:180:1: W293 [*] Blank line contains whitespace
    |
179 |         logger.debug("Signal handlers installed")
180 |     
    | ^^^^ W293
181 |     def uninstall_signal_handlers(self) -> None:
182 |         """Restore original signal handlers."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:187:1: W293 [*] Blank line contains whitespace
    |
185 |         if self._original_sigint is not None:
186 |             signal.signal(signal.SIGINT, self._original_sigint)
187 |         
    | ^^^^^^^^ W293
188 |         logger.debug("Signal handlers uninstalled")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:189:1: W293 [*] Blank line contains whitespace
    |
188 |         logger.debug("Signal handlers uninstalled")
189 |     
    | ^^^^ W293
190 |     def _handle_sigterm(self, signum: int, frame) -> None:
191 |         """Handle SIGTERM signal."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:194:1: W293 [*] Blank line contains whitespace
    |
192 |         logger.info(f"Received SIGTERM (signal {signum})")
193 |         self._initiate_shutdown(ShutdownReason.SIGTERM)
194 |     
    | ^^^^ W293
195 |     def _handle_sigint(self, signum: int, frame) -> None:
196 |         """Handle SIGINT signal."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:199:1: W293 [*] Blank line contains whitespace
    |
197 |         logger.info(f"Received SIGINT (signal {signum})")
198 |         self._initiate_shutdown(ShutdownReason.SIGINT)
199 |     
    | ^^^^ W293
200 |     def _initiate_shutdown(self, reason: ShutdownReason) -> None:
201 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:203:1: W293 Blank line contains whitespace
    |
201 |         """
202 |         Set shutdown flag (called from signal handler).
203 |         
    | ^^^^^^^^ W293
204 |         The main loop should check is_shutdown_requested() and call
205 |         the async shutdown() method.
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:212:1: W293 [*] Blank line contains whitespace
    |
210 |             self._state.timestamp = datetime.now()
211 |             self._state.exit_code = self.EXIT_CODES.get(reason, 1)
212 |             
    | ^^^^^^^^^^^^ W293
213 |             logger.info(f"Shutdown initiated: {reason.value}")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:214:1: W293 [*] Blank line contains whitespace
    |
213 |             logger.info(f"Shutdown initiated: {reason.value}")
214 |     
    | ^^^^ W293
215 |     def _atexit_cleanup(self) -> None:
216 |         """Emergency cleanup on exit."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:221:1: W293 [*] Blank line contains whitespace
    |
219 |                 f"Exiting with {len(self._in_flight)} in-flight requests"
220 |             )
221 |         
    | ^^^^^^^^ W293
222 |         # Run sync cleanup callbacks
223 |         for callback in self._sync_cleanup_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:228:1: W293 [*] Blank line contains whitespace
    |
226 |             except Exception as e:
227 |                 logger.error(f"Error in sync cleanup callback: {e}")
228 |     
    | ^^^^ W293
229 |     def register_cleanup(
230 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:235:1: W293 Blank line contains whitespace
    |
233 |         """
234 |         Register an async cleanup callback.
235 |         
    | ^^^^^^^^ W293
236 |         Args:
237 |             callback: Async function to call during shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:240:1: W293 [*] Blank line contains whitespace
    |
238 |         """
239 |         self._cleanup_callbacks.append(callback)
240 |     
    | ^^^^ W293
241 |     def register_sync_cleanup(self, callback: Callable[[], None]) -> None:
242 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:244:1: W293 Blank line contains whitespace
    |
242 |         """
243 |         Register a sync cleanup callback.
244 |         
    | ^^^^^^^^ W293
245 |         Args:
246 |             callback: Sync function to call during shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:249:1: W293 [*] Blank line contains whitespace
    |
247 |         """
248 |         self._sync_cleanup_callbacks.append(callback)
249 |     
    | ^^^^ W293
250 |     def is_shutdown_requested(self) -> bool:
251 |         """Check if shutdown has been requested."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:253:1: W293 [*] Blank line contains whitespace
    |
251 |         """Check if shutdown has been requested."""
252 |         return self._state.initiated
253 |     
    | ^^^^ W293
254 |     def get_state(self) -> ShutdownState:
255 |         """Get current shutdown state."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:258:1: W293 [*] Blank line contains whitespace
    |
256 |         self._state.in_flight_count = len(self._in_flight)
257 |         return self._state
258 |     
    | ^^^^ W293
259 |     def request_started(self, request_id: int) -> None:
260 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:262:1: W293 Blank line contains whitespace
    |
260 |         """
261 |         Track that a request has started processing.
262 |         
    | ^^^^^^^^ W293
263 |         Args:
264 |             request_id: JSON-RPC request ID
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:268:1: W293 [*] Blank line contains whitespace
    |
266 |         if not self._state.initiated:
267 |             self._in_flight.add(request_id)
268 |     
    | ^^^^ W293
269 |     def request_completed(self, request_id: int) -> None:
270 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:272:1: W293 Blank line contains whitespace
    |
270 |         """
271 |         Track that a request has completed.
272 |         
    | ^^^^^^^^ W293
273 |         Args:
274 |             request_id: JSON-RPC request ID
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:277:1: W293 [*] Blank line contains whitespace
    |
275 |         """
276 |         self._in_flight.discard(request_id)
277 |     
    | ^^^^ W293
278 |     async def wait_for_in_flight(self) -> bool:
279 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:281:1: W293 Blank line contains whitespace
    |
279 |         """
280 |         Wait for in-flight requests to complete.
281 |         
    | ^^^^^^^^ W293
282 |         Returns:
283 |             True if all requests completed, False if timeout
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:287:1: W293 [*] Blank line contains whitespace
    |
285 |         if not self._in_flight:
286 |             return True
287 |         
    | ^^^^^^^^ W293
288 |         logger.info(f"Waiting for {len(self._in_flight)} in-flight requests...")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:289:1: W293 [*] Blank line contains whitespace
    |
288 |         logger.info(f"Waiting for {len(self._in_flight)} in-flight requests...")
289 |         
    | ^^^^^^^^ W293
290 |         start = time.time()
291 |         while self._in_flight and (time.time() - start) < self.request_timeout:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:293:1: W293 [*] Blank line contains whitespace
    |
291 |         while self._in_flight and (time.time() - start) < self.request_timeout:
292 |             await asyncio.sleep(0.1)
293 |         
    | ^^^^^^^^ W293
294 |         if self._in_flight:
295 |             logger.warning(
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:299:1: W293 [*] Blank line contains whitespace
    |
297 |             )
298 |             return False
299 |         
    | ^^^^^^^^ W293
300 |         logger.info("All in-flight requests completed")
301 |         return True
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:302:1: W293 [*] Blank line contains whitespace
    |
300 |         logger.info("All in-flight requests completed")
301 |         return True
302 |     
    | ^^^^ W293
303 |     async def shutdown_plugins(self) -> bool:
304 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:306:1: W293 Blank line contains whitespace
    |
304 |         """
305 |         Shutdown all plugins via manager.
306 |         
    | ^^^^^^^^ W293
307 |         Returns:
308 |             True if shutdown successful
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:313:1: W293 [*] Blank line contains whitespace
    |
311 |             logger.debug("No plugin manager, skipping plugin shutdown")
312 |             return True
313 |         
    | ^^^^^^^^ W293
314 |         if self._state.plugins_shutdown:
315 |             logger.debug("Plugins already shutdown")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:317:1: W293 [*] Blank line contains whitespace
    |
315 |             logger.debug("Plugins already shutdown")
316 |             return True
317 |         
    | ^^^^^^^^ W293
318 |         logger.info("Shutting down plugins...")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:319:1: W293 [*] Blank line contains whitespace
    |
318 |         logger.info("Shutting down plugins...")
319 |         
    | ^^^^^^^^ W293
320 |         try:
321 |             await self.manager.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:328:1: W293 [*] Blank line contains whitespace
    |
326 |             logger.error(f"Error shutting down plugins: {e}")
327 |             return False
328 |     
    | ^^^^ W293
329 |     async def run_cleanup_callbacks(self) -> bool:
330 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:332:1: W293 Blank line contains whitespace
    |
330 |         """
331 |         Run all registered cleanup callbacks.
332 |         
    | ^^^^^^^^ W293
333 |         Returns:
334 |             True if all callbacks succeeded
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:337:1: W293 [*] Blank line contains whitespace
    |
335 |         """
336 |         success = True
337 |         
    | ^^^^^^^^ W293
338 |         # Run async callbacks
339 |         for callback in self._cleanup_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:345:1: W293 [*] Blank line contains whitespace
    |
343 |                 logger.error(f"Error in cleanup callback: {e}")
344 |                 success = False
345 |         
    | ^^^^^^^^ W293
346 |         # Run sync callbacks
347 |         for callback in self._sync_cleanup_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:353:1: W293 [*] Blank line contains whitespace
    |
351 |                 logger.error(f"Error in sync cleanup callback: {e}")
352 |                 success = False
353 |         
    | ^^^^^^^^ W293
354 |         return success
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:355:1: W293 [*] Blank line contains whitespace
    |
354 |         return success
355 |     
    | ^^^^ W293
356 |     async def shutdown(
357 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:362:1: W293 Blank line contains whitespace
    |
360 |         """
361 |         Perform graceful shutdown.
362 |         
    | ^^^^^^^^ W293
363 |         Args:
364 |             reason: Reason for shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:365:1: W293 Blank line contains whitespace
    |
363 |         Args:
364 |             reason: Reason for shutdown
365 |             
    | ^^^^^^^^^^^^ W293
366 |         Returns:
367 |             Exit code
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:372:1: W293 [*] Blank line contains whitespace
    |
370 |         if not self._state.initiated:
371 |             self._initiate_shutdown(reason)
372 |         
    | ^^^^^^^^ W293
373 |         logger.info(f"Beginning shutdown sequence ({reason.value})...")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:374:1: W293 [*] Blank line contains whitespace
    |
373 |         logger.info(f"Beginning shutdown sequence ({reason.value})...")
374 |         
    | ^^^^^^^^ W293
375 |         shutdown_start = time.time()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:376:1: W293 [*] Blank line contains whitespace
    |
375 |         shutdown_start = time.time()
376 |         
    | ^^^^^^^^ W293
377 |         try:
378 |             # Step 1: Wait for in-flight requests
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:380:1: W293 [*] Blank line contains whitespace
    |
378 |             # Step 1: Wait for in-flight requests
379 |             await self.wait_for_in_flight()
380 |             
    | ^^^^^^^^^^^^ W293
381 |             # Step 2: Shutdown plugins
382 |             await self.shutdown_plugins()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:383:1: W293 [*] Blank line contains whitespace
    |
381 |             # Step 2: Shutdown plugins
382 |             await self.shutdown_plugins()
383 |             
    | ^^^^^^^^^^^^ W293
384 |             # Step 3: Run cleanup callbacks
385 |             await self.run_cleanup_callbacks()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:386:1: W293 [*] Blank line contains whitespace
    |
384 |             # Step 3: Run cleanup callbacks
385 |             await self.run_cleanup_callbacks()
386 |             
    | ^^^^^^^^^^^^ W293
387 |             # Step 4: Uninstall signal handlers
388 |             self.uninstall_signal_handlers()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:389:1: W293 [*] Blank line contains whitespace
    |
387 |             # Step 4: Uninstall signal handlers
388 |             self.uninstall_signal_handlers()
389 |             
    | ^^^^^^^^^^^^ W293
390 |             # Step 5: Flush streams
391 |             try:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:396:1: W293 [*] Blank line contains whitespace
    |
394 |             except Exception:
395 |                 pass
396 |             
    | ^^^^^^^^^^^^ W293
397 |             elapsed = time.time() - shutdown_start
398 |             logger.info(f"Shutdown complete in {elapsed:.2f}s")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:399:1: W293 [*] Blank line contains whitespace
    |
397 |             elapsed = time.time() - shutdown_start
398 |             logger.info(f"Shutdown complete in {elapsed:.2f}s")
399 |             
    | ^^^^^^^^^^^^ W293
400 |         except asyncio.TimeoutError:
401 |             logger.error("Shutdown timed out")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:400:16: UP041 [*] Replace aliased errors with `TimeoutError`
    |
398 |             logger.info(f"Shutdown complete in {elapsed:.2f}s")
399 |             
400 |         except asyncio.TimeoutError:
    |                ^^^^^^^^^^^^^^^^^^^^ UP041
401 |             logger.error("Shutdown timed out")
402 |             self._state.reason = ShutdownReason.TIMEOUT
    |
    = help: Replace `asyncio.TimeoutError` with builtin `TimeoutError`

plugins\_host\shutdown.py:404:1: W293 [*] Blank line contains whitespace
    |
402 |             self._state.reason = ShutdownReason.TIMEOUT
403 |             self._state.exit_code = 1
404 |             
    | ^^^^^^^^^^^^ W293
405 |         except Exception as e:
406 |             logger.error(f"Error during shutdown: {e}")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:408:1: W293 [*] Blank line contains whitespace
    |
406 |             logger.error(f"Error during shutdown: {e}")
407 |             self._state.exit_code = 1
408 |         
    | ^^^^^^^^ W293
409 |         return self._state.exit_code
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:410:1: W293 [*] Blank line contains whitespace
    |
409 |         return self._state.exit_code
410 |     
    | ^^^^ W293
411 |     def shutdown_sync(
412 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:417:1: W293 Blank line contains whitespace
    |
415 |         """
416 |         Perform synchronous shutdown (for non-async contexts).
417 |         
    | ^^^^^^^^ W293
418 |         Args:
419 |             reason: Reason for shutdown
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:420:1: W293 Blank line contains whitespace
    |
418 |         Args:
419 |             reason: Reason for shutdown
420 |             
    | ^^^^^^^^^^^^ W293
421 |         Returns:
422 |             Exit code
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:427:1: W293 [*] Blank line contains whitespace
    |
425 |         if not self._state.initiated:
426 |             self._initiate_shutdown(reason)
427 |         
    | ^^^^^^^^ W293
428 |         logger.info(f"Beginning sync shutdown sequence ({reason.value})...")
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:429:1: W293 [*] Blank line contains whitespace
    |
428 |         logger.info(f"Beginning sync shutdown sequence ({reason.value})...")
429 |         
    | ^^^^^^^^ W293
430 |         # Run sync cleanup only
431 |         for callback in self._sync_cleanup_callbacks:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:436:1: W293 [*] Blank line contains whitespace
    |
434 |             except Exception as e:
435 |                 logger.error(f"Error in sync cleanup: {e}")
436 |         
    | ^^^^^^^^ W293
437 |         # Uninstall signal handlers
438 |         self.uninstall_signal_handlers()
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:439:1: W293 [*] Blank line contains whitespace
    |
437 |         # Uninstall signal handlers
438 |         self.uninstall_signal_handlers()
439 |         
    | ^^^^^^^^ W293
440 |         # Flush streams
441 |         try:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:446:1: W293 [*] Blank line contains whitespace
    |
444 |         except Exception:
445 |             pass
446 |         
    | ^^^^^^^^ W293
447 |         logger.info("Sync shutdown complete")
448 |         return self._state.exit_code
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:454:1: W293 Blank line contains whitespace
    |
452 |     """
453 |     Context manager for shutdown-aware operations.
454 |     
    | ^^^^ W293
455 |     Usage:
456 |         async with ShutdownContext(handler) as ctx:
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:460:1: W293 [*] Blank line contains whitespace
    |
458 |             ...do work...
459 |     """
460 |     
    | ^^^^ W293
461 |     class ShutdownRequestedError(Exception):
462 |         """Raised when shutdown is requested during operation."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:464:1: W293 [*] Blank line contains whitespace
    |
462 |         """Raised when shutdown is requested during operation."""
463 |         pass
464 |     
    | ^^^^ W293
465 |     def __init__(self, handler: ShutdownHandler, request_id: Optional[int] = None):
466 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:465:62: UP007 [*] Use `X | Y` for type annotations
    |
463 |         pass
464 |     
465 |     def __init__(self, handler: ShutdownHandler, request_id: Optional[int] = None):
    |                                                              ^^^^^^^^^^^^^ UP007
466 |         """
467 |         Initialize context.
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:468:1: W293 Blank line contains whitespace
    |
466 |         """
467 |         Initialize context.
468 |         
    | ^^^^^^^^ W293
469 |         Args:
470 |             handler: ShutdownHandler instance
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:475:1: W293 [*] Blank line contains whitespace
    |
473 |         self.handler = handler
474 |         self.request_id = request_id
475 |     
    | ^^^^ W293
476 |     async def __aenter__(self) -> "ShutdownContext":
477 |         """Enter context and track request."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:481:1: W293 [*] Blank line contains whitespace
    |
479 |             self.handler.request_started(self.request_id)
480 |         return self
481 |     
    | ^^^^ W293
482 |     async def __aexit__(self, exc_type, exc_val, exc_tb) -> bool:
483 |         """Exit context and complete request tracking."""
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:487:1: W293 [*] Blank line contains whitespace
    |
485 |             self.handler.request_completed(self.request_id)
486 |         return False
487 |     
    | ^^^^ W293
488 |     def check_shutdown(self) -> None:
489 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:491:1: W293 Blank line contains whitespace
    |
489 |         """
490 |         Check if shutdown is requested.
491 |         
    | ^^^^^^^^ W293
492 |         Raises:
493 |             ShutdownRequestedError: If shutdown is in progress
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:500:19: UP007 [*] Use `X | Y` for type annotations
    |
499 | # Module-level default handler
500 | _default_handler: Optional[ShutdownHandler] = None
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:503:31: UP007 [*] Use `X | Y` for type annotations
    |
503 | def get_shutdown_handler() -> Optional[ShutdownHandler]:
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
504 |     """Get the default shutdown handler."""
505 |     return _default_handler
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:517:11: UP007 [*] Use `X | Y` for type annotations
    |
515 |     manager: Optional["PluginManager"] = None,
516 |     install_signals: bool = True,
517 |     loop: Optional[asyncio.AbstractEventLoop] = None
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
518 | ) -> ShutdownHandler:
519 |     """
    |
    = help: Convert to `X | Y`

plugins\_host\shutdown.py:521:1: W293 Blank line contains whitespace
    |
519 |     """
520 |     Create and configure a shutdown handler.
521 |     
    | ^^^^ W293
522 |     Args:
523 |         manager: PluginManager for plugin cleanup
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:526:1: W293 Blank line contains whitespace
    |
524 |         install_signals: Whether to install signal handlers
525 |         loop: Event loop for async shutdown from signals
526 |         
    | ^^^^^^^^ W293
527 |     Returns:
528 |         Configured ShutdownHandler
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:531:1: W293 [*] Blank line contains whitespace
    |
529 |     """
530 |     handler = ShutdownHandler(manager=manager)
531 |     
    | ^^^^ W293
532 |     if install_signals:
533 |         handler.install_signal_handlers(loop)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:534:1: W293 [*] Blank line contains whitespace
    |
532 |     if install_signals:
533 |         handler.install_signal_handlers(loop)
534 |     
    | ^^^^ W293
535 |     set_shutdown_handler(handler)
    |
    = help: Remove whitespace from blank line

plugins\_host\shutdown.py:536:1: W293 [*] Blank line contains whitespace
    |
535 |     set_shutdown_handler(handler)
536 |     
    | ^^^^ W293
537 |     return handler
    |
    = help: Remove whitespace from blank line

plugins\_host\test_runner.py:31:1: UP035 [*] Import from `collections.abc` instead: `Callable`
   |
29 | from enum import Enum
30 | from pathlib import Path
31 | from typing import Any, Callable, Dict, List, Optional, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
32 |
33 | logger = logging.getLogger(__name__)
   |
   = help: Import from `collections.abc`

plugins\_host\test_runner.py:31:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
29 | from enum import Enum
30 | from pathlib import Path
31 | from typing import Any, Callable, Dict, List, Optional, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
32 |
33 | logger = logging.getLogger(__name__)
   |

plugins\_host\test_runner.py:31:1: UP035 `typing.List` is deprecated, use `list` instead
   |
29 | from enum import Enum
30 | from pathlib import Path
31 | from typing import Any, Callable, Dict, List, Optional, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
32 |
33 | logger = logging.getLogger(__name__)
   |

plugins\_host\test_runner.py:31:57: F401 [*] `typing.Union` imported but unused
   |
29 | from enum import Enum
30 | from pathlib import Path
31 | from typing import Any, Callable, Dict, List, Optional, Union
   |                                                         ^^^^^ F401
32 |
33 | logger = logging.getLogger(__name__)
   |
   = help: Remove unused import: `typing.Union`

plugins\_host\test_runner.py:72:15: UP007 [*] Use `X | Y` for type annotations
   |
70 |     status: TestStatus
71 |     duration_ms: float = 0.0
72 |     expected: Optional[Any] = None
   |               ^^^^^^^^^^^^^ UP007
73 |     actual: Optional[Any] = None
74 |     error_message: Optional[str] = None
   |
   = help: Convert to `X | Y`

plugins\_host\test_runner.py:73:13: UP007 [*] Use `X | Y` for type annotations
   |
71 |     duration_ms: float = 0.0
72 |     expected: Optional[Any] = None
73 |     actual: Optional[Any] = None
   |             ^^^^^^^^^^^^^ UP007
74 |     error_message: Optional[str] = None
75 |     error_code: Optional[int] = None
   |
   = help: Convert to `X | Y`

plugins\_host\test_runner.py:74:20: UP007 [*] Use `X | Y` for type annotations
   |
72 |     expected: Optional[Any] = None
73 |     actual: Optional[Any] = None
74 |     error_message: Optional[str] = None
   |                    ^^^^^^^^^^^^^ UP007
75 |     error_code: Optional[int] = None
76 |     timestamp: datetime = field(default_factory=datetime.now)
   |
   = help: Convert to `X | Y`

plugins\_host\test_runner.py:75:17: UP007 [*] Use `X | Y` for type annotations
   |
73 |     actual: Optional[Any] = None
74 |     error_message: Optional[str] = None
75 |     error_code: Optional[int] = None
   |                 ^^^^^^^^^^^^^ UP007
76 |     timestamp: datetime = field(default_factory=datetime.now)
77 |     metadata: Dict[str, Any] = field(default_factory=dict)
   |
   = help: Convert to `X | Y`

plugins\_host\test_runner.py:77:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
75 |     error_code: Optional[int] = None
76 |     timestamp: datetime = field(default_factory=datetime.now)
77 |     metadata: Dict[str, Any] = field(default_factory=dict)
   |               ^^^^ UP006
78 |
79 |     @property
   |
   = help: Replace with `dict`

plugins\_host\test_runner.py:84:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
82 |         return self.status == TestStatus.PASSED
83 |
84 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
85 |         """Serialize for JSON-RPC responses."""
86 |         return {
   |
   = help: Replace with `dict`

plugins\_host\test_runner.py:115:14: UP006 [*] Use `list` instead of `List` for type annotation
    |
113 |     suite_name: str
114 |     plugin_name: str
115 |     results: List[TestResult] = field(default_factory=list)
    |              ^^^^ UP006
116 |     total_duration_ms: float = 0.0
117 |     started_at: Optional[datetime] = None
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:117:17: UP007 [*] Use `X | Y` for type annotations
    |
115 |     results: List[TestResult] = field(default_factory=list)
116 |     total_duration_ms: float = 0.0
117 |     started_at: Optional[datetime] = None
    |                 ^^^^^^^^^^^^^^^^^^ UP007
118 |     finished_at: Optional[datetime] = None
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:118:18: UP007 [*] Use `X | Y` for type annotations
    |
116 |     total_duration_ms: float = 0.0
117 |     started_at: Optional[datetime] = None
118 |     finished_at: Optional[datetime] = None
    |                  ^^^^^^^^^^^^^^^^^^ UP007
119 |
120 |     @property
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:157:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
155 |         return self.failed == 0 and self.errors == 0
156 |
157 |     def to_dict(self) -> Dict[str, Any]:
    |                          ^^^^ UP006
158 |         """Serialize for JSON-RPC responses."""
159 |         return {
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:204:13: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
202 |     description: str = ""
203 |     method: str = ""
204 |     params: Dict[str, Any] = field(default_factory=dict)
    |             ^^^^ UP006
205 |     expected_result: Optional[Any] = None
206 |     expected_error: Optional[int] = None
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:205:22: UP007 [*] Use `X | Y` for type annotations
    |
203 |     method: str = ""
204 |     params: Dict[str, Any] = field(default_factory=dict)
205 |     expected_result: Optional[Any] = None
    |                      ^^^^^^^^^^^^^ UP007
206 |     expected_error: Optional[int] = None
207 |     timeout_seconds: float = 30.0
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:206:21: UP007 [*] Use `X | Y` for type annotations
    |
204 |     params: Dict[str, Any] = field(default_factory=dict)
205 |     expected_result: Optional[Any] = None
206 |     expected_error: Optional[int] = None
    |                     ^^^^^^^^^^^^^ UP007
207 |     timeout_seconds: float = 30.0
208 |     skip: bool = False
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:210:11: UP006 [*] Use `list` instead of `List` for type annotation
    |
208 |     skip: bool = False
209 |     skip_reason: str = ""
210 |     tags: List[str] = field(default_factory=list)
    |           ^^^^ UP006
211 |
212 |     @classmethod
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:213:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
212 |     @classmethod
213 |     def from_dict(cls, data: Dict[str, Any]) -> "TestCase":
    |                              ^^^^ UP006
214 |         """Create from dictionary."""
215 |         return cls(
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:246:12: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
244 |     contract: str
245 |     description: str = ""
246 |     setup: Dict[str, Any] = field(default_factory=dict)
    |            ^^^^ UP006
247 |     teardown: Dict[str, Any] = field(default_factory=dict)
248 |     test_cases: List[TestCase] = field(default_factory=list)
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:247:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
245 |     description: str = ""
246 |     setup: Dict[str, Any] = field(default_factory=dict)
247 |     teardown: Dict[str, Any] = field(default_factory=dict)
    |               ^^^^ UP006
248 |     test_cases: List[TestCase] = field(default_factory=list)
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:248:17: UP006 [*] Use `list` instead of `List` for type annotation
    |
246 |     setup: Dict[str, Any] = field(default_factory=dict)
247 |     teardown: Dict[str, Any] = field(default_factory=dict)
248 |     test_cases: List[TestCase] = field(default_factory=list)
    |                 ^^^^ UP006
249 |
250 |     @classmethod
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:251:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
250 |     @classmethod
251 |     def from_dict(cls, data: Dict[str, Any]) -> "TestFixture":
    |                              ^^^^ UP006
252 |         """Create from dictionary."""
253 |         cases = [TestCase.from_dict(tc) for tc in data.get("test_cases", [])]
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:295:21: UP007 [*] Use `X | Y` for type annotations
    |
293 |         self,
294 |         manager: Optional["PluginManager"] = None,
295 |         config_dir: Optional[Path] = None,
    |                     ^^^^^^^^^^^^^^ UP007
296 |         default_timeout: float = 30.0
297 |     ):
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:311:25: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
310 |         # Loaded fixtures
311 |         self._fixtures: Dict[str, TestFixture] = {}
    |                         ^^^^ UP006
312 |
313 |         # Test history
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:314:24: UP006 [*] Use `list` instead of `List` for type annotation
    |
313 |         # Test history
314 |         self._history: List[TestResult] = []
    |                        ^^^^ UP006
315 |         self._max_history = 1000
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:318:34: UP007 [*] Use `X | Y` for type annotations
    |
317 |         # Progress callback
318 |         self._progress_callback: Optional[Callable[[str, int, int], None]] = None
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
319 |
320 |         logger.debug("PluginTestRunner initialized")
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:364:18: UP015 [*] Unnecessary open mode parameters
    |
363 |         try:
364 |             with open(yaml_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
365 |                 data = yaml.safe_load(f)
366 |         except Exception as e:
    |
    = help: Remove open mode parameters

plugins\_host\test_runner.py:383:41: UP007 [*] Use `X | Y` for type annotations
    |
381 |         return count
382 |
383 |     def get_fixture(self, name: str) -> Optional[TestFixture]:
    |                                         ^^^^^^^^^^^^^^^^^^^^^ UP007
384 |         """Get a loaded fixture by name."""
385 |         return self._fixtures.get(name)
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:387:59: UP006 [*] Use `list` instead of `List` for type annotation
    |
385 |         return self._fixtures.get(name)
386 |
387 |     def get_fixtures_for_contract(self, contract: str) -> List[TestFixture]:
    |                                                           ^^^^ UP006
388 |         """Get all fixtures for a specific contract."""
389 |         return [f for f in self._fixtures.values() if f.contract == contract]
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:391:32: UP006 [*] Use `list` instead of `List` for type annotation
    |
389 |         return [f for f in self._fixtures.values() if f.contract == contract]
390 |
391 |     def list_fixtures(self) -> List[Dict[str, Any]]:
    |                                ^^^^ UP006
392 |         """List all loaded fixtures."""
393 |         return [
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:391:37: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
389 |         return [f for f in self._fixtures.values() if f.contract == contract]
390 |
391 |     def list_fixtures(self) -> List[Dict[str, Any]]:
    |                                     ^^^^ UP006
392 |         """List all loaded fixtures."""
393 |         return [
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:407:17: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
405 |         plugin_name: str,
406 |         method: str,
407 |         params: Dict[str, Any],
    |                 ^^^^ UP006
408 |         timeout: float
409 |     ) -> tuple[bool, Any, Optional[str], Optional[int]]:
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:409:27: UP007 [*] Use `X | Y` for type annotations
    |
407 |         params: Dict[str, Any],
408 |         timeout: float
409 |     ) -> tuple[bool, Any, Optional[str], Optional[int]]:
    |                           ^^^^^^^^^^^^^ UP007
410 |         """
411 |         Invoke a plugin method.
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:409:42: UP007 [*] Use `X | Y` for type annotations
    |
407 |         params: Dict[str, Any],
408 |         timeout: float
409 |     ) -> tuple[bool, Any, Optional[str], Optional[int]]:
    |                                          ^^^^^^^^^^^^^ UP007
410 |         """
411 |         Invoke a plugin method.
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:457:16: UP041 [*] Replace aliased errors with `TimeoutError`
    |
455 |             return True, result, None, None
456 |
457 |         except asyncio.TimeoutError:
    |                ^^^^^^^^^^^^^^^^^^^^ UP041
458 |             return False, None, f"Method timed out after {timeout}s", -32603
459 |         except TypeError as e:
    |
    = help: Replace `asyncio.TimeoutError` with builtin `TimeoutError`

plugins\_host\test_runner.py:661:19: UP007 [*] Use `X | Y` for type annotations
    |
659 |         self,
660 |         plugin_name: str,
661 |         contract: Optional[str] = None
    |                   ^^^^^^^^^^^^^ UP007
662 |     ) -> TestSuiteResult:
663 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:800:17: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
798 |         plugin_name: str,
799 |         method: str,
800 |         params: Dict[str, Any],
    |                 ^^^^ UP006
801 |         iterations: int = 10,
802 |         warmup: int = 2
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:803:10: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
801 |         iterations: int = 10,
802 |         warmup: int = 2
803 |     ) -> Dict[str, Any]:
    |          ^^^^ UP006
804 |         """
805 |         Benchmark a plugin method.
    |
    = help: Replace with `dict`

plugins\_host\test_runner.py:817:16: UP006 [*] Use `list` instead of `List` for type annotation
    |
815 |             Benchmark results
816 |         """
817 |         times: List[float] = []
    |                ^^^^ UP006
818 |         errors: List[str] = []
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:818:17: UP006 [*] Use `list` instead of `List` for type annotation
    |
816 |         """
817 |         times: List[float] = []
818 |         errors: List[str] = []
    |                 ^^^^ UP006
819 |
820 |         # Warmup
    |
    = help: Replace with `list`

plugins\_host\test_runner.py:827:13: B007 Loop control variable `i` not used within loop body
    |
826 |         # Benchmark
827 |         for i in range(iterations):
    |             ^ B007
828 |             start = time.perf_counter()
829 |             success, result, error, code = await self._invoke_method(
    |
    = help: Rename unused `i` to `_i`

plugins\_host\test_runner.py:867:22: UP007 [*] Use `X | Y` for type annotations
    |
865 |         self,
866 |         limit: int = 100,
867 |         plugin_name: Optional[str] = None,
    |                      ^^^^^^^^^^^^^ UP007
868 |         status: Optional[TestStatus] = None
869 |     ) -> List[TestResult]:
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:868:17: UP007 [*] Use `X | Y` for type annotations
    |
866 |         limit: int = 100,
867 |         plugin_name: Optional[str] = None,
868 |         status: Optional[TestStatus] = None
    |                 ^^^^^^^^^^^^^^^^^^^^ UP007
869 |     ) -> List[TestResult]:
870 |         """
    |
    = help: Convert to `X | Y`

plugins\_host\test_runner.py:869:10: UP006 [*] Use `list` instead of `List` for type annotation
    |
867 |         plugin_name: Optional[str] = None,
868 |         status: Optional[TestStatus] = None
869 |     ) -> List[TestResult]:
    |          ^^^^ UP006
870 |         """
871 |         Get test history.
    |
    = help: Replace with `list`

plugins\_host\validator.py:26:1: UP035 [*] Import from `collections.abc` instead: `Callable`
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |
   = help: Import from `collections.abc`

plugins\_host\validator.py:26:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |

plugins\_host\validator.py:26:1: UP035 `typing.List` is deprecated, use `list` instead
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |

plugins\_host\validator.py:26:1: UP035 `typing.Set` is deprecated, use `set` instead
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |

plugins\_host\validator.py:26:1: UP035 `typing.Tuple` is deprecated, use `tuple` instead
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |

plugins\_host\validator.py:26:1: UP035 `typing.Type` is deprecated, use `type` instead
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
27 |
28 | import yaml
   |

plugins\_host\validator.py:26:25: F401 [*] `typing.Callable` imported but unused
   |
24 | from dataclasses import dataclass, field
25 | from pathlib import Path
26 | from typing import Any, Callable, Dict, List, Optional, Set, Tuple, Type
   |                         ^^^^^^^^ F401
27 |
28 | import yaml
   |
   = help: Remove unused import: `typing.Callable`

plugins\_host\validator.py:35:1: W293 [*] Blank line contains whitespace
   |
33 | except ImportError:
34 |     HAS_JSONSCHEMA = False
35 |     
   | ^^^^ W293
36 | from contracts.base import PluginBase
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:45:1: W293 Blank line contains whitespace
   |
43 |     """
44 |     Result of plugin validation.
45 |     
   | ^^^^ W293
46 |     Attributes:
47 |         plugin_name: Name of the validated plugin
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:59:13: UP006 [*] Use `list` instead of `List` for type annotation
   |
57 |     plugin_name: str
58 |     valid: bool = True
59 |     errors: List[str] = field(default_factory=list)
   |             ^^^^ UP006
60 |     warnings: List[str] = field(default_factory=list)
61 |     manifest_valid: bool = True
   |
   = help: Replace with `list`

plugins\_host\validator.py:60:15: UP006 [*] Use `list` instead of `List` for type annotation
   |
58 |     valid: bool = True
59 |     errors: List[str] = field(default_factory=list)
60 |     warnings: List[str] = field(default_factory=list)
   |               ^^^^ UP006
61 |     manifest_valid: bool = True
62 |     contract_valid: bool = True
   |
   = help: Replace with `list`

plugins\_host\validator.py:63:20: UP006 [*] Use `list` instead of `List` for type annotation
   |
61 |     manifest_valid: bool = True
62 |     contract_valid: bool = True
63 |     methods_found: List[str] = field(default_factory=list)
   |                    ^^^^ UP006
64 |     methods_missing: List[str] = field(default_factory=list)
65 |     methods_extra: List[str] = field(default_factory=list)
   |
   = help: Replace with `list`

plugins\_host\validator.py:64:22: UP006 [*] Use `list` instead of `List` for type annotation
   |
62 |     contract_valid: bool = True
63 |     methods_found: List[str] = field(default_factory=list)
64 |     methods_missing: List[str] = field(default_factory=list)
   |                      ^^^^ UP006
65 |     methods_extra: List[str] = field(default_factory=list)
   |
   = help: Replace with `list`

plugins\_host\validator.py:65:20: UP006 [*] Use `list` instead of `List` for type annotation
   |
63 |     methods_found: List[str] = field(default_factory=list)
64 |     methods_missing: List[str] = field(default_factory=list)
65 |     methods_extra: List[str] = field(default_factory=list)
   |                    ^^^^ UP006
66 |     
67 |     def to_dict(self) -> Dict[str, Any]:
   |
   = help: Replace with `list`

plugins\_host\validator.py:66:1: W293 [*] Blank line contains whitespace
   |
64 |     methods_missing: List[str] = field(default_factory=list)
65 |     methods_extra: List[str] = field(default_factory=list)
66 |     
   | ^^^^ W293
67 |     def to_dict(self) -> Dict[str, Any]:
68 |         """Serialize for JSON-RPC responses."""
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:67:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
65 |     methods_extra: List[str] = field(default_factory=list)
66 |     
67 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^ UP006
68 |         """Serialize for JSON-RPC responses."""
69 |         return {
   |
   = help: Replace with `dict`

plugins\_host\validator.py:82:1: W293 [*] Blank line contains whitespace
   |
80 |             },
81 |         }
82 |     
   | ^^^^ W293
83 |     def add_error(self, error: str) -> None:
84 |         """Add an error and mark as invalid."""
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:87:1: W293 [*] Blank line contains whitespace
   |
85 |         self.errors.append(error)
86 |         self.valid = False
87 |     
   | ^^^^ W293
88 |     def add_warning(self, warning: str) -> None:
89 |         """Add a warning (does not affect validity)."""
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:96:1: W293 Blank line contains whitespace
   |
94 |     """
95 |     Validates plugins against manifest schema and contract requirements.
96 |     
   | ^^^^ W293
97 |     Validation stages:
98 |         1. Manifest Schema Validation - JSON Schema against D008
   |
   = help: Remove whitespace from blank line

plugins\_host\validator.py:104:1: W293 Blank line contains whitespace
    |
102 |         5. Method Validation - Verify required methods exist
103 |         6. Signature Validation - Check method signatures match contract
104 |     
    | ^^^^ W293
105 |     Usage:
106 |         validator = PluginValidator(config_dir="./config")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:112:1: W293 [*] Blank line contains whitespace
    |
110 |                 print(f"Error: {error}")
111 |     """
112 |     
    | ^^^^ W293
113 |     def __init__(self, config_dir: str | Path = "./config"):
114 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:116:1: W293 Blank line contains whitespace
    |
114 |         """
115 |         Initialize validator with configuration.
116 |         
    | ^^^^^^^^ W293
117 |         Args:
118 |             config_dir: Path to config directory
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:121:1: W293 [*] Blank line contains whitespace
    |
119 |         """
120 |         self.config_dir = Path(config_dir).resolve()
121 |         
    | ^^^^^^^^ W293
122 |         # Load manifest schema (D008)
123 |         self._manifest_schema: Optional[Dict[str, Any]] = None
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:123:32: UP007 [*] Use `X | Y` for type annotations
    |
122 |         # Load manifest schema (D008)
123 |         self._manifest_schema: Optional[Dict[str, Any]] = None
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
124 |         self._load_manifest_schema()
    |
    = help: Convert to `X | Y`

plugins\_host\validator.py:123:41: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
122 |         # Load manifest schema (D008)
123 |         self._manifest_schema: Optional[Dict[str, Any]] = None
    |                                         ^^^^ UP006
124 |         self._load_manifest_schema()
    |
    = help: Replace with `dict`

plugins\_host\validator.py:125:1: W293 [*] Blank line contains whitespace
    |
123 |         self._manifest_schema: Optional[Dict[str, Any]] = None
124 |         self._load_manifest_schema()
125 |         
    | ^^^^^^^^ W293
126 |         # Load contracts registry (D021)
127 |         self._contracts: Dict[str, Dict[str, Any]] = {}
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:127:26: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
126 |         # Load contracts registry (D021)
127 |         self._contracts: Dict[str, Dict[str, Any]] = {}
    |                          ^^^^ UP006
128 |         self._load_contracts_registry()
    |
    = help: Replace with `dict`

plugins\_host\validator.py:127:36: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
126 |         # Load contracts registry (D021)
127 |         self._contracts: Dict[str, Dict[str, Any]] = {}
    |                                    ^^^^ UP006
128 |         self._load_contracts_registry()
    |
    = help: Replace with `dict`

plugins\_host\validator.py:129:1: W293 [*] Blank line contains whitespace
    |
127 |         self._contracts: Dict[str, Dict[str, Any]] = {}
128 |         self._load_contracts_registry()
129 |         
    | ^^^^^^^^ W293
130 |         logger.debug(f"PluginValidator initialized: config={self.config_dir}")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:131:1: W293 [*] Blank line contains whitespace
    |
130 |         logger.debug(f"PluginValidator initialized: config={self.config_dir}")
131 |     
    | ^^^^ W293
132 |     def _load_manifest_schema(self) -> None:
133 |         """Load manifest JSON Schema from D008."""
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:135:1: W293 [*] Blank line contains whitespace
    |
133 |         """Load manifest JSON Schema from D008."""
134 |         schema_path = self.config_dir / "manifest_schema.json"
135 |         
    | ^^^^^^^^ W293
136 |         if not schema_path.exists():
137 |             logger.warning(f"manifest_schema.json not found at {schema_path}")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:139:1: W293 [*] Blank line contains whitespace
    |
137 |             logger.warning(f"manifest_schema.json not found at {schema_path}")
138 |             return
139 |         
    | ^^^^^^^^ W293
140 |         try:
141 |             with open(schema_path, "r", encoding="utf-8") as f:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:141:18: UP015 [*] Unnecessary open mode parameters
    |
140 |         try:
141 |             with open(schema_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
142 |                 self._manifest_schema = json.load(f)
143 |             logger.debug("Loaded manifest schema")
    |
    = help: Remove open mode parameters

plugins\_host\validator.py:146:1: W293 [*] Blank line contains whitespace
    |
144 |         except Exception as e:
145 |             logger.error(f"Failed to load manifest schema: {e}")
146 |     
    | ^^^^ W293
147 |     def _load_contracts_registry(self) -> None:
148 |         """Load contracts registry from D021."""
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:150:1: W293 [*] Blank line contains whitespace
    |
148 |         """Load contracts registry from D021."""
149 |         registry_path = self.config_dir / "contracts_registry.yaml"
150 |         
    | ^^^^^^^^ W293
151 |         if not registry_path.exists():
152 |             logger.warning(f"contracts_registry.yaml not found at {registry_path}")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:154:1: W293 [*] Blank line contains whitespace
    |
152 |             logger.warning(f"contracts_registry.yaml not found at {registry_path}")
153 |             return
154 |         
    | ^^^^^^^^ W293
155 |         try:
156 |             with open(registry_path, "r", encoding="utf-8") as f:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:156:18: UP015 [*] Unnecessary open mode parameters
    |
155 |         try:
156 |             with open(registry_path, "r", encoding="utf-8") as f:
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
157 |                 registry = yaml.safe_load(f)
158 |                 self._contracts = registry.get("contracts", {})
    |
    = help: Remove open mode parameters

plugins\_host\validator.py:162:1: W293 [*] Blank line contains whitespace
    |
160 |         except Exception as e:
161 |             logger.error(f"Failed to load contracts registry: {e}")
162 |     
    | ^^^^ W293
163 |     def validate_manifest_schema(
164 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:165:19: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
163 |     def validate_manifest_schema(
164 |         self,
165 |         manifest: Dict[str, Any],
    |                   ^^^^ UP006
166 |         result: ValidationResult
167 |     ) -> None:
    |
    = help: Replace with `dict`

plugins\_host\validator.py:170:1: W293 Blank line contains whitespace
    |
168 |         """
169 |         Validate manifest against JSON Schema.
170 |         
    | ^^^^^^^^ W293
171 |         Args:
172 |             manifest: Parsed manifest dictionary
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:178:1: W293 [*] Blank line contains whitespace
    |
176 |             result.add_warning("jsonschema not installed, skipping schema validation")
177 |             return
178 |         
    | ^^^^^^^^ W293
179 |         if not self._manifest_schema:
180 |             result.add_warning("Manifest schema not loaded, skipping schema validation")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:182:1: W293 [*] Blank line contains whitespace
    |
180 |             result.add_warning("Manifest schema not loaded, skipping schema validation")
181 |             return
182 |         
    | ^^^^^^^^ W293
183 |         try:
184 |             jsonschema.validate(instance=manifest, schema=self._manifest_schema)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:195:1: W293 [*] Blank line contains whitespace
    |
193 |         except jsonschema.SchemaError as e:
194 |             result.add_warning(f"Invalid manifest schema: {e.message}")
195 |     
    | ^^^^ W293
196 |     def validate_contract_exists(
197 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:203:1: W293 Blank line contains whitespace
    |
201 |         """
202 |         Validate that the contract type is known.
203 |         
    | ^^^^^^^^ W293
204 |         Args:
205 |             contract: Contract type from manifest
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:207:1: W293 Blank line contains whitespace
    |
205 |             contract: Contract type from manifest
206 |             result: ValidationResult to update
207 |             
    | ^^^^^^^^^^^^ W293
208 |         Returns:
209 |             True if contract is valid, False otherwise
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:218:1: W293 [*] Blank line contains whitespace
    |
216 |             return False
217 |         return True
218 |     
    | ^^^^ W293
219 |     def get_contract_info(self, contract: str) -> Optional[Dict[str, Any]]:
220 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:219:51: UP007 [*] Use `X | Y` for type annotations
    |
217 |         return True
218 |     
219 |     def get_contract_info(self, contract: str) -> Optional[Dict[str, Any]]:
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^ UP007
220 |         """
221 |         Get contract definition from registry.
    |
    = help: Convert to `X | Y`

plugins\_host\validator.py:219:60: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
217 |         return True
218 |     
219 |     def get_contract_info(self, contract: str) -> Optional[Dict[str, Any]]:
    |                                                            ^^^^ UP006
220 |         """
221 |         Get contract definition from registry.
    |
    = help: Replace with `dict`

plugins\_host\validator.py:222:1: W293 Blank line contains whitespace
    |
220 |         """
221 |         Get contract definition from registry.
222 |         
    | ^^^^^^^^ W293
223 |         Args:
224 |             contract: Contract type name
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:225:1: W293 Blank line contains whitespace
    |
223 |         Args:
224 |             contract: Contract type name
225 |             
    | ^^^^^^^^^^^^ W293
226 |         Returns:
227 |             Contract definition dict or None
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:230:1: W293 [*] Blank line contains whitespace
    |
228 |         """
229 |         return self._contracts.get(contract)
230 |     
    | ^^^^ W293
231 |     def get_required_methods(self, contract: str) -> Set[str]:
232 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:231:54: UP006 [*] Use `set` instead of `Set` for type annotation
    |
229 |         return self._contracts.get(contract)
230 |     
231 |     def get_required_methods(self, contract: str) -> Set[str]:
    |                                                      ^^^ UP006
232 |         """
233 |         Get required method names for a contract.
    |
    = help: Replace with `set`

plugins\_host\validator.py:234:1: W293 Blank line contains whitespace
    |
232 |         """
233 |         Get required method names for a contract.
234 |         
    | ^^^^^^^^ W293
235 |         Args:
236 |             contract: Contract type name
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:237:1: W293 Blank line contains whitespace
    |
235 |         Args:
236 |             contract: Contract type name
237 |             
    | ^^^^^^^^^^^^ W293
238 |         Returns:
239 |             Set of required method names
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:245:1: W293 [*] Blank line contains whitespace
    |
243 |         required = methods.get("required", [])
244 |         return {m["name"] for m in required}
245 |     
    | ^^^^ W293
246 |     def get_optional_methods(self, contract: str) -> Set[str]:
247 |         """
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:246:54: UP006 [*] Use `set` instead of `Set` for type annotation
    |
244 |         return {m["name"] for m in required}
245 |     
246 |     def get_optional_methods(self, contract: str) -> Set[str]:
    |                                                      ^^^ UP006
247 |         """
248 |         Get optional method names for a contract.
    |
    = help: Replace with `set`

plugins\_host\validator.py:249:1: W293 Blank line contains whitespace
    |
247 |         """
248 |         Get optional method names for a contract.
249 |         
    | ^^^^^^^^ W293
250 |         Args:
251 |             contract: Contract type name
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:252:1: W293 Blank line contains whitespace
    |
250 |         Args:
251 |             contract: Contract type name
252 |             
    | ^^^^^^^^^^^^ W293
253 |         Returns:
254 |             Set of optional method names
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:260:1: W293 [*] Blank line contains whitespace
    |
258 |         optional = methods.get("optional", [])
259 |         return {m["name"] for m in optional}
260 |     
    | ^^^^ W293
261 |     def import_plugin_module(
262 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:266:10: UP007 [*] Use `X | Y` for type annotations
    |
264 |         entry_point: str,
265 |         result: ValidationResult
266 |     ) -> Optional[Any]:
    |          ^^^^^^^^^^^^^ UP007
267 |         """
268 |         Attempt to import the plugin module.
    |
    = help: Convert to `X | Y`

plugins\_host\validator.py:269:1: W293 Blank line contains whitespace
    |
267 |         """
268 |         Attempt to import the plugin module.
269 |         
    | ^^^^^^^^ W293
270 |         Args:
271 |             plugin_path: Absolute path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:274:1: W293 Blank line contains whitespace
    |
272 |             entry_point: Module name to import
273 |             result: ValidationResult to update
274 |             
    | ^^^^^^^^^^^^ W293
275 |         Returns:
276 |             Imported module or None if import failed
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:282:1: W293 [*] Blank line contains whitespace
    |
280 |         if plugin_path_str not in sys.path:
281 |             sys.path.insert(0, plugin_path_str)
282 |         
    | ^^^^^^^^ W293
283 |         try:
284 |             # Import the module
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:298:1: W293 [*] Blank line contains whitespace
    |
296 |             if plugin_path_str in sys.path:
297 |                 sys.path.remove(plugin_path_str)
298 |     
    | ^^^^ W293
299 |     def find_plugin_class(
300 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:304:10: UP007 [*] Use `X | Y` for type annotations
    |
302 |         contract: str,
303 |         result: ValidationResult
304 |     ) -> Optional[Type]:
    |          ^^^^^^^^^^^^^^ UP007
305 |         """
306 |         Find the plugin class in the module.
    |
    = help: Convert to `X | Y`

plugins\_host\validator.py:304:19: UP006 [*] Use `type` instead of `Type` for type annotation
    |
302 |         contract: str,
303 |         result: ValidationResult
304 |     ) -> Optional[Type]:
    |                   ^^^^ UP006
305 |         """
306 |         Find the plugin class in the module.
    |
    = help: Replace with `type`

plugins\_host\validator.py:307:1: W293 Blank line contains whitespace
    |
305 |         """
306 |         Find the plugin class in the module.
307 |         
    | ^^^^^^^^ W293
308 |         Looks for a class that:
309 |         1. Inherits from PluginBase
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:312:1: W293 Blank line contains whitespace
    |
310 |         2. Is not PluginBase itself or a contract base class
311 |         3. Name ends with "Plugin"
312 |         
    | ^^^^^^^^ W293
313 |         Args:
314 |             module: Imported plugin module
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:317:1: W293 Blank line contains whitespace
    |
315 |             contract: Expected contract type
316 |             result: ValidationResult to update
317 |             
    | ^^^^^^^^^^^^ W293
318 |         Returns:
319 |             Plugin class or None if not found
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:321:21: UP006 [*] Use `list` instead of `List` for type annotation
    |
319 |             Plugin class or None if not found
320 |         """
321 |         candidates: List[Tuple[str, Type]] = []
    |                     ^^^^ UP006
322 |         
323 |         for name, obj in inspect.getmembers(module, inspect.isclass):
    |
    = help: Replace with `list`

plugins\_host\validator.py:321:26: UP006 [*] Use `tuple` instead of `Tuple` for type annotation
    |
319 |             Plugin class or None if not found
320 |         """
321 |         candidates: List[Tuple[str, Type]] = []
    |                          ^^^^^ UP006
322 |         
323 |         for name, obj in inspect.getmembers(module, inspect.isclass):
    |
    = help: Replace with `tuple`

plugins\_host\validator.py:321:37: UP006 [*] Use `type` instead of `Type` for type annotation
    |
319 |             Plugin class or None if not found
320 |         """
321 |         candidates: List[Tuple[str, Type]] = []
    |                                     ^^^^ UP006
322 |         
323 |         for name, obj in inspect.getmembers(module, inspect.isclass):
    |
    = help: Replace with `type`

plugins\_host\validator.py:322:1: W293 [*] Blank line contains whitespace
    |
320 |         """
321 |         candidates: List[Tuple[str, Type]] = []
322 |         
    | ^^^^^^^^ W293
323 |         for name, obj in inspect.getmembers(module, inspect.isclass):
324 |             # Skip if not defined in this module
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:327:1: W293 [*] Blank line contains whitespace
    |
325 |             if obj.__module__ != module.__name__:
326 |                 continue
327 |             
    | ^^^^^^^^^^^^ W293
328 |             # Must inherit from PluginBase
329 |             if not issubclass(obj, PluginBase):
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:331:1: W293 [*] Blank line contains whitespace
    |
329 |             if not issubclass(obj, PluginBase):
330 |                 continue
331 |             
    | ^^^^^^^^^^^^ W293
332 |             # Skip PluginBase itself
333 |             if obj is PluginBase:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:335:1: W293 [*] Blank line contains whitespace
    |
333 |             if obj is PluginBase:
334 |                 continue
335 |             
    | ^^^^^^^^^^^^ W293
336 |             # Skip if it's a contract base class (ends with Contract)
337 |             if name.endswith("Contract"):
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:339:1: W293 [*] Blank line contains whitespace
    |
337 |             if name.endswith("Contract"):
338 |                 continue
339 |             
    | ^^^^^^^^^^^^ W293
340 |             candidates.append((name, obj))
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:341:1: W293 [*] Blank line contains whitespace
    |
340 |             candidates.append((name, obj))
341 |         
    | ^^^^^^^^ W293
342 |         if not candidates:
343 |             result.add_error(
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:344:17: F541 [*] f-string without any placeholders
    |
342 |         if not candidates:
343 |             result.add_error(
344 |                 f"No plugin class found. Expected a class inheriting from PluginBase "
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
345 |                 f"with name ending in 'Plugin'"
346 |             )
    |
    = help: Remove extraneous `f` prefix

plugins\_host\validator.py:345:17: F541 [*] f-string without any placeholders
    |
343 |             result.add_error(
344 |                 f"No plugin class found. Expected a class inheriting from PluginBase "
345 |                 f"with name ending in 'Plugin'"
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
346 |             )
347 |             return None
    |
    = help: Remove extraneous `f` prefix

plugins\_host\validator.py:348:1: W293 [*] Blank line contains whitespace
    |
346 |             )
347 |             return None
348 |         
    | ^^^^^^^^ W293
349 |         if len(candidates) > 1:
350 |             # Prefer class ending with "Plugin"
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:354:1: W293 [*] Blank line contains whitespace
    |
352 |             if len(plugin_classes) == 1:
353 |                 return plugin_classes[0][1]
354 |             
    | ^^^^^^^^^^^^ W293
355 |             result.add_warning(
356 |                 f"Multiple plugin classes found: {[n for n, _ in candidates]}. "
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:359:1: W293 [*] Blank line contains whitespace
    |
357 |                 f"Using first one."
358 |             )
359 |         
    | ^^^^^^^^ W293
360 |         return candidates[0][1]
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:361:1: W293 [*] Blank line contains whitespace
    |
360 |         return candidates[0][1]
361 |     
    | ^^^^ W293
362 |     def validate_methods(
363 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:364:23: UP006 [*] Use `type` instead of `Type` for type annotation
    |
362 |     def validate_methods(
363 |         self,
364 |         plugin_class: Type,
    |                       ^^^^ UP006
365 |         contract: str,
366 |         result: ValidationResult
    |
    = help: Replace with `type`

plugins\_host\validator.py:370:1: W293 Blank line contains whitespace
    |
368 |         """
369 |         Validate plugin class implements required methods.
370 |         
    | ^^^^^^^^ W293
371 |         Args:
372 |             plugin_class: Plugin class to validate
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:379:1: W293 [*] Blank line contains whitespace
    |
377 |         optional = self.get_optional_methods(contract)
378 |         all_contract_methods = required | optional
379 |         
    | ^^^^^^^^ W293
380 |         # Get all public methods on the class
381 |         class_methods = set()
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:382:19: B007 Loop control variable `method` not used within loop body
    |
380 |         # Get all public methods on the class
381 |         class_methods = set()
382 |         for name, method in inspect.getmembers(plugin_class, predicate=inspect.isfunction):
    |                   ^^^^^^ B007
383 |             if not name.startswith("_"):
384 |                 class_methods.add(name)
    |
    = help: Rename unused `method` to `_method`

plugins\_host\validator.py:385:1: W293 [*] Blank line contains whitespace
    |
383 |             if not name.startswith("_"):
384 |                 class_methods.add(name)
385 |         
    | ^^^^^^^^ W293
386 |         # Also check for async methods
387 |         for name, method in inspect.getmembers(plugin_class, predicate=inspect.iscoroutinefunction):
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:387:19: B007 Loop control variable `method` not used within loop body
    |
386 |         # Also check for async methods
387 |         for name, method in inspect.getmembers(plugin_class, predicate=inspect.iscoroutinefunction):
    |                   ^^^^^^ B007
388 |             if not name.startswith("_"):
389 |                 class_methods.add(name)
    |
    = help: Rename unused `method` to `_method`

plugins\_host\validator.py:390:1: W293 [*] Blank line contains whitespace
    |
388 |             if not name.startswith("_"):
389 |                 class_methods.add(name)
390 |         
    | ^^^^^^^^ W293
391 |         # Find missing required methods
392 |         missing = required - class_methods
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:396:1: W293 [*] Blank line contains whitespace
    |
394 |             result.methods_missing.append(method)
395 |             result.add_error(f"Missing required method: {method}")
396 |         
    | ^^^^^^^^ W293
397 |         # Find extra methods
398 |         extra = class_methods - all_contract_methods - {"initialize", "shutdown", "health_check"}
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:400:1: W293 [*] Blank line contains whitespace
    |
398 |         extra = class_methods - all_contract_methods - {"initialize", "shutdown", "health_check"}
399 |         result.methods_extra = list(extra)
400 |         
    | ^^^^^^^^ W293
401 |         # Record found methods
402 |         result.methods_found = list(class_methods & all_contract_methods)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:403:1: W293 [*] Blank line contains whitespace
    |
401 |         # Record found methods
402 |         result.methods_found = list(class_methods & all_contract_methods)
403 |         
    | ^^^^^^^^ W293
404 |         if missing:
405 |             result.contract_valid = False
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:406:1: W293 [*] Blank line contains whitespace
    |
404 |         if missing:
405 |             result.contract_valid = False
406 |     
    | ^^^^ W293
407 |     def validate_plugin(
408 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:410:19: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
408 |         self,
409 |         plugin_path: Path,
410 |         manifest: Dict[str, Any],
    |                   ^^^^ UP006
411 |         deep_validate: bool = True
412 |     ) -> ValidationResult:
    |
    = help: Replace with `dict`

plugins\_host\validator.py:415:1: W293 Blank line contains whitespace
    |
413 |         """
414 |         Fully validate a discovered plugin.
415 |         
    | ^^^^^^^^ W293
416 |         Args:
417 |             plugin_path: Absolute path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:420:1: W293 Blank line contains whitespace
    |
418 |             manifest: Parsed manifest dictionary
419 |             deep_validate: If True, also import and validate class methods
420 |             
    | ^^^^^^^^^^^^ W293
421 |         Returns:
422 |             ValidationResult with all findings
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:426:1: W293 [*] Blank line contains whitespace
    |
424 |         plugin_name = manifest.get("name", plugin_path.name)
425 |         result = ValidationResult(plugin_name=plugin_name)
426 |         
    | ^^^^^^^^ W293
427 |         # Stage 1: Manifest schema validation
428 |         self.validate_manifest_schema(manifest, result)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:429:1: W293 [*] Blank line contains whitespace
    |
427 |         # Stage 1: Manifest schema validation
428 |         self.validate_manifest_schema(manifest, result)
429 |         
    | ^^^^^^^^ W293
430 |         # Stage 2: Contract existence
431 |         contract = manifest.get("contract", "unknown")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:434:1: W293 [*] Blank line contains whitespace
    |
432 |         if not self.validate_contract_exists(contract, result):
433 |             return result
434 |         
    | ^^^^^^^^ W293
435 |         # If not doing deep validation, stop here
436 |         if not deep_validate:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:438:1: W293 [*] Blank line contains whitespace
    |
436 |         if not deep_validate:
437 |             return result
438 |         
    | ^^^^^^^^ W293
439 |         # Stage 3: Module import
440 |         entry_point = manifest.get("entry_point", "plugin")
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:444:1: W293 [*] Blank line contains whitespace
    |
442 |         if not module:
443 |             return result
444 |         
    | ^^^^^^^^ W293
445 |         # Stage 4: Class discovery
446 |         plugin_class = self.find_plugin_class(module, contract, result)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:449:1: W293 [*] Blank line contains whitespace
    |
447 |         if not plugin_class:
448 |             return result
449 |         
    | ^^^^^^^^ W293
450 |         # Stage 5: Method validation
451 |         self.validate_methods(plugin_class, contract, result)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:452:1: W293 [*] Blank line contains whitespace
    |
450 |         # Stage 5: Method validation
451 |         self.validate_methods(plugin_class, contract, result)
452 |         
    | ^^^^^^^^ W293
453 |         # Log result
454 |         if result.valid:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:460:1: W293 [*] Blank line contains whitespace
    |
458 |             for error in result.errors:
459 |                 logger.debug(f"  Error: {error}")
460 |         
    | ^^^^^^^^ W293
461 |         return result
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:462:1: W293 [*] Blank line contains whitespace
    |
461 |         return result
462 |     
    | ^^^^ W293
463 |     def validate_from_discovery(
464 |         self,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:465:22: F821 Undefined name `DiscoveredPlugin`
    |
463 |     def validate_from_discovery(
464 |         self,
465 |         discovered: "DiscoveredPlugin",
    |                      ^^^^^^^^^^^^^^^^ F821
466 |         deep_validate: bool = True
467 |     ) -> ValidationResult:
    |

plugins\_host\validator.py:470:1: W293 Blank line contains whitespace
    |
468 |         """
469 |         Validate a DiscoveredPlugin object.
470 |         
    | ^^^^^^^^ W293
471 |         Args:
472 |             discovered: DiscoveredPlugin from discovery.py
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:474:1: W293 Blank line contains whitespace
    |
472 |             discovered: DiscoveredPlugin from discovery.py
473 |             deep_validate: If True, also import and validate class methods
474 |             
    | ^^^^^^^^^^^^ W293
475 |         Returns:
476 |             ValidationResult with all findings
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:479:1: W293 [*] Blank line contains whitespace
    |
477 |         """
478 |         result = ValidationResult(plugin_name=discovered.name)
479 |         
    | ^^^^^^^^ W293
480 |         # Add any discovery errors first
481 |         for error in discovered.errors:
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:483:1: W293 [*] Blank line contains whitespace
    |
481 |         for error in discovered.errors:
482 |             result.add_error(error)
483 |         
    | ^^^^^^^^ W293
484 |         if not discovered.valid:
485 |             return result
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:486:1: W293 [*] Blank line contains whitespace
    |
484 |         if not discovered.valid:
485 |             return result
486 |         
    | ^^^^^^^^ W293
487 |         # Run full validation
488 |         return self.validate_plugin(
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:505:15: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
503 | def validate_plugin(
504 |     plugin_path: str | Path,
505 |     manifest: Dict[str, Any],
    |               ^^^^ UP006
506 |     config_dir: str | Path = "./config"
507 | ) -> ValidationResult:
    |
    = help: Replace with `dict`

plugins\_host\validator.py:510:1: W293 Blank line contains whitespace
    |
508 |     """
509 |     Convenience function to validate a plugin.
510 |     
    | ^^^^ W293
511 |     Args:
512 |         plugin_path: Path to plugin folder
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:515:1: W293 Blank line contains whitespace
    |
513 |         manifest: Parsed manifest dictionary
514 |         config_dir: Path to config directory
515 |         
    | ^^^^^^^^ W293
516 |     Returns:
517 |         ValidationResult
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:526:1: W293 [*] Blank line contains whitespace
    |
524 | if __name__ == "__main__":
525 |     import sys
526 |     
    | ^^^^ W293
527 |     logging.basicConfig(
528 |         level=logging.DEBUG,
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:532:1: W293 [*] Blank line contains whitespace
    |
530 |         stream=sys.stderr
531 |     )
532 |     
    | ^^^^ W293
533 |     # Test with discovery
534 |     from .discovery import HybridDiscovery
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:535:1: W293 [*] Blank line contains whitespace
    |
533 |     # Test with discovery
534 |     from .discovery import HybridDiscovery
535 |     
    | ^^^^ W293
536 |     this_dir = Path(__file__).parent.resolve()
537 |     plugins_dir = this_dir.parent
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:539:1: W293 [*] Blank line contains whitespace
    |
537 |     plugins_dir = this_dir.parent
538 |     config_dir = this_dir.parent.parent / "config"
539 |     
    | ^^^^ W293
540 |     discovery = HybridDiscovery(plugins_dir, config_dir)
541 |     validator = PluginValidator(config_dir)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:542:1: W293 [*] Blank line contains whitespace
    |
540 |     discovery = HybridDiscovery(plugins_dir, config_dir)
541 |     validator = PluginValidator(config_dir)
542 |     
    | ^^^^ W293
543 |     for plugin in discovery.scan(include_invalid=True):
544 |         print(f"\n=== Validating: {plugin.name} ===", file=sys.stderr)
    |
    = help: Remove whitespace from blank line

plugins\_host\validator.py:546:1: W293 [*] Blank line contains whitespace
    |
544 |         print(f"\n=== Validating: {plugin.name} ===", file=sys.stderr)
545 |         result = validator.validate_from_discovery(plugin, deep_validate=False)
546 |         
    | ^^^^^^^^ W293
547 |         print(f"Valid: {result.valid}", file=sys.stderr)
548 |         for error in result.errors:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama\plugin.py:6:1: I001 [*] Import block is un-sorted or un-formatted
   |
 4 |   """
 5 |
 6 | / import json
 7 | | import time
 8 | | import urllib.request
 9 | | import urllib.error
10 | | from plugins._host import PluginBase
   | |____________________________________^ I001
11 |
12 |   class Plugin(PluginBase):
   |
   = help: Organize imports

plugins\llm_ollama_v2\plugin.py:16:1: I001 [*] Import block is un-sorted or un-formatted
   |
14 |   """
15 |
16 | / import asyncio
17 | | import json
18 | | import urllib.request
19 | | import urllib.error
20 | | from typing import Any, Dict, List, Optional, AsyncIterator
21 | |
22 | | from contracts.base import PluginStatus, HealthStatus
23 | | from contracts.llm_contract import (
24 | |     LLMContract,
25 | |     Message,
26 | |     MessageRole,
27 | |     Model,
28 | |     CompletionOptions,
29 | |     CompletionResult,
30 | |     StreamChunk,
31 | |     TokenUsage,
32 | |     FinishReason,
33 | | )
   | |_^ I001
   |
   = help: Organize imports

plugins\llm_ollama_v2\plugin.py:20:1: UP035 [*] Import from `collections.abc` instead: `AsyncIterator`
   |
18 | import urllib.request
19 | import urllib.error
20 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
21 |
22 | from contracts.base import PluginStatus, HealthStatus
   |
   = help: Import from `collections.abc`

plugins\llm_ollama_v2\plugin.py:20:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
18 | import urllib.request
19 | import urllib.error
20 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
21 |
22 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\llm_ollama_v2\plugin.py:20:1: UP035 `typing.List` is deprecated, use `list` instead
   |
18 | import urllib.request
19 | import urllib.error
20 | from typing import Any, Dict, List, Optional, AsyncIterator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
21 |
22 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\llm_ollama_v2\plugin.py:26:5: F401 [*] `contracts.llm_contract.MessageRole` imported but unused
   |
24 |     LLMContract,
25 |     Message,
26 |     MessageRole,
   |     ^^^^^^^^^^^ F401
27 |     Model,
28 |     CompletionOptions,
   |
   = help: Remove unused import: `contracts.llm_contract.MessageRole`

plugins\llm_ollama_v2\plugin.py:39:1: W293 Blank line contains whitespace
   |
37 |     """
38 |     Ollama LLM Plugin - Local language model inference.
39 |     
   | ^^^^ W293
40 |     Connects to a locally running Ollama server to provide access
41 |     to installed models like Llama, Mistral, Gemma, Phi, and more.
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:42:1: W293 Blank line contains whitespace
   |
40 |     Connects to a locally running Ollama server to provide access
41 |     to installed models like Llama, Mistral, Gemma, Phi, and more.
42 |     
   | ^^^^ W293
43 |     Features:
44 |         - Auto-discovery of installed models
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:49:1: W293 Blank line contains whitespace
   |
47 |         - Model hot-swapping
48 |         - Graceful fallback when Ollama is unavailable
49 |     
   | ^^^^ W293
50 |     Prerequisites:
51 |         1. Install Ollama: https://ollama.com/download
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:65:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
63 |         self._ollama_available: bool = False
64 |
65 |     async def initialize(self, config: Dict[str, Any]) -> bool:
   |                                        ^^^^ UP006
66 |         """
67 |         Initialize the Ollama LLM plugin.
   |
   = help: Replace with `dict`

plugins\llm_ollama_v2\plugin.py:68:1: W293 Blank line contains whitespace
   |
66 |         """
67 |         Initialize the Ollama LLM plugin.
68 |         
   | ^^^^^^^^ W293
69 |         Args:
70 |             config: Configuration from manifest or user overrides.
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:75:1: W293 Blank line contains whitespace
   |
73 |                 - timeout: int (request timeout in seconds)
74 |                 - keep_alive: str (how long to keep model loaded)
75 |         
   | ^^^^^^^^ W293
76 |         Returns:
77 |             True if initialization succeeded.
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:84:1: W293 [*] Blank line contains whitespace
   |
82 |             self._keep_alive = config.get("keep_alive", "5m")
83 |             default_model = config.get("default_model")
84 |             
   | ^^^^^^^^^^^^ W293
85 |             # Check if Ollama is available and fetch models
86 |             await self._refresh_models()
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:87:1: W293 [*] Blank line contains whitespace
   |
85 |             # Check if Ollama is available and fetch models
86 |             await self._refresh_models()
87 |             
   | ^^^^^^^^^^^^ W293
88 |             # Set default model
89 |             if default_model and any(m.id == default_model for m in self._models):
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:93:1: W293 [*] Blank line contains whitespace
   |
91 |             elif self._models:
92 |                 self._current_model = self._models[0].id
93 |             
   | ^^^^^^^^^^^^ W293
94 |             self._initialized = True
95 |             self._status = PluginStatus.READY
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:96:1: W293 [*] Blank line contains whitespace
   |
94 |             self._initialized = True
95 |             self._status = PluginStatus.READY
96 |             
   | ^^^^^^^^^^^^ W293
97 |             return True
   |
   = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:98:1: W293 [*] Blank line contains whitespace
    |
 97 |             return True
 98 |             
    | ^^^^^^^^^^^^ W293
 99 |         except Exception as e:
100 |             self._status = PluginStatus.ERROR
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:101:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
 99 |         except Exception as e:
100 |             self._status = PluginStatus.ERROR
101 |             raise RuntimeError(f"Ollama initialization failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
102 |
103 |     async def shutdown(self) -> None:
    |

plugins\llm_ollama_v2\plugin.py:113:1: W293 Blank line contains whitespace
    |
111 |         """
112 |         Check plugin health and Ollama availability.
113 |         
    | ^^^^^^^^ W293
114 |         Returns:
115 |             HealthStatus with current state and diagnostics.
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |         # Check Ollama connectivity
118 |         ollama_status = await self._check_ollama()
119 |         
    | ^^^^^^^^ W293
120 |         details = {
121 |             "initialized": self._initialized,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:128:1: W293 [*] Blank line contains whitespace
    |
126 |             "models": [m.id for m in self._models[:5]],  # First 5
127 |         }
128 |         
    | ^^^^^^^^ W293
129 |         if ollama_status:
130 |             return HealthStatus(
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:151:1: W293 [*] Blank line contains whitespace
    |
149 |             except Exception:
150 |                 return False
151 |         
    | ^^^^^^^^ W293
152 |         return await asyncio.to_thread(check)
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:166:1: W293 [*] Blank line contains whitespace
    |
164 |                 pass
165 |             return []
166 |         
    | ^^^^^^^^ W293
167 |         raw_models = await asyncio.to_thread(fetch_models)
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:168:1: W293 [*] Blank line contains whitespace
    |
167 |         raw_models = await asyncio.to_thread(fetch_models)
168 |         
    | ^^^^^^^^ W293
169 |         self._models = []
170 |         for m in raw_models:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:172:1: W293 [*] Blank line contains whitespace
    |
170 |         for m in raw_models:
171 |             model_name = m.get("name", "unknown")
172 |             
    | ^^^^^^^^^^^^ W293
173 |             # Parse model details
174 |             details = m.get("details", {})
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:177:1: W293 [*] Blank line contains whitespace
    |
175 |             param_size = details.get("parameter_size", "")
176 |             family = details.get("family", "")
177 |             
    | ^^^^^^^^^^^^ W293
178 |             # Estimate context length based on model family
179 |             context_length = self._estimate_context_length(model_name, family)
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:180:1: W293 [*] Blank line contains whitespace
    |
178 |             # Estimate context length based on model family
179 |             context_length = self._estimate_context_length(model_name, family)
180 |             
    | ^^^^^^^^^^^^ W293
181 |             # Determine capabilities
182 |             capabilities = ["chat"]
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:187:1: W293 [*] Blank line contains whitespace
    |
185 |             if "embed" in model_name.lower():
186 |                 capabilities.append("embeddings")
187 |             
    | ^^^^^^^^^^^^ W293
188 |             self._models.append(Model(
189 |                 id=model_name,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:196:1: W293 [*] Blank line contains whitespace
    |
194 |                 capabilities=capabilities
195 |             ))
196 |         
    | ^^^^^^^^ W293
197 |         self._ollama_available = len(self._models) > 0
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:202:1: W293 [*] Blank line contains whitespace
    |
200 |         """Estimate context length based on model name/family."""
201 |         name_lower = model_name.lower()
202 |         
    | ^^^^^^^^ W293
203 |         # Known context lengths
204 |         if "llama3" in name_lower or "llama-3" in name_lower:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:218:1: W293 [*] Blank line contains whitespace
    |
216 |         if "codellama" in name_lower:
217 |             return 16384
218 |         
    | ^^^^^^^^ W293
219 |         # Default
220 |         return 4096
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:224:19: UP006 [*] Use `list` instead of `List` for type annotation
    |
222 |     async def complete(
223 |         self,
224 |         messages: List[Message],
    |                   ^^^^ UP006
225 |         options: Optional[CompletionOptions] = None
226 |     ) -> CompletionResult:
    |
    = help: Replace with `list`

plugins\llm_ollama_v2\plugin.py:225:18: UP007 [*] Use `X | Y` for type annotations
    |
223 |         self,
224 |         messages: List[Message],
225 |         options: Optional[CompletionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
226 |     ) -> CompletionResult:
227 |         """
    |
    = help: Convert to `X | Y`

plugins\llm_ollama_v2\plugin.py:229:1: W293 Blank line contains whitespace
    |
227 |         """
228 |         Generate completion for conversation messages.
229 |         
    | ^^^^^^^^ W293
230 |         Args:
231 |             messages: Conversation history as list of Messages.
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:233:1: W293 Blank line contains whitespace
    |
231 |             messages: Conversation history as list of Messages.
232 |             options: Completion options (model, temperature, etc.)
233 |         
    | ^^^^^^^^ W293
234 |         Returns:
235 |             CompletionResult containing generated content.
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:239:1: W293 [*] Blank line contains whitespace
    |
237 |         if not messages:
238 |             raise ValueError("Messages list cannot be empty")
239 |         
    | ^^^^^^^^ W293
240 |         opts = options or CompletionOptions()
241 |         model = opts.model or self._current_model
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:242:1: W293 [*] Blank line contains whitespace
    |
240 |         opts = options or CompletionOptions()
241 |         model = opts.model or self._current_model
242 |         
    | ^^^^^^^^ W293
243 |         if not model:
244 |             raise RuntimeError("No model selected. Call set_model() first or ensure Ollama has models.")
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:245:1: W293 [*] Blank line contains whitespace
    |
243 |         if not model:
244 |             raise RuntimeError("No model selected. Call set_model() first or ensure Ollama has models.")
245 |         
    | ^^^^^^^^ W293
246 |         # Build API request
247 |         api_messages = [
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:251:1: W293 [*] Blank line contains whitespace
    |
249 |             for m in messages
250 |         ]
251 |         
    | ^^^^^^^^ W293
252 |         payload = {
253 |             "model": model,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:263:1: W293 [*] Blank line contains whitespace
    |
261 |             }
262 |         }
263 |         
    | ^^^^^^^^ W293
264 |         if opts.stop:
265 |             payload["options"]["stop"] = opts.stop
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:266:1: W293 [*] Blank line contains whitespace
    |
264 |         if opts.stop:
265 |             payload["options"]["stop"] = opts.stop
266 |         
    | ^^^^^^^^ W293
267 |         def do_request():
268 |             try:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:275:1: W293 [*] Blank line contains whitespace
    |
273 |                     headers={"Content-Type": "application/json"}
274 |                 )
275 |                 
    | ^^^^^^^^^^^^^^^^ W293
276 |                 with urllib.request.urlopen(req, timeout=self._timeout) as response:
277 |                     if response.status == 200:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:281:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
279 |                         return result
280 |             except Exception as e:
281 |                 raise RuntimeError(f"Ollama API error: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
282 |         
283 |         result = await asyncio.to_thread(do_request)
    |

plugins\llm_ollama_v2\plugin.py:282:1: W293 [*] Blank line contains whitespace
    |
280 |             except Exception as e:
281 |                 raise RuntimeError(f"Ollama API error: {e}")
282 |         
    | ^^^^^^^^ W293
283 |         result = await asyncio.to_thread(do_request)
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:284:1: W293 [*] Blank line contains whitespace
    |
283 |         result = await asyncio.to_thread(do_request)
284 |         
    | ^^^^^^^^ W293
285 |         # Parse response
286 |         message = result.get("message", {})
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:288:1: W293 [*] Blank line contains whitespace
    |
286 |         message = result.get("message", {})
287 |         content = message.get("content", "")
288 |         
    | ^^^^^^^^ W293
289 |         # Token usage (Ollama provides these)
290 |         prompt_tokens = result.get("prompt_eval_count", 0)
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:292:1: W293 [*] Blank line contains whitespace
    |
290 |         prompt_tokens = result.get("prompt_eval_count", 0)
291 |         completion_tokens = result.get("eval_count", 0)
292 |         
    | ^^^^^^^^ W293
293 |         return CompletionResult(
294 |             content=content,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:312:19: UP006 [*] Use `list` instead of `List` for type annotation
    |
310 |     async def complete_stream(
311 |         self,
312 |         messages: List[Message],
    |                   ^^^^ UP006
313 |         options: Optional[CompletionOptions] = None
314 |     ) -> AsyncIterator[StreamChunk]:
    |
    = help: Replace with `list`

plugins\llm_ollama_v2\plugin.py:313:18: UP007 [*] Use `X | Y` for type annotations
    |
311 |         self,
312 |         messages: List[Message],
313 |         options: Optional[CompletionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
314 |     ) -> AsyncIterator[StreamChunk]:
315 |         """
    |
    = help: Convert to `X | Y`

plugins\llm_ollama_v2\plugin.py:317:1: W293 Blank line contains whitespace
    |
315 |         """
316 |         Stream completion tokens for conversation messages.
317 |         
    | ^^^^^^^^ W293
318 |         Args:
319 |             messages: Conversation history as list of Messages.
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:321:1: W293 Blank line contains whitespace
    |
319 |             messages: Conversation history as list of Messages.
320 |             options: Completion options.
321 |         
    | ^^^^^^^^ W293
322 |         Yields:
323 |             StreamChunk containing content deltas.
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:327:1: W293 [*] Blank line contains whitespace
    |
325 |         if not messages:
326 |             raise ValueError("Messages list cannot be empty")
327 |         
    | ^^^^^^^^ W293
328 |         opts = options or CompletionOptions()
329 |         model = opts.model or self._current_model
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:330:1: W293 [*] Blank line contains whitespace
    |
328 |         opts = options or CompletionOptions()
329 |         model = opts.model or self._current_model
330 |         
    | ^^^^^^^^ W293
331 |         if not model:
332 |             raise RuntimeError("No model selected.")
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:333:1: W293 [*] Blank line contains whitespace
    |
331 |         if not model:
332 |             raise RuntimeError("No model selected.")
333 |         
    | ^^^^^^^^ W293
334 |         # Build API request
335 |         api_messages = [
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:339:1: W293 [*] Blank line contains whitespace
    |
337 |             for m in messages
338 |         ]
339 |         
    | ^^^^^^^^ W293
340 |         payload = {
341 |             "model": model,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:351:1: W293 [*] Blank line contains whitespace
    |
349 |             }
350 |         }
351 |         
    | ^^^^^^^^ W293
352 |         def stream_request():
353 |             """Generator that yields response lines."""
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:361:1: W293 [*] Blank line contains whitespace
    |
359 |                     headers={"Content-Type": "application/json"}
360 |                 )
361 |                 
    | ^^^^^^^^^^^^^^^^ W293
362 |                 with urllib.request.urlopen(req, timeout=self._timeout) as response:
363 |                     for line in response:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:367:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
365 |                             yield json.loads(line.decode())
366 |             except Exception as e:
367 |                 raise RuntimeError(f"Ollama streaming error: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
368 |         
369 |         # Run streaming in thread and yield chunks
    |

plugins\llm_ollama_v2\plugin.py:368:1: W293 [*] Blank line contains whitespace
    |
366 |             except Exception as e:
367 |                 raise RuntimeError(f"Ollama streaming error: {e}")
368 |         
    | ^^^^^^^^ W293
369 |         # Run streaming in thread and yield chunks
370 |         import queue
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:372:1: W293 [*] Blank line contains whitespace
    |
370 |         import queue
371 |         import threading
372 |         
    | ^^^^^^^^ W293
373 |         q = queue.Queue()
374 |         error_holder = [None]
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:375:1: W293 [*] Blank line contains whitespace
    |
373 |         q = queue.Queue()
374 |         error_holder = [None]
375 |         
    | ^^^^^^^^ W293
376 |         def producer():
377 |             try:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:384:1: W293 [*] Blank line contains whitespace
    |
382 |             finally:
383 |                 q.put(None)  # Sentinel
384 |         
    | ^^^^^^^^ W293
385 |         thread = threading.Thread(target=producer, daemon=True)
386 |         thread.start()
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:387:1: W293 [*] Blank line contains whitespace
    |
385 |         thread = threading.Thread(target=producer, daemon=True)
386 |         thread.start()
387 |         
    | ^^^^^^^^ W293
388 |         while True:
389 |             # Get chunk with timeout to allow async cancellation
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:391:1: W293 [*] Blank line contains whitespace
    |
389 |             # Get chunk with timeout to allow async cancellation
390 |             chunk = await asyncio.to_thread(q.get, timeout=self._timeout)
391 |             
    | ^^^^^^^^^^^^ W293
392 |             if chunk is None:
393 |                 if error_holder[0]:
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:396:1: W293 [*] Blank line contains whitespace
    |
394 |                     raise error_holder[0]
395 |                 break
396 |             
    | ^^^^^^^^^^^^ W293
397 |             message = chunk.get("message", {})
398 |             content = message.get("content", "")
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:400:1: W293 [*] Blank line contains whitespace
    |
398 |             content = message.get("content", "")
399 |             done = chunk.get("done", False)
400 |             
    | ^^^^^^^^^^^^ W293
401 |             yield StreamChunk(
402 |                 content=content,
    |
    = help: Remove whitespace from blank line

plugins\llm_ollama_v2\plugin.py:406:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
404 |             )
405 |
406 |     def get_models(self) -> List[Model]:
    |                             ^^^^ UP006
407 |         """
408 |         Get list of available models from Ollama.
    |
    = help: Replace with `list`

plugins\llm_ollama_v2\plugin.py:409:1: W293 Blank line contains whitespace
    |
407 |         """
408 |         Get list of available models from Ollama.
409 |         
    | ^^^^^^^^ W293
410 |         Returns:
411 |             List of Model objects for installed Ollama models.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\__init__.py:10:1: I001 [*] Import block is un-sorted or un-formatted
   |
 8 | """
 9 |
10 | from .plugin import WhisperSTTPlugin, Plugin
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
11 |
12 | __all__ = ["WhisperSTTPlugin", "Plugin"]
   |
   = help: Organize imports

plugins\stt_whisper\plugin.py:20:1: I001 [*] Import block is un-sorted or un-formatted
   |
18 |   """
19 |
20 | / import asyncio
21 | | import io
22 | | import tempfile
23 | | import os
24 | | from typing import Any, Dict, List, Optional, Callable
25 | |
26 | | from contracts.base import PluginStatus, HealthStatus
27 | | from contracts.stt_contract import (
28 | |     STTContract,
29 | |     TranscriptionResult,
30 | |     TranscriptionSegment,
31 | |     TranscriptionOptions,
32 | |     TranscriptionStatus,
33 | |     StreamingConfig,
34 | | )
   | |_^ I001
   |
   = help: Organize imports

plugins\stt_whisper\plugin.py:21:8: F401 [*] `io` imported but unused
   |
20 | import asyncio
21 | import io
   |        ^^ F401
22 | import tempfile
23 | import os
   |
   = help: Remove unused import: `io`

plugins\stt_whisper\plugin.py:24:1: UP035 [*] Import from `collections.abc` instead: `Callable`
   |
22 | import tempfile
23 | import os
24 | from typing import Any, Dict, List, Optional, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import PluginStatus, HealthStatus
   |
   = help: Import from `collections.abc`

plugins\stt_whisper\plugin.py:24:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
22 | import tempfile
23 | import os
24 | from typing import Any, Dict, List, Optional, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\stt_whisper\plugin.py:24:1: UP035 `typing.List` is deprecated, use `list` instead
   |
22 | import tempfile
23 | import os
24 | from typing import Any, Dict, List, Optional, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 |
26 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\stt_whisper\plugin.py:55:1: W293 Blank line contains whitespace
   |
53 |     """
54 |     Faster Whisper STT Plugin - High-performance speech-to-text.
55 |     
   | ^^^^ W293
56 |     Uses CTranslate2 inference engine for 4x speedup over original Whisper.
57 |     Optimized for NVIDIA RTX 4080 with FP16 computation.
   |
   = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:58:1: W293 Blank line contains whitespace
   |
56 |     Uses CTranslate2 inference engine for 4x speedup over original Whisper.
57 |     Optimized for NVIDIA RTX 4080 with FP16 computation.
58 |     
   | ^^^^ W293
59 |     Features:
60 |         - 4x faster than openai-whisper
   |
   = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:75:33: UP007 [*] Use `X | Y` for type annotations
   |
73 |         self._device: str = "cpu"
74 |         self._compute_type: str = "float16"
75 |         self._default_language: Optional[str] = None
   |                                 ^^^^^^^^^^^^^ UP007
76 |         self._beam_size: int = 5
77 |         self._vad_filter: bool = True
   |
   = help: Convert to `X | Y`

plugins\stt_whisper\plugin.py:80:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
78 |         self._initialized: bool = False
79 |
80 |     async def initialize(self, config: Dict[str, Any]) -> bool:
   |                                        ^^^^ UP006
81 |         """
82 |         Initialize the Whisper STT plugin.
   |
   = help: Replace with `dict`

plugins\stt_whisper\plugin.py:83:1: W293 Blank line contains whitespace
   |
81 |         """
82 |         Initialize the Whisper STT plugin.
83 |         
   | ^^^^^^^^ W293
84 |         Lazy-loads the model to avoid blocking. The actual model
85 |         download happens on first transcription.
   |
   = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:86:1: W293 Blank line contains whitespace
   |
84 |         Lazy-loads the model to avoid blocking. The actual model
85 |         download happens on first transcription.
86 |         
   | ^^^^^^^^ W293
87 |         Args:
88 |             config: Configuration from manifest or user overrides.
   |
   = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:95:1: W293 Blank line contains whitespace
   |
93 |                 - beam_size: int (1-10)
94 |                 - vad_filter: bool
95 |         
   | ^^^^^^^^ W293
96 |         Returns:
97 |             True if initialization succeeded.
   |
   = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:106:1: W293 [*] Blank line contains whitespace
    |
104 |             self._vad_filter = config.get("vad_filter", True)
105 |             self._compute_type = config.get("compute_type", "float16")
106 |             
    | ^^^^^^^^^^^^ W293
107 |             # Determine device
108 |             device_config = config.get("device", "auto")
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:120:1: W293 [*] Blank line contains whitespace
    |
118 |             else:
119 |                 self._device = device_config
120 |             
    | ^^^^^^^^^^^^ W293
121 |             # Defer model loading to first use (lazy loading)
122 |             self._initialized = True
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:124:1: W293 [*] Blank line contains whitespace
    |
122 |             self._initialized = True
123 |             self._status = PluginStatus.READY
124 |             
    | ^^^^^^^^^^^^ W293
125 |             return True
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:126:1: W293 [*] Blank line contains whitespace
    |
125 |             return True
126 |             
    | ^^^^^^^^^^^^ W293
127 |         except Exception as e:
128 |             self._status = PluginStatus.ERROR
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:129:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
127 |         except Exception as e:
128 |             self._status = PluginStatus.ERROR
129 |             raise RuntimeError(f"Whisper STT initialization failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
130 |
131 |     async def shutdown(self) -> None:
    |

plugins\stt_whisper\plugin.py:140:1: W293 Blank line contains whitespace
    |
138 |         """
139 |         Check plugin health.
140 |         
    | ^^^^^^^^ W293
141 |         Returns:
142 |             HealthStatus with current state and diagnostics.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:153:1: W293 [*] Blank line contains whitespace
    |
151 |             "default_language": self._default_language,
152 |         }
153 |         
    | ^^^^^^^^ W293
154 |         return HealthStatus(
155 |             status=self._status,
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:163:1: W293 Blank line contains whitespace
    |
161 |         """
162 |         Lazy-load the Whisper model.
163 |         
    | ^^^^^^^^ W293
164 |         The model is created on first use to avoid blocking during
165 |         plugin initialization. Models are auto-downloaded from HuggingFace.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:169:1: W293 [*] Blank line contains whitespace
    |
167 |         if self._model is not None:
168 |             return
169 |         
    | ^^^^^^^^ W293
170 |         from faster_whisper import WhisperModel
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:171:1: W293 [*] Blank line contains whitespace
    |
170 |         from faster_whisper import WhisperModel
171 |         
    | ^^^^^^^^ W293
172 |         def load_model():
173 |             return WhisperModel(
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:178:1: W293 [*] Blank line contains whitespace
    |
176 |                 compute_type=self._compute_type
177 |             )
178 |         
    | ^^^^^^^^ W293
179 |         # Run in thread to avoid blocking async event loop
180 |         self._model = await asyncio.to_thread(load_model)
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:185:18: UP007 [*] Use `X | Y` for type annotations
    |
183 |         self,
184 |         audio_data: bytes,
185 |         options: Optional[TranscriptionOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
186 |     ) -> TranscriptionResult:
187 |         """
    |
    = help: Convert to `X | Y`

plugins\stt_whisper\plugin.py:189:1: W293 Blank line contains whitespace
    |
187 |         """
188 |         Transcribe audio data to text.
189 |         
    | ^^^^^^^^ W293
190 |         Args:
191 |             audio_data: Raw audio bytes (WAV, MP3, or raw PCM).
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:193:1: W293 Blank line contains whitespace
    |
191 |             audio_data: Raw audio bytes (WAV, MP3, or raw PCM).
192 |             options: Transcription options.
193 |         
    | ^^^^^^^^ W293
194 |         Returns:
195 |             TranscriptionResult containing text and segments.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:196:1: W293 Blank line contains whitespace
    |
194 |         Returns:
195 |             TranscriptionResult containing text and segments.
196 |         
    | ^^^^^^^^ W293
197 |         Raises:
198 |             ValueError: If audio data is invalid or empty.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:203:1: W293 [*] Blank line contains whitespace
    |
201 |         if not audio_data or len(audio_data) == 0:
202 |             raise ValueError("Audio data cannot be empty")
203 |         
    | ^^^^^^^^ W293
204 |         # Ensure model is loaded
205 |         await self._ensure_model()
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:206:1: W293 [*] Blank line contains whitespace
    |
204 |         # Ensure model is loaded
205 |         await self._ensure_model()
206 |         
    | ^^^^^^^^ W293
207 |         opts = options or TranscriptionOptions()
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:208:1: W293 [*] Blank line contains whitespace
    |
207 |         opts = options or TranscriptionOptions()
208 |         
    | ^^^^^^^^ W293
209 |         try:
210 |             # Write audio to temp file (faster-whisper accepts file paths)
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:214:1: W293 [*] Blank line contains whitespace
    |
212 |                 tmp.write(audio_data)
213 |                 tmp_path = tmp.name
214 |             
    | ^^^^^^^^^^^^ W293
215 |             try:
216 |                 def do_transcribe():
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:227:1: W293 [*] Blank line contains whitespace
    |
225 |                         initial_prompt=opts.initial_prompt,
226 |                     )
227 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
228 |                     # Collect all segments (generator)
229 |                     segment_list = list(segments)
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:231:1: W293 [*] Blank line contains whitespace
    |
229 |                     segment_list = list(segments)
230 |                     return segment_list, info
231 |                 
    | ^^^^^^^^^^^^^^^^ W293
232 |                 segments, info = await asyncio.to_thread(do_transcribe)
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:233:1: W293 [*] Blank line contains whitespace
    |
232 |                 segments, info = await asyncio.to_thread(do_transcribe)
233 |                 
    | ^^^^^^^^^^^^^^^^ W293
234 |             finally:
235 |                 # Clean up temp file
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:237:1: W293 [*] Blank line contains whitespace
    |
235 |                 # Clean up temp file
236 |                 os.unlink(tmp_path)
237 |             
    | ^^^^^^^^^^^^ W293
238 |             # Convert to our segment format
239 |             result_segments = []
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:241:1: W293 [*] Blank line contains whitespace
    |
239 |             result_segments = []
240 |             full_text_parts = []
241 |             
    | ^^^^^^^^^^^^ W293
242 |             for seg in segments:
243 |                 result_segments.append(TranscriptionSegment(
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:260:1: W293 [*] Blank line contains whitespace
    |
258 |                 ))
259 |                 full_text_parts.append(seg.text.strip())
260 |             
    | ^^^^^^^^^^^^ W293
261 |             full_text = " ".join(full_text_parts)
262 |             duration_ms = info.duration * 1000 if hasattr(info, 'duration') else 0
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:263:1: W293 [*] Blank line contains whitespace
    |
261 |             full_text = " ".join(full_text_parts)
262 |             duration_ms = info.duration * 1000 if hasattr(info, 'duration') else 0
263 |             
    | ^^^^^^^^^^^^ W293
264 |             return TranscriptionResult(
265 |                 text=full_text,
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:278:1: W293 [*] Blank line contains whitespace
    |
276 |                 }
277 |             )
278 |             
    | ^^^^^^^^^^^^ W293
279 |         except Exception as e:
280 |             raise RuntimeError(f"Whisper transcription failed: {e}")
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:280:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
279 |         except Exception as e:
280 |             raise RuntimeError(f"Whisper transcription failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
281 |
282 |     async def start_streaming(
    |

plugins\stt_whisper\plugin.py:285:19: UP007 [*] Use `X | Y` for type annotations
    |
283 |         self,
284 |         config: StreamingConfig,
285 |         callback: Optional[Callable[[TranscriptionSegment], None]] = None
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
286 |     ) -> bool:
287 |         """
    |
    = help: Convert to `X | Y`

plugins\stt_whisper\plugin.py:289:1: W293 Blank line contains whitespace
    |
287 |         """
288 |         Start streaming transcription session.
289 |         
    | ^^^^^^^^ W293
290 |         Note: faster-whisper does not natively support streaming.
291 |         This is a stub that raises NotImplementedError.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:299:49: UP007 [*] Use `X | Y` for type annotations
    |
297 |         )
298 |
299 |     async def feed_audio(self, chunk: bytes) -> Optional[TranscriptionSegment]:
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
300 |         """Feed audio chunk to streaming session (not supported)."""
301 |         raise NotImplementedError("Streaming is not supported by faster-whisper.")
    |
    = help: Convert to `X | Y`

plugins\stt_whisper\plugin.py:307:42: UP006 [*] Use `list` instead of `List` for type annotation
    |
305 |         raise NotImplementedError("Streaming is not supported by faster-whisper.")
306 |
307 |     def get_supported_languages(self) -> List[str]:
    |                                          ^^^^ UP006
308 |         """
309 |         Get list of supported language codes.
    |
    = help: Replace with `list`

plugins\stt_whisper\plugin.py:310:1: W293 Blank line contains whitespace
    |
308 |         """
309 |         Get list of supported language codes.
310 |         
    | ^^^^^^^^ W293
311 |         Returns:
312 |             List of ISO 639-1 language codes.
    |
    = help: Remove whitespace from blank line

plugins\stt_whisper\plugin.py:328:39: UP006 [*] Use `list` instead of `List` for type annotation
    |
326 |         return True
327 |
328 |     def get_available_models(self) -> List[Dict[str, Any]]:
    |                                       ^^^^ UP006
329 |         """
330 |         Get list of available Whisper models.
    |
    = help: Replace with `list`

plugins\stt_whisper\plugin.py:328:44: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
326 |         return True
327 |
328 |     def get_available_models(self) -> List[Dict[str, Any]]:
    |                                            ^^^^ UP006
329 |         """
330 |         Get list of available Whisper models.
    |
    = help: Replace with `dict`

plugins\stt_whisper\plugin.py:331:1: W293 Blank line contains whitespace
    |
329 |         """
330 |         Get list of available Whisper models.
331 |         
    | ^^^^^^^^ W293
332 |         Returns:
333 |             List of model info dictionaries.
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:14:1: I001 [*] Import block is un-sorted or un-formatted
   |
12 |   """
13 |
14 | / import asyncio
15 | | import sys
16 | | import os
   | |_________^ I001
17 |
18 |   # Add project root to path
   |
   = help: Organize imports

plugins\tests\test_kokoro_tts.py:25:1: W293 [*] Blank line contains whitespace
   |
23 | async def test_kokoro_tts():
24 |     """Test the Kokoro TTS plugin."""
25 |     
   | ^^^^ W293
26 |     print("=" * 60)
27 |     print(" KOKORO TTS PLUGIN TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:29:1: W293 [*] Blank line contains whitespace
   |
27 |     print(" KOKORO TTS PLUGIN TEST")
28 |     print("=" * 60)
29 |     
   | ^^^^ W293
30 |     # 1. Check dependencies
31 |     print("\n[1/5] Checking dependencies...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:41:1: W293 [*] Blank line contains whitespace
   |
39 |         print(f"   PyTorch not found: {e}")
40 |         return False
41 |     
   | ^^^^ W293
42 |     try:
43 |         import kokoro
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:43:16: F401 `kokoro` imported but unused; consider using `importlib.util.find_spec` to test for availability
   |
42 |     try:
43 |         import kokoro
   |                ^^^^^^ F401
44 |         print(f"   Kokoro: installed")
45 |     except ImportError as e:
   |
   = help: Remove unused import: `kokoro`

plugins\tests\test_kokoro_tts.py:44:15: F541 [*] f-string without any placeholders
   |
42 |     try:
43 |         import kokoro
44 |         print(f"   Kokoro: installed")
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^ F541
45 |     except ImportError as e:
46 |         print(f"   Kokoro not found: {e}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_kokoro_tts.py:49:1: W293 [*] Blank line contains whitespace
   |
47 |         print("     Run: pip install kokoro>=0.9.4 soundfile misaki[en]")
48 |         return False
49 |     
   | ^^^^ W293
50 |     try:
51 |         import soundfile as sf
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:51:29: F401 `soundfile` imported but unused; consider using `importlib.util.find_spec` to test for availability
   |
50 |     try:
51 |         import soundfile as sf
   |                             ^^ F401
52 |         print(f"   SoundFile: installed")
53 |     except ImportError as e:
   |
   = help: Remove unused import: `soundfile`

plugins\tests\test_kokoro_tts.py:52:15: F541 [*] f-string without any placeholders
   |
50 |     try:
51 |         import soundfile as sf
52 |         print(f"   SoundFile: installed")
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
53 |     except ImportError as e:
54 |         print(f"   SoundFile not found: {e}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_kokoro_tts.py:56:1: W293 [*] Blank line contains whitespace
   |
54 |         print(f"   SoundFile not found: {e}")
55 |         return False
56 |     
   | ^^^^ W293
57 |     # 2. Load plugin
58 |     print("\n[2/5] Loading Kokoro TTS plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:66:1: W293 [*] Blank line contains whitespace
   |
64 |         print(f"   Failed to load plugin: {e}")
65 |         return False
66 |     
   | ^^^^ W293
67 |     # 3. Initialize plugin
68 |     print("\n[3/5] Initializing plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:78:1: W293 [*] Blank line contains whitespace
   |
76 |         result = await plugin.initialize(config)
77 |         print(f"   Initialized: {result}")
78 |         
   | ^^^^^^^^ W293
79 |         health = await plugin.health_check()
80 |         print(f"   Device: {health.details.get('device', 'unknown')}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:85:1: W293 [*] Blank line contains whitespace
   |
83 |         print(f"   Initialization failed: {e}")
84 |         return False
85 |     
   | ^^^^ W293
86 |     # 4. List voices
87 |     print("\n[4/5] Listing voices...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:90:1: W293 [*] Blank line contains whitespace
   |
88 |     voices = plugin.get_voices()
89 |     print(f"   Found {len(voices)} voices")
90 |     
   | ^^^^ W293
91 |     # Show first few voices
92 |     for v in voices[:5]:
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:96:1: W293 [*] Blank line contains whitespace
   |
94 |     if len(voices) > 5:
95 |         print(f"     ... and {len(voices) - 5} more")
96 |     
   | ^^^^ W293
97 |     # 5. Synthesize speech
98 |     print("\n[5/5] Synthesizing speech...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:100:1: W293 [*] Blank line contains whitespace
    |
 98 |     print("\n[5/5] Synthesizing speech...")
 99 |     test_text = "Hello! This is a test of the Kokoro text-to-speech plugin."
100 |     
    | ^^^^ W293
101 |     try:
102 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:102:9: I001 [*] Import block is un-sorted or un-formatted
    |
101 |     try:
102 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
103 |         
104 |         options = SynthesisOptions(
    |
    = help: Organize imports

plugins\tests\test_kokoro_tts.py:103:1: W293 [*] Blank line contains whitespace
    |
101 |     try:
102 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
103 |         
    | ^^^^^^^^ W293
104 |         options = SynthesisOptions(
105 |             speed=1.0,
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |             format=AudioFormat.WAV
107 |         )
108 |         
    | ^^^^^^^^ W293
109 |         result = await plugin.synthesize(test_text, voice_id="af_heart", options=options)
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:110:1: W293 [*] Blank line contains whitespace
    |
109 |         result = await plugin.synthesize(test_text, voice_id="af_heart", options=options)
110 |         
    | ^^^^^^^^ W293
111 |         print(f"   Synthesis complete!")
112 |         print(f"     - Duration: {result.duration_ms:.0f}ms")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:111:15: F541 [*] f-string without any placeholders
    |
109 |         result = await plugin.synthesize(test_text, voice_id="af_heart", options=options)
110 |         
111 |         print(f"   Synthesis complete!")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
112 |         print(f"     - Duration: {result.duration_ms:.0f}ms")
113 |         print(f"     - Format: {result.format.value}")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_kokoro_tts.py:117:1: W293 [*] Blank line contains whitespace
    |
115 |         print(f"     - Audio size: {len(result.audio_data)} bytes")
116 |         print(f"     - Device used: {result.metadata.get('device', 'unknown')}")
117 |         
    | ^^^^^^^^ W293
118 |         # Save to file
119 |         output_path = os.path.join(os.path.dirname(__file__), "test_output_kokoro.wav")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:123:1: W293 [*] Blank line contains whitespace
    |
121 |             f.write(result.audio_data)
122 |         print(f"   Saved to: {output_path}")
123 |         
    | ^^^^^^^^ W293
124 |     except Exception as e:
125 |         print(f"   Synthesis failed: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:129:1: W293 [*] Blank line contains whitespace
    |
127 |         traceback.print_exc()
128 |         return False
129 |     
    | ^^^^ W293
130 |     # Cleanup
131 |     await plugin.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_kokoro_tts.py:132:1: W293 [*] Blank line contains whitespace
    |
130 |     # Cleanup
131 |     await plugin.shutdown()
132 |     
    | ^^^^ W293
133 |     print("\n" + "=" * 60)
134 |     print(" ALL TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:15:1: I001 [*] Import block is un-sorted or un-formatted
   |
13 |   """
14 |
15 | / import asyncio
16 | | import sys
17 | | import os
   | |_________^ I001
18 |
19 |   # Add project root to path
   |
   = help: Organize imports

plugins\tests\test_ollama_llm.py:26:1: W293 [*] Blank line contains whitespace
   |
24 | async def test_ollama_llm():
25 |     """Test the Ollama LLM plugin."""
26 |     
   | ^^^^ W293
27 |     print("=" * 60)
28 |     print("LLM OLLAMA PLUGIN TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:30:1: W293 [*] Blank line contains whitespace
   |
28 |     print("LLM OLLAMA PLUGIN TEST")
29 |     print("=" * 60)
30 |     
   | ^^^^ W293
31 |     # 1. Check Ollama availability
32 |     print("\n[1/5] Checking Ollama server...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:40:23: F541 [*] f-string without any placeholders
   |
38 |                 data = json.loads(response.read().decode())
39 |                 models = [m["name"] for m in data.get("models", [])]
40 |                 print(f"  OK Ollama is running")
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^ F541
41 |                 print(f"  OK Models installed: {len(models)}")
42 |                 for m in models[:5]:
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_ollama_llm.py:51:1: W293 [*] Blank line contains whitespace
   |
49 |         print("     Or install from: https://ollama.com/download")
50 |         return False
51 |     
   | ^^^^ W293
52 |     # 2. Load plugin
53 |     print("\n[2/5] Loading Ollama LLM plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:61:1: W293 [*] Blank line contains whitespace
   |
59 |         print(f"  ERROR Failed to load plugin: {e}")
60 |         return False
61 |     
   | ^^^^ W293
62 |     # 3. Initialize plugin
63 |     print("\n[3/5] Initializing plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:72:1: W293 [*] Blank line contains whitespace
   |
70 |         result = await plugin.initialize(config)
71 |         print(f"  OK Initialized: {result}")
72 |         
   | ^^^^^^^^ W293
73 |         health = await plugin.health_check()
74 |         print(f"  OK Current model: {health.details.get('current_model', 'none')}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:79:1: W293 [*] Blank line contains whitespace
   |
77 |         print(f"  ERROR Initialization failed: {e}")
78 |         return False
79 |     
   | ^^^^ W293
80 |     # 4. List models
81 |     print("\n[4/5] Listing models...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:86:1: W293 [*] Blank line contains whitespace
   |
84 |     for m in models[:3]:
85 |         print(f"     - {m.id}: ctx={m.context_length}, caps={m.capabilities}")
86 |     
   | ^^^^ W293
87 |     if not models:
88 |         print("  WARN No models found. Pull one with: ollama pull llama3.2")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:91:1: W293 [*] Blank line contains whitespace
   |
89 |         await plugin.shutdown()
90 |         return True  # Not a failure, just no models
91 |     
   | ^^^^ W293
92 |     # 5. Generate completion
93 |     print("\n[5/5] Testing completion...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:95:9: I001 [*] Import block is un-sorted or un-formatted
   |
93 |     print("\n[5/5] Testing completion...")
94 |     try:
95 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
96 |         
97 |         messages = [
   |
   = help: Organize imports

plugins\tests\test_ollama_llm.py:96:1: W293 [*] Blank line contains whitespace
   |
94 |     try:
95 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
96 |         
   | ^^^^^^^^ W293
97 |         messages = [
98 |             Message(role=MessageRole.USER, content="What is 2+2? Reply with just the number.")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:100:1: W293 [*] Blank line contains whitespace
    |
 98 |             Message(role=MessageRole.USER, content="What is 2+2? Reply with just the number.")
 99 |         ]
100 |         
    | ^^^^^^^^ W293
101 |         options = CompletionOptions(
102 |             temperature=0.0,
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:105:1: W293 [*] Blank line contains whitespace
    |
103 |             max_tokens=50
104 |         )
105 |         
    | ^^^^^^^^ W293
106 |         print("  Generating response (this may take a moment)...")
107 |         result = await plugin.complete(messages, options)
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |         print("  Generating response (this may take a moment)...")
107 |         result = await plugin.complete(messages, options)
108 |         
    | ^^^^^^^^ W293
109 |         print(f"  OK Completion received!")
110 |         print(f"     - Response: \"{result.content.strip()[:100]}\"")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:109:15: F541 [*] f-string without any placeholders
    |
107 |         result = await plugin.complete(messages, options)
108 |         
109 |         print(f"  OK Completion received!")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
110 |         print(f"     - Response: \"{result.content.strip()[:100]}\"")
111 |         print(f"     - Model: {result.model}")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_ollama_llm.py:113:1: W293 [*] Blank line contains whitespace
    |
111 |         print(f"     - Model: {result.model}")
112 |         print(f"     - Tokens: {result.usage.total_tokens}")
113 |         
    | ^^^^^^^^ W293
114 |     except Exception as e:
115 |         print(f"  ERROR Completion failed: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |         traceback.print_exc()
118 |         return False
119 |     
    | ^^^^ W293
120 |     # Cleanup
121 |     await plugin.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:122:1: W293 [*] Blank line contains whitespace
    |
120 |     # Cleanup
121 |     await plugin.shutdown()
122 |     
    | ^^^^ W293
123 |     print("\n" + "=" * 60)
124 |     print("ALL TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:131:1: W293 [*] Blank line contains whitespace
    |
129 | async def test_llm_service():
130 |     """Test the high-level LLM service facade."""
131 |     
    | ^^^^ W293
132 |     print("\n" + "=" * 60)
133 |     print("LLM SERVICE FACADE TEST")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:135:1: W293 [*] Blank line contains whitespace
    |
133 |     print("LLM SERVICE FACADE TEST")
134 |     print("=" * 60)
135 |     
    | ^^^^ W293
136 |     try:
137 |         from services.llm import LLMService
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:138:1: W293 [*] Blank line contains whitespace
    |
136 |     try:
137 |         from services.llm import LLMService
138 |         
    | ^^^^^^^^ W293
139 |         print("\n[1/3] Creating LLM service...")
140 |         async with LLMService(temperature=0.0) as llm:
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:141:19: F541 [*] f-string without any placeholders
    |
139 |         print("\n[1/3] Creating LLM service...")
140 |         async with LLMService(temperature=0.0) as llm:
141 |             print(f"  OK Service initialized")
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
142 |             print(f"  OK Current model: {llm.current_model}")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_ollama_llm.py:143:1: W293 [*] Blank line contains whitespace
    |
141 |             print(f"  OK Service initialized")
142 |             print(f"  OK Current model: {llm.current_model}")
143 |             
    | ^^^^^^^^^^^^ W293
144 |             models = llm.get_models()
145 |             if not models:
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:148:1: W293 [*] Blank line contains whitespace
    |
146 |                 print("  WARN No models available")
147 |                 return True
148 |             
    | ^^^^^^^^^^^^ W293
149 |             print("\n[2/3] Testing ask()...")
150 |             response = await llm.ask("What is the capital of France? One word only.")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:152:1: W293 [*] Blank line contains whitespace
    |
150 |             response = await llm.ask("What is the capital of France? One word only.")
151 |             print(f"  OK Response: \"{response.strip()[:50]}\"")
152 |             
    | ^^^^^^^^^^^^ W293
153 |             print("\n[3/3] Testing chat()...")
154 |             llm.set_system("You are a helpful assistant. Be concise.")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:157:1: W293 [*] Blank line contains whitespace
    |
155 |             response = await llm.chat("Hello!")
156 |             print(f"  OK Response: \"{response.strip()[:50]}\"")
157 |             
    | ^^^^^^^^^^^^ W293
158 |             response = await llm.chat("What's 5+5?")
159 |             print(f"  OK Follow-up: \"{response.strip()[:50]}\"")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:160:1: W293 [*] Blank line contains whitespace
    |
158 |             response = await llm.chat("What's 5+5?")
159 |             print(f"  OK Follow-up: \"{response.strip()[:50]}\"")
160 |         
    | ^^^^^^^^ W293
161 |         print("\n" + "=" * 60)
162 |         print("LLM SERVICE TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:165:1: W293 [*] Blank line contains whitespace
    |
163 |         print("=" * 60)
164 |         return True
165 |         
    | ^^^^^^^^ W293
166 |     except Exception as e:
167 |         print(f"\nERROR: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_ollama_llm.py:176:1: W293 [*] Blank line contains whitespace
    |
174 |     # Run plugin test
175 |     success1 = asyncio.run(test_ollama_llm())
176 |     
    | ^^^^ W293
177 |     # Run service test if plugin test passed
178 |     if success1:
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:18:1: I001 [*] Import block is un-sorted or un-formatted
   |
16 |   """
17 |
18 | / import asyncio
19 | | import sys
20 | | import os
21 | | import time
   | |___________^ I001
22 |
23 |   # Add project root to path
   |
   = help: Organize imports

plugins\tests\test_roundtrip.py:30:1: W293 [*] Blank line contains whitespace
   |
28 | async def test_roundtrip():
29 |     """Test TTS + STT round-trip pipeline."""
30 |     
   | ^^^^ W293
31 |     print("=" * 70)
32 |     print(" TTS + STT ROUND-TRIP PIPELINE TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:34:1: W293 [*] Blank line contains whitespace
   |
32 |     print(" TTS + STT ROUND-TRIP PIPELINE TEST")
33 |     print("=" * 70)
34 |     
   | ^^^^ W293
35 |     tts_plugin = None
36 |     stt_plugin = None
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:37:1: W293 [*] Blank line contains whitespace
   |
35 |     tts_plugin = None
36 |     stt_plugin = None
37 |     
   | ^^^^ W293
38 |     try:
39 |         # =====================================================================
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:45:1: W293 [*] Blank line contains whitespace
   |
43 |         print(" PART 1: KOKORO TTS PLUGIN")
44 |         print("-" * 70)
45 |         
   | ^^^^^^^^ W293
46 |         from plugins.tts_kokoro.plugin import KokoroTTSPlugin
47 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:46:9: I001 [*] Import block is un-sorted or un-formatted
   |
44 |           print("-" * 70)
45 |           
46 | /         from plugins.tts_kokoro.plugin import KokoroTTSPlugin
47 | |         from contracts.tts_contract import SynthesisOptions, AudioFormat
   | |________________________________________________________________________^ I001
48 |           
49 |           tts_plugin = KokoroTTSPlugin()
   |
   = help: Organize imports

plugins\tests\test_roundtrip.py:48:1: W293 [*] Blank line contains whitespace
   |
46 |         from plugins.tts_kokoro.plugin import KokoroTTSPlugin
47 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
48 |         
   | ^^^^^^^^ W293
49 |         tts_plugin = KokoroTTSPlugin()
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:50:1: W293 [*] Blank line contains whitespace
   |
49 |         tts_plugin = KokoroTTSPlugin()
50 |         
   | ^^^^^^^^ W293
51 |         tts_config = {
52 |             "default_voice": "af_heart",
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:57:1: W293 [*] Blank line contains whitespace
   |
55 |             "speed": 1.0
56 |         }
57 |         
   | ^^^^^^^^ W293
58 |         await tts_plugin.initialize(tts_config)
59 |         tts_health = await tts_plugin.health_check()
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:62:1: W293 [*] Blank line contains whitespace
   |
60 |         print(f"   TTS initialized on: {tts_health.details.get('device', 'unknown')}")
61 |         print(f"   TTS voices available: {tts_health.details.get('voices_count', 0)}")
62 |         
   | ^^^^^^^^ W293
63 |         # =====================================================================
64 |         # PART 2: INITIALIZE STT PLUGIN
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:69:1: W293 [*] Blank line contains whitespace
   |
67 |         print(" PART 2: WHISPER STT PLUGIN")
68 |         print("-" * 70)
69 |         
   | ^^^^^^^^ W293
70 |         from plugins.stt_whisper.plugin import WhisperSTTPlugin
71 |         from contracts.stt_contract import TranscriptionOptions
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:70:9: I001 [*] Import block is un-sorted or un-formatted
   |
68 |           print("-" * 70)
69 |           
70 | /         from plugins.stt_whisper.plugin import WhisperSTTPlugin
71 | |         from contracts.stt_contract import TranscriptionOptions
   | |_______________________________________________________________^ I001
72 |           
73 |           stt_plugin = WhisperSTTPlugin()
   |
   = help: Organize imports

plugins\tests\test_roundtrip.py:72:1: W293 [*] Blank line contains whitespace
   |
70 |         from plugins.stt_whisper.plugin import WhisperSTTPlugin
71 |         from contracts.stt_contract import TranscriptionOptions
72 |         
   | ^^^^^^^^ W293
73 |         stt_plugin = WhisperSTTPlugin()
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:74:1: W293 [*] Blank line contains whitespace
   |
73 |         stt_plugin = WhisperSTTPlugin()
74 |         
   | ^^^^^^^^ W293
75 |         stt_config = {
76 |             "model_size": "small",  # Use 'small' for balance of speed/quality
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:83:1: W293 [*] Blank line contains whitespace
   |
81 |             "vad_filter": True
82 |         }
83 |         
   | ^^^^^^^^ W293
84 |         await stt_plugin.initialize(stt_config)
85 |         stt_health = await stt_plugin.health_check()
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:88:1: W293 [*] Blank line contains whitespace
   |
86 |         print(f"   STT initialized on: {stt_health.details.get('device', 'unknown')}")
87 |         print(f"   STT model: {stt_health.details.get('model_size', 'unknown')}")
88 |         
   | ^^^^^^^^ W293
89 |         # =====================================================================
90 |         # PART 3: ROUND-TRIP TEST
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:95:1: W293 [*] Blank line contains whitespace
   |
93 |         print(" PART 3: ROUND-TRIP TEST")
94 |         print("-" * 70)
95 |         
   | ^^^^^^^^ W293
96 |         original_text = "The quick brown fox jumps over the lazy dog."
97 |         print(f"\n   Original text: \"{original_text}\"")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:98:1: W293 [*] Blank line contains whitespace
    |
 96 |         original_text = "The quick brown fox jumps over the lazy dog."
 97 |         print(f"\n   Original text: \"{original_text}\"")
 98 |         
    | ^^^^^^^^ W293
 99 |         # Step 1: TTS - Convert text to speech
100 |         print("\n  [TTS] Synthesizing speech...")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:102:1: W293 [*] Blank line contains whitespace
    |
100 |         print("\n  [TTS] Synthesizing speech...")
101 |         start_time = time.perf_counter()
102 |         
    | ^^^^^^^^ W293
103 |         tts_options = SynthesisOptions(speed=1.0, format=AudioFormat.WAV)
104 |         tts_result = await tts_plugin.synthesize(
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:105:27: W291 [*] Trailing whitespace
    |
103 |         tts_options = SynthesisOptions(speed=1.0, format=AudioFormat.WAV)
104 |         tts_result = await tts_plugin.synthesize(
105 |             original_text, 
    |                           ^ W291
106 |             voice_id="af_heart", 
107 |             options=tts_options
    |
    = help: Remove trailing whitespace

plugins\tests\test_roundtrip.py:106:33: W291 [*] Trailing whitespace
    |
104 |         tts_result = await tts_plugin.synthesize(
105 |             original_text, 
106 |             voice_id="af_heart", 
    |                                 ^ W291
107 |             options=tts_options
108 |         )
    |
    = help: Remove trailing whitespace

plugins\tests\test_roundtrip.py:109:1: W293 [*] Blank line contains whitespace
    |
107 |             options=tts_options
108 |         )
109 |         
    | ^^^^^^^^ W293
110 |         tts_time = (time.perf_counter() - start_time) * 1000
111 |         print(f"         TTS time: {tts_time:.0f}ms")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:114:1: W293 [*] Blank line contains whitespace
    |
112 |         print(f"        Audio duration: {tts_result.duration_ms:.0f}ms")
113 |         print(f"        Audio size: {len(tts_result.audio_data)} bytes")
114 |         
    | ^^^^^^^^ W293
115 |         # Save audio for inspection
116 |         output_dir = os.path.dirname(__file__)
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:121:1: W293 [*] Blank line contains whitespace
    |
119 |             f.write(tts_result.audio_data)
120 |         print(f"        Saved: {audio_path}")
121 |         
    | ^^^^^^^^ W293
122 |         # Step 2: STT - Convert speech back to text
123 |         print("\n  [STT] Transcribing speech...")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:125:1: W293 [*] Blank line contains whitespace
    |
123 |         print("\n  [STT] Transcribing speech...")
124 |         start_time = time.perf_counter()
125 |         
    | ^^^^^^^^ W293
126 |         stt_options = TranscriptionOptions(
127 |             language="en",
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:132:1: W293 [*] Blank line contains whitespace
    |
130 |         )
131 |         stt_result = await stt_plugin.transcribe(tts_result.audio_data, stt_options)
132 |         
    | ^^^^^^^^ W293
133 |         stt_time = (time.perf_counter() - start_time) * 1000
134 |         print(f"         STT time: {stt_time:.0f}ms")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:137:1: W293 [*] Blank line contains whitespace
    |
135 |         print(f"        Transcribed: \"{stt_result.text}\"")
136 |         print(f"        Detected language: {stt_result.language}")
137 |         
    | ^^^^^^^^ W293
138 |         # Step 3: Compare original vs transcribed
139 |         print("\n  [COMPARE] Analyzing accuracy...")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:140:1: W293 [*] Blank line contains whitespace
    |
138 |         # Step 3: Compare original vs transcribed
139 |         print("\n  [COMPARE] Analyzing accuracy...")
140 |         
    | ^^^^^^^^ W293
141 |         # Simple word overlap metric
142 |         original_words = set(original_text.lower().replace(".", "").split())
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:144:1: W293 [*] Blank line contains whitespace
    |
142 |         original_words = set(original_text.lower().replace(".", "").split())
143 |         transcribed_words = set(stt_result.text.lower().replace(".", "").split())
144 |         
    | ^^^^^^^^ W293
145 |         common_words = original_words & transcribed_words
146 |         accuracy = len(common_words) / len(original_words) * 100 if original_words else 0
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:147:1: W293 [*] Blank line contains whitespace
    |
145 |         common_words = original_words & transcribed_words
146 |         accuracy = len(common_words) / len(original_words) * 100 if original_words else 0
147 |         
    | ^^^^^^^^ W293
148 |         print(f"        Word overlap: {len(common_words)}/{len(original_words)}")
149 |         print(f"        Accuracy: {accuracy:.1f}%")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:150:1: W293 [*] Blank line contains whitespace
    |
148 |         print(f"        Word overlap: {len(common_words)}/{len(original_words)}")
149 |         print(f"        Accuracy: {accuracy:.1f}%")
150 |         
    | ^^^^^^^^ W293
151 |         if accuracy >= 80:
152 |             print(f"        PASS: Good accuracy!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:152:19: F541 [*] f-string without any placeholders
    |
151 |         if accuracy >= 80:
152 |             print(f"        PASS: Good accuracy!")
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
153 |         elif accuracy >= 50:
154 |             print(f"         WARN: Moderate accuracy")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:154:19: F541 [*] f-string without any placeholders
    |
152 |             print(f"        PASS: Good accuracy!")
153 |         elif accuracy >= 50:
154 |             print(f"         WARN: Moderate accuracy")
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
155 |         else:
156 |             print(f"        FAIL: Low accuracy")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:156:19: F541 [*] f-string without any placeholders
    |
154 |             print(f"         WARN: Moderate accuracy")
155 |         else:
156 |             print(f"        FAIL: Low accuracy")
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
157 |         
158 |         # =====================================================================
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:157:1: W293 [*] Blank line contains whitespace
    |
155 |         else:
156 |             print(f"        FAIL: Low accuracy")
157 |         
    | ^^^^^^^^ W293
158 |         # =====================================================================
159 |         # PART 4: HOT-SWAP DEMONSTRATION
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:164:1: W293 [*] Blank line contains whitespace
    |
162 |         print(" PART 4: HOT-SWAP DEMONSTRATION")
163 |         print("-" * 70)
164 |         
    | ^^^^^^^^ W293
165 |         # Demonstrate that plugins can be shut down and restarted independently
166 |         print("\n  [TTS] Shutting down TTS plugin...")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:169:1: W293 [*] Blank line contains whitespace
    |
167 |         await tts_plugin.shutdown()
168 |         print("        TTS shutdown complete")
169 |         
    | ^^^^^^^^ W293
170 |         print("\n  [STT] STT plugin still active, transcribing again...")
171 |         # Re-read the saved audio
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:174:1: W293 [*] Blank line contains whitespace
    |
172 |         with open(audio_path, "rb") as f:
173 |             audio_data = f.read()
174 |         
    | ^^^^^^^^ W293
175 |         stt_result2 = await stt_plugin.transcribe(audio_data, stt_options)
176 |         print(f"        Transcribed: \"{stt_result2.text}\"")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:177:1: W293 [*] Blank line contains whitespace
    |
175 |         stt_result2 = await stt_plugin.transcribe(audio_data, stt_options)
176 |         print(f"        Transcribed: \"{stt_result2.text}\"")
177 |         
    | ^^^^^^^^ W293
178 |         print("\n  [TTS] Re-initializing TTS plugin...")
179 |         tts_plugin = KokoroTTSPlugin()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:182:1: W293 [*] Blank line contains whitespace
    |
180 |         await tts_plugin.initialize(tts_config)
181 |         print("        TTS re-initialized (hot-swap complete)")
182 |         
    | ^^^^^^^^ W293
183 |         # Final cleanup
184 |         await tts_plugin.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:186:1: W293 [*] Blank line contains whitespace
    |
184 |         await tts_plugin.shutdown()
185 |         await stt_plugin.shutdown()
186 |         
    | ^^^^^^^^ W293
187 |         print("\n" + "=" * 70)
188 |         print(" ALL ROUND-TRIP TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:190:1: W293 [*] Blank line contains whitespace
    |
188 |         print(" ALL ROUND-TRIP TESTS PASSED!")
189 |         print("=" * 70)
190 |         
    | ^^^^^^^^ W293
191 |         print("\n SUMMARY:")
192 |         print(f"    TTS Plugin: Kokoro TTS (kokoro>=0.9.4)")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:192:15: F541 [*] f-string without any placeholders
    |
191 |         print("\n SUMMARY:")
192 |         print(f"    TTS Plugin: Kokoro TTS (kokoro>=0.9.4)")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
193 |         print(f"    STT Plugin: Faster Whisper (faster-whisper>=1.0.0)")
194 |         print(f"    Both work independently (hot-swappable)")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:193:15: F541 [*] f-string without any placeholders
    |
191 |         print("\n SUMMARY:")
192 |         print(f"    TTS Plugin: Kokoro TTS (kokoro>=0.9.4)")
193 |         print(f"    STT Plugin: Faster Whisper (faster-whisper>=1.0.0)")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
194 |         print(f"    Both work independently (hot-swappable)")
195 |         print(f"    Round-trip accuracy: {accuracy:.1f}%")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:194:15: F541 [*] f-string without any placeholders
    |
192 |         print(f"    TTS Plugin: Kokoro TTS (kokoro>=0.9.4)")
193 |         print(f"    STT Plugin: Faster Whisper (faster-whisper>=1.0.0)")
194 |         print(f"    Both work independently (hot-swappable)")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
195 |         print(f"    Round-trip accuracy: {accuracy:.1f}%")
196 |         print(f"    Total pipeline time: {tts_time + stt_time:.0f}ms")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_roundtrip.py:197:1: W293 [*] Blank line contains whitespace
    |
195 |         print(f"    Round-trip accuracy: {accuracy:.1f}%")
196 |         print(f"    Total pipeline time: {tts_time + stt_time:.0f}ms")
197 |         
    | ^^^^^^^^ W293
198 |         return True
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:199:1: W293 [*] Blank line contains whitespace
    |
198 |         return True
199 |         
    | ^^^^^^^^ W293
200 |     except Exception as e:
201 |         print(f"\n ERROR: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:204:1: W293 [*] Blank line contains whitespace
    |
202 |         import traceback
203 |         traceback.print_exc()
204 |         
    | ^^^^^^^^ W293
205 |         # Cleanup on error
206 |         if tts_plugin:
    |
    = help: Remove whitespace from blank line

plugins\tests\test_roundtrip.py:209:13: E722 Do not use bare `except`
    |
207 |             try:
208 |                 await tts_plugin.shutdown()
209 |             except:
    |             ^^^^^^ E722
210 |                 pass
211 |         if stt_plugin:
    |

plugins\tests\test_roundtrip.py:214:13: E722 Do not use bare `except`
    |
212 |             try:
213 |                 await stt_plugin.shutdown()
214 |             except:
    |             ^^^^^^ E722
215 |                 pass
    |

plugins\tests\test_roundtrip.py:216:1: W293 [*] Blank line contains whitespace
    |
214 |             except:
215 |                 pass
216 |         
    | ^^^^^^^^ W293
217 |         return False
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:10:1: I001 [*] Import block is un-sorted or un-formatted
   |
 8 |   """
 9 |
10 | / import asyncio
11 | | import sys
12 | | import os
   | |_________^ I001
13 |
14 |   # Add project root to path
   |
   = help: Organize imports

plugins\tests\test_services.py:21:1: W293 [*] Blank line contains whitespace
   |
19 | async def test_voice_service():
20 |     """Test the VoiceService facade."""
21 |     
   | ^^^^ W293
22 |     print("=" * 60)
23 |     print("VOICE SERVICE FACADE TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:25:1: W293 [*] Blank line contains whitespace
   |
23 |     print("VOICE SERVICE FACADE TEST")
24 |     print("=" * 60)
25 |     
   | ^^^^ W293
26 |     try:
27 |         from services.voice import VoiceService
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:28:1: W293 [*] Blank line contains whitespace
   |
26 |     try:
27 |         from services.voice import VoiceService
28 |         
   | ^^^^^^^^ W293
29 |         print("\n[1/4] Creating voice service...")
30 |         async with VoiceService(
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:34:1: W293 [*] Blank line contains whitespace
   |
32 |             stt_model="tiny"  # Use tiny for fast testing
33 |         ) as voice:
34 |             
   | ^^^^^^^^^^^^ W293
35 |             print(f"  OK Service initialized")
36 |             print(f"  OK TTS device: {voice.tts_device}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:35:19: F541 [*] f-string without any placeholders
   |
33 |         ) as voice:
34 |             
35 |             print(f"  OK Service initialized")
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
36 |             print(f"  OK TTS device: {voice.tts_device}")
37 |             print(f"  OK STT device: {voice.stt_device}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_services.py:38:1: W293 [*] Blank line contains whitespace
   |
36 |             print(f"  OK TTS device: {voice.tts_device}")
37 |             print(f"  OK STT device: {voice.stt_device}")
38 |             
   | ^^^^^^^^^^^^ W293
39 |             print("\n[2/4] Testing speak()...")
40 |             audio = await voice.speak("Hello, this is a test.")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:42:1: W293 [*] Blank line contains whitespace
   |
40 |             audio = await voice.speak("Hello, this is a test.")
41 |             print(f"  OK Generated audio: {len(audio)} bytes")
42 |             
   | ^^^^^^^^^^^^ W293
43 |             print("\n[3/4] Testing listen()...")
44 |             text = await voice.listen(audio)
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:46:1: W293 [*] Blank line contains whitespace
   |
44 |             text = await voice.listen(audio)
45 |             print(f"  OK Transcribed: \"{text}\"")
46 |             
   | ^^^^^^^^^^^^ W293
47 |             print("\n[4/4] Testing voices list...")
48 |             voices = voice.get_voices()
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:52:1: W293 [*] Blank line contains whitespace
   |
50 |             for v in voices[:3]:
51 |                 print(f"     - {v['id']}: {v['name']}")
52 |         
   | ^^^^^^^^ W293
53 |         print("\n" + "=" * 60)
54 |         print("VOICE SERVICE TESTS PASSED!")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:57:1: W293 [*] Blank line contains whitespace
   |
55 |         print("=" * 60)
56 |         return True
57 |         
   | ^^^^^^^^ W293
58 |     except Exception as e:
59 |         print(f"\nERROR: {e}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:67:1: W293 [*] Blank line contains whitespace
   |
65 | async def test_llm_service():
66 |     """Test the LLMService facade."""
67 |     
   | ^^^^ W293
68 |     print("\n" + "=" * 60)
69 |     print("LLM SERVICE FACADE TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:71:1: W293 [*] Blank line contains whitespace
   |
69 |     print("LLM SERVICE FACADE TEST")
70 |     print("=" * 60)
71 |     
   | ^^^^ W293
72 |     # Check if Ollama is running
73 |     import urllib.request
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:80:1: W293 [*] Blank line contains whitespace
   |
78 |         print("\n  SKIP Ollama not running, skipping LLM test")
79 |         return True
80 |     
   | ^^^^ W293
81 |     try:
82 |         from services.llm import LLMService
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:83:1: W293 [*] Blank line contains whitespace
   |
81 |     try:
82 |         from services.llm import LLMService
83 |         
   | ^^^^^^^^ W293
84 |         print("\n[1/3] Creating LLM service...")
85 |         async with LLMService(temperature=0.0) as llm:
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:86:1: W293 [*] Blank line contains whitespace
   |
84 |         print("\n[1/3] Creating LLM service...")
85 |         async with LLMService(temperature=0.0) as llm:
86 |             
   | ^^^^^^^^^^^^ W293
87 |             models = llm.get_models()
88 |             if not models:
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:91:1: W293 [*] Blank line contains whitespace
   |
89 |                 print("  SKIP No models available")
90 |                 return True
91 |             
   | ^^^^^^^^^^^^ W293
92 |             print(f"  OK Service initialized")
93 |             print(f"  OK Model: {llm.current_model}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:92:19: F541 [*] f-string without any placeholders
   |
90 |                 return True
91 |             
92 |             print(f"  OK Service initialized")
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
93 |             print(f"  OK Model: {llm.current_model}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_services.py:94:1: W293 [*] Blank line contains whitespace
   |
92 |             print(f"  OK Service initialized")
93 |             print(f"  OK Model: {llm.current_model}")
94 |             
   | ^^^^^^^^^^^^ W293
95 |             print("\n[2/3] Testing ask()...")
96 |             response = await llm.ask("What is 2+2? Answer with just the number.")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_services.py:98:1: W293 [*] Blank line contains whitespace
    |
 96 |             response = await llm.ask("What is 2+2? Answer with just the number.")
 97 |             print(f"  OK Response: \"{response.strip()[:50]}\"")
 98 |             
    | ^^^^^^^^^^^^ W293
 99 |             print("\n[3/3] Testing chat with history...")
100 |             llm.set_system("You are a math tutor. Be very concise.")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:105:1: W293 [*] Blank line contains whitespace
    |
103 |             print(f"  OK Response: \"{response.strip()[:50]}\"")
104 |             print(f"  OK History length: {len(llm.get_history())}")
105 |         
    | ^^^^^^^^ W293
106 |         print("\n" + "=" * 60)
107 |         print("LLM SERVICE TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:110:1: W293 [*] Blank line contains whitespace
    |
108 |         print("=" * 60)
109 |         return True
110 |         
    | ^^^^^^^^ W293
111 |     except Exception as e:
112 |         print(f"\nERROR: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:120:1: W293 [*] Blank line contains whitespace
    |
118 | async def main():
119 |     """Run all service tests."""
120 |     
    | ^^^^ W293
121 |     print("\n")
122 |     print("*" * 60)
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:134:1: W293 [*] Blank line contains whitespace
    |
132 |     print("    response = await llm.chat('Hello!')")
133 |     print("")
134 |     
    | ^^^^ W293
135 |     voice_ok = await test_voice_service()
136 |     llm_ok = await test_llm_service()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:137:1: W293 [*] Blank line contains whitespace
    |
135 |     voice_ok = await test_voice_service()
136 |     llm_ok = await test_llm_service()
137 |     
    | ^^^^ W293
138 |     print("\n" + "*" * 60)
139 |     print("* SUMMARY")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_services.py:144:1: W293 [*] Blank line contains whitespace
    |
142 |     print(f"  LLMService:   {'PASS' if llm_ok else 'FAIL'}")
143 |     print("*" * 60)
144 |     
    | ^^^^ W293
145 |     return voice_ok and llm_ok
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:13:1: I001 [*] Import block is un-sorted or un-formatted
   |
11 |   """
12 |
13 | / import asyncio
14 | | import sys
15 | | import os
   | |_________^ I001
16 |
17 |   # Add project root to path
   |
   = help: Organize imports

plugins\tests\test_whisper_stt.py:24:1: W293 [*] Blank line contains whitespace
   |
22 | async def test_whisper_stt(audio_file: str = None):
23 |     """Test the Whisper STT plugin."""
24 |     
   | ^^^^ W293
25 |     print("=" * 60)
26 |     print(" WHISPER STT PLUGIN TEST")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:28:1: W293 [*] Blank line contains whitespace
   |
26 |     print(" WHISPER STT PLUGIN TEST")
27 |     print("=" * 60)
28 |     
   | ^^^^ W293
29 |     # 1. Check dependencies
30 |     print("\n[1/5] Checking dependencies...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:33:15: F541 [*] f-string without any placeholders
   |
31 |     try:
32 |         import ctranslate2
33 |         print(f"   CTranslate2: installed")
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
34 |         # Check CUDA availability
35 |         try:
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_whisper_stt.py:44:1: W293 [*] Blank line contains whitespace
   |
42 |     except ImportError as e:
43 |         print(f"    CTranslate2 not found: {e}")
44 |     
   | ^^^^ W293
45 |     try:
46 |         import faster_whisper
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:46:16: F401 `faster_whisper` imported but unused; consider using `importlib.util.find_spec` to test for availability
   |
45 |     try:
46 |         import faster_whisper
   |                ^^^^^^^^^^^^^^ F401
47 |         print(f"   faster-whisper: installed")
48 |     except ImportError as e:
   |
   = help: Remove unused import: `faster_whisper`

plugins\tests\test_whisper_stt.py:47:15: F541 [*] f-string without any placeholders
   |
45 |     try:
46 |         import faster_whisper
47 |         print(f"   faster-whisper: installed")
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
48 |     except ImportError as e:
49 |         print(f"   faster-whisper not found: {e}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_whisper_stt.py:52:1: W293 [*] Blank line contains whitespace
   |
50 |         print("     Run: pip install faster-whisper>=1.0.0")
51 |         return False
52 |     
   | ^^^^ W293
53 |     try:
54 |         import soundfile as sf
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:54:29: F401 `soundfile` imported but unused; consider using `importlib.util.find_spec` to test for availability
   |
53 |     try:
54 |         import soundfile as sf
   |                             ^^ F401
55 |         print(f"   SoundFile: installed")
56 |     except ImportError as e:
   |
   = help: Remove unused import: `soundfile`

plugins\tests\test_whisper_stt.py:55:15: F541 [*] f-string without any placeholders
   |
53 |     try:
54 |         import soundfile as sf
55 |         print(f"   SoundFile: installed")
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
56 |     except ImportError as e:
57 |         print(f"   SoundFile not found: {e}")
   |
   = help: Remove extraneous `f` prefix

plugins\tests\test_whisper_stt.py:59:1: W293 [*] Blank line contains whitespace
   |
57 |         print(f"   SoundFile not found: {e}")
58 |         return False
59 |     
   | ^^^^ W293
60 |     # 2. Load plugin
61 |     print("\n[2/5] Loading Whisper STT plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:69:1: W293 [*] Blank line contains whitespace
   |
67 |         print(f"   Failed to load plugin: {e}")
68 |         return False
69 |     
   | ^^^^ W293
70 |     # 3. Initialize plugin with smaller model for testing
71 |     print("\n[3/5] Initializing plugin...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:83:1: W293 [*] Blank line contains whitespace
   |
81 |         result = await plugin.initialize(config)
82 |         print(f"   Initialized: {result}")
83 |         
   | ^^^^^^^^ W293
84 |         health = await plugin.health_check()
85 |         print(f"   Device: {health.details.get('device', 'unknown')}")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:91:1: W293 [*] Blank line contains whitespace
   |
89 |         print(f"   Initialization failed: {e}")
90 |         return False
91 |     
   | ^^^^ W293
92 |     # 4. Check supported languages
93 |     print("\n[4/5] Checking capabilities...")
   |
   = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:98:1: W293 [*] Blank line contains whitespace
    |
 96 |     print(f"   Translation support: {plugin.supports_translation()}")
 97 |     print(f"   Streaming support: {plugin.supports_streaming()}")
 98 |     
    | ^^^^ W293
 99 |     models = plugin.get_available_models()
100 |     print(f"   Available models: {len(models)}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:103:1: W293 [*] Blank line contains whitespace
    |
101 |     for m in models[:3]:
102 |         print(f"     - {m['id']}: {m['params']} params, {m['vram_gb']}GB VRAM")
103 |     
    | ^^^^ W293
104 |     # 5. Transcribe audio (if file provided or TTS output exists)
105 |     print("\n[5/5] Testing transcription...")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:106:1: W293 [*] Blank line contains whitespace
    |
104 |     # 5. Transcribe audio (if file provided or TTS output exists)
105 |     print("\n[5/5] Testing transcription...")
106 |     
    | ^^^^ W293
107 |     # Check for audio file
108 |     test_audio = None
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:109:1: W293 [*] Blank line contains whitespace
    |
107 |     # Check for audio file
108 |     test_audio = None
109 |     
    | ^^^^ W293
110 |     if audio_file and os.path.exists(audio_file):
111 |         test_audio = audio_file
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:119:1: W293 [*] Blank line contains whitespace
    |
117 |             test_audio = kokoro_output
118 |             print(f"   Using Kokoro TTS output: {test_audio}")
119 |     
    | ^^^^ W293
120 |     if test_audio:
121 |         try:
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:126:1: W293 [*] Blank line contains whitespace
    |
124 |                 audio_data = f.read()
125 |             print(f"   Audio size: {len(audio_data)} bytes")
126 |             
    | ^^^^^^^^^^^^ W293
127 |             from contracts.stt_contract import TranscriptionOptions
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:128:1: W293 [*] Blank line contains whitespace
    |
127 |             from contracts.stt_contract import TranscriptionOptions
128 |             
    | ^^^^^^^^^^^^ W293
129 |             options = TranscriptionOptions(
130 |                 language=None,  # Auto-detect
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:134:1: W293 [*] Blank line contains whitespace
    |
132 |                 word_timestamps=True
133 |             )
134 |             
    | ^^^^^^^^^^^^ W293
135 |             result = await plugin.transcribe(audio_data, options)
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:136:1: W293 [*] Blank line contains whitespace
    |
135 |             result = await plugin.transcribe(audio_data, options)
136 |             
    | ^^^^^^^^^^^^ W293
137 |             print(f"   Transcription complete!")
138 |             print(f"     - Text: \"{result.text}\"")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:137:19: F541 [*] f-string without any placeholders
    |
135 |             result = await plugin.transcribe(audio_data, options)
136 |             
137 |             print(f"   Transcription complete!")
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
138 |             print(f"     - Text: \"{result.text}\"")
139 |             print(f"     - Language: {result.language}")
    |
    = help: Remove extraneous `f` prefix

plugins\tests\test_whisper_stt.py:142:1: W293 [*] Blank line contains whitespace
    |
140 |             print(f"     - Duration: {result.duration_ms:.0f}ms")
141 |             print(f"     - Segments: {len(result.segments)}")
142 |             
    | ^^^^^^^^^^^^ W293
143 |             if result.segments and result.segments[0].words:
144 |                 print(f"     - Words in first segment: {len(result.segments[0].words)}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:145:1: W293 [*] Blank line contains whitespace
    |
143 |             if result.segments and result.segments[0].words:
144 |                 print(f"     - Words in first segment: {len(result.segments[0].words)}")
145 |             
    | ^^^^^^^^^^^^ W293
146 |         except Exception as e:
147 |             print(f"   Transcription failed: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:155:1: W293 [*] Blank line contains whitespace
    |
153 |         print("     Run test_kokoro_tts.py first, or provide an audio file:")
154 |         print("     python test_whisper_stt.py path/to/audio.wav")
155 |     
    | ^^^^ W293
156 |     # Cleanup
157 |     await plugin.shutdown()
    |
    = help: Remove whitespace from blank line

plugins\tests\test_whisper_stt.py:158:1: W293 [*] Blank line contains whitespace
    |
156 |     # Cleanup
157 |     await plugin.shutdown()
158 |     
    | ^^^^ W293
159 |     print("\n" + "=" * 60)
160 |     print(" ALL TESTS PASSED!")
    |
    = help: Remove whitespace from blank line

plugins\tts_example_plugin\plugin.py:17:1: I001 [*] Import block is un-sorted or un-formatted
   |
15 |   """
16 |
17 | / import struct
18 | | from typing import Any, Dict, List, Optional
19 | |
20 | | from contracts.base import PluginStatus, HealthStatus
21 | | from contracts.tts_contract import (
22 | |     TTSContract,
23 | |     Voice,
24 | |     SynthesisResult,
25 | |     SynthesisOptions,
26 | |     AudioFormat,
27 | | )
   | |_^ I001
   |
   = help: Organize imports

plugins\tts_example_plugin\plugin.py:18:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
17 | import struct
18 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
19 |
20 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\tts_example_plugin\plugin.py:18:1: UP035 `typing.List` is deprecated, use `list` instead
   |
17 | import struct
18 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
19 |
20 | from contracts.base import PluginStatus, HealthStatus
   |

plugins\tts_example_plugin\plugin.py:74:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
72 |         self._current_voice_id = self._default_voice
73 |
74 |     async def initialize(self, config: Dict[str, Any]) -> bool:
   |                                        ^^^^ UP006
75 |         """
76 |         Initialize the plugin with configuration.
   |
   = help: Replace with `dict`

plugins\tts_example_plugin\plugin.py:121:19: UP007 [*] Use `X | Y` for type annotations
    |
119 |         self,
120 |         text: str,
121 |         voice_id: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
122 |         options: Optional[SynthesisOptions] = None
123 |     ) -> SynthesisResult:
    |
    = help: Convert to `X | Y`

plugins\tts_example_plugin\plugin.py:122:18: UP007 [*] Use `X | Y` for type annotations
    |
120 |         text: str,
121 |         voice_id: Optional[str] = None,
122 |         options: Optional[SynthesisOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
123 |     ) -> SynthesisResult:
124 |         """
    |
    = help: Convert to `X | Y`

plugins\tts_example_plugin\plugin.py:183:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
181 |         )
182 |
183 |     def get_voices(self) -> List[Voice]:
    |                             ^^^^ UP006
184 |         """
185 |         Get list of available voices.
    |
    = help: Replace with `list`

plugins\tts_example_plugin\plugin.py:212:50: UP007 [*] Use `X | Y` for type annotations
    |
210 |         return True
211 |
212 |     def _get_voice_by_id(self, voice_id: str) -> Optional[Voice]:
    |                                                  ^^^^^^^^^^^^^^^ UP007
213 |         """Get voice object by ID."""
214 |         for voice in self._voices:
    |
    = help: Convert to `X | Y`

plugins\tts_kokoro\plugin.py:22:1: I001 [*] Import block is un-sorted or un-formatted
   |
20 |   """
21 |
22 | / import asyncio
23 | | import io
24 | | import struct
25 | | from typing import Any, Dict, List, Optional
26 | |
27 | | import torch
28 | | import soundfile as sf
29 | |
30 | | from contracts.base import PluginStatus, HealthStatus
31 | | from contracts.tts_contract import (
32 | |     TTSContract,
33 | |     Voice,
34 | |     SynthesisResult,
35 | |     SynthesisOptions,
36 | |     AudioFormat,
37 | | )
   | |_^ I001
   |
   = help: Organize imports

plugins\tts_kokoro\plugin.py:24:8: F401 [*] `struct` imported but unused
   |
22 | import asyncio
23 | import io
24 | import struct
   |        ^^^^^^ F401
25 | from typing import Any, Dict, List, Optional
   |
   = help: Remove unused import: `struct`

plugins\tts_kokoro\plugin.py:25:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
23 | import io
24 | import struct
25 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
26 |
27 | import torch
   |

plugins\tts_kokoro\plugin.py:25:1: UP035 `typing.List` is deprecated, use `list` instead
   |
23 | import io
24 | import struct
25 | from typing import Any, Dict, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
26 |
27 | import torch
   |

plugins\tts_kokoro\plugin.py:135:1: W293 Blank line contains whitespace
    |
133 |     """
134 |     Kokoro TTS Plugin - High-quality neural text-to-speech.
135 |     
    | ^^^^ W293
136 |     Uses the Kokoro-82M model with KPipeline for synthesis.
137 |     Optimized for GPU inference on NVIDIA RTX cards.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:138:1: W293 Blank line contains whitespace
    |
136 |     Uses the Kokoro-82M model with KPipeline for synthesis.
137 |     Optimized for GPU inference on NVIDIA RTX cards.
138 |     
    | ^^^^ W293
139 |     Features:
140 |         - 82M parameter model with quality comparable to larger models
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:157:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
155 |         self._initialized: bool = False
156 |
157 |     async def initialize(self, config: Dict[str, Any]) -> bool:
    |                                        ^^^^ UP006
158 |         """
159 |         Initialize the Kokoro TTS plugin.
    |
    = help: Replace with `dict`

plugins\tts_kokoro\plugin.py:160:1: W293 Blank line contains whitespace
    |
158 |         """
159 |         Initialize the Kokoro TTS plugin.
160 |         
    | ^^^^^^^^ W293
161 |         Lazy-loads the KPipeline to avoid blocking. The actual model
162 |         download happens on first synthesis.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:163:1: W293 Blank line contains whitespace
    |
161 |         Lazy-loads the KPipeline to avoid blocking. The actual model
162 |         download happens on first synthesis.
163 |         
    | ^^^^^^^^ W293
164 |         Args:
165 |             config: Configuration from manifest or user overrides.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:170:1: W293 Blank line contains whitespace
    |
168 |                 - device: str ("cuda", "cpu", or "auto")
169 |                 - speed: float (0.5 to 2.0)
170 |         
    | ^^^^^^^^ W293
171 |         Returns:
172 |             True if initialization succeeded.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:180:1: W293 [*] Blank line contains whitespace
    |
178 |             self._default_speed = config.get("speed", 1.0)
179 |             self._current_voice_id = self._default_voice
180 |             
    | ^^^^^^^^^^^^ W293
181 |             # Determine device
182 |             device_config = config.get("device", "auto")
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:187:1: W293 [*] Blank line contains whitespace
    |
185 |             else:
186 |                 self._device = device_config
187 |             
    | ^^^^^^^^^^^^ W293
188 |             # Build voice list from all languages
189 |             self._voices = self._build_voice_list()
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:190:1: W293 [*] Blank line contains whitespace
    |
188 |             # Build voice list from all languages
189 |             self._voices = self._build_voice_list()
190 |             
    | ^^^^^^^^^^^^ W293
191 |             # Defer pipeline creation to first use (lazy loading)
192 |             # This prevents blocking during plugin initialization
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:195:1: W293 [*] Blank line contains whitespace
    |
193 |             self._initialized = True
194 |             self._status = PluginStatus.READY
195 |             
    | ^^^^^^^^^^^^ W293
196 |             return True
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:197:1: W293 [*] Blank line contains whitespace
    |
196 |             return True
197 |             
    | ^^^^^^^^^^^^ W293
198 |         except Exception as e:
199 |             self._status = PluginStatus.ERROR
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:200:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
198 |         except Exception as e:
199 |             self._status = PluginStatus.ERROR
200 |             raise RuntimeError(f"Kokoro initialization failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
201 |
202 |     async def shutdown(self) -> None:
    |

plugins\tts_kokoro\plugin.py:207:1: W293 [*] Blank line contains whitespace
    |
205 |         self._initialized = False
206 |         self._status = PluginStatus.UNLOADED
207 |         
    | ^^^^^^^^ W293
208 |         # Clear CUDA cache if using GPU
209 |         if self._device == "cuda" and torch.cuda.is_available():
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:215:1: W293 Blank line contains whitespace
    |
213 |         """
214 |         Check plugin health.
215 |         
    | ^^^^^^^^ W293
216 |         Returns:
217 |             HealthStatus with current state and diagnostics.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:228:1: W293 [*] Blank line contains whitespace
    |
226 |             "sample_rate": self._sample_rate,
227 |         }
228 |         
    | ^^^^^^^^ W293
229 |         if self._device == "cuda" and torch.cuda.is_available():
230 |             details["gpu_name"] = torch.cuda.get_device_name(0)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:234:1: W293 [*] Blank line contains whitespace
    |
232 |                 torch.cuda.memory_allocated(0) / 1024 / 1024, 2
233 |             )
234 |         
    | ^^^^^^^^ W293
235 |         return HealthStatus(
236 |             status=self._status,
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:244:1: W293 Blank line contains whitespace
    |
242 |         """
243 |         Lazy-load the Kokoro pipeline.
244 |         
    | ^^^^^^^^ W293
245 |         The pipeline is created on first use to avoid blocking during
246 |         plugin initialization. Models are auto-downloaded by kokoro package.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:247:1: W293 Blank line contains whitespace
    |
245 |         The pipeline is created on first use to avoid blocking during
246 |         plugin initialization. Models are auto-downloaded by kokoro package.
247 |         
    | ^^^^^^^^ W293
248 |         Args:
249 |             lang_code: Language code for the pipeline (a, b, j, z, etc.)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:256:1: W293 [*] Blank line contains whitespace
    |
254 |             if current_lang == lang_code:
255 |                 return
256 |         
    | ^^^^^^^^ W293
257 |         # Import here to defer loading until needed
258 |         from kokoro import KPipeline
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:259:1: W293 [*] Blank line contains whitespace
    |
257 |         # Import here to defer loading until needed
258 |         from kokoro import KPipeline
259 |         
    | ^^^^^^^^ W293
260 |         # Create pipeline for the specified language
261 |         # Run in thread to avoid blocking async event loop
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:264:1: W293 [*] Blank line contains whitespace
    |
262 |         def create_pipeline():
263 |             return KPipeline(lang_code=lang_code)
264 |         
    | ^^^^^^^^ W293
265 |         self._pipeline = await asyncio.to_thread(create_pipeline)
266 |         self._pipeline._lang_code = lang_code  # Track current language
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:271:1: W293 Blank line contains whitespace
    |
269 |         """
270 |         Determine the language code from a voice ID.
271 |         
    | ^^^^^^^^ W293
272 |         Voice IDs follow the pattern: {lang}{gender}_{name}
273 |         e.g., af_heart = American (a) Female (f) Heart
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:274:1: W293 Blank line contains whitespace
    |
272 |         Voice IDs follow the pattern: {lang}{gender}_{name}
273 |         e.g., af_heart = American (a) Female (f) Heart
274 |         
    | ^^^^^^^^ W293
275 |         Args:
276 |             voice_id: The voice identifier.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:277:1: W293 Blank line contains whitespace
    |
275 |         Args:
276 |             voice_id: The voice identifier.
277 |             
    | ^^^^^^^^^^^^ W293
278 |         Returns:
279 |             Single-character language code.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:287:36: UP006 [*] Use `list` instead of `List` for type annotation
    |
285 |         return self._default_lang_code
286 |
287 |     def _build_voice_list(self) -> List[Voice]:
    |                                    ^^^^ UP006
288 |         """Build the complete voice list from all languages."""
289 |         voices = []
    |
    = help: Replace with `list`

plugins\tts_kokoro\plugin.py:290:1: W293 [*] Blank line contains whitespace
    |
288 |         """Build the complete voice list from all languages."""
289 |         voices = []
290 |         
    | ^^^^^^^^ W293
291 |         for lang_code, voice_list in DEFAULT_VOICES.items():
292 |             bcp47 = LANG_CODE_MAP.get(lang_code, "en-US")
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:293:1: W293 [*] Blank line contains whitespace
    |
291 |         for lang_code, voice_list in DEFAULT_VOICES.items():
292 |             bcp47 = LANG_CODE_MAP.get(lang_code, "en-US")
293 |             
    | ^^^^^^^^^^^^ W293
294 |             for voice_id, display_name, gender in voice_list:
295 |                 voices.append(Voice(
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:303:1: W293 [*] Blank line contains whitespace
    |
301 |                     sample_rate=self._sample_rate,
302 |                 ))
303 |         
    | ^^^^^^^^ W293
304 |         return voices
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:309:19: UP007 [*] Use `X | Y` for type annotations
    |
307 |         self,
308 |         text: str,
309 |         voice_id: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
310 |         options: Optional[SynthesisOptions] = None
311 |     ) -> SynthesisResult:
    |
    = help: Convert to `X | Y`

plugins\tts_kokoro\plugin.py:310:18: UP007 [*] Use `X | Y` for type annotations
    |
308 |         text: str,
309 |         voice_id: Optional[str] = None,
310 |         options: Optional[SynthesisOptions] = None
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
311 |     ) -> SynthesisResult:
312 |         """
    |
    = help: Convert to `X | Y`

plugins\tts_kokoro\plugin.py:314:1: W293 Blank line contains whitespace
    |
312 |         """
313 |         Synthesize speech from text using Kokoro-82M.
314 |         
    | ^^^^^^^^ W293
315 |         Args:
316 |             text: Text to convert to speech.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:319:1: W293 Blank line contains whitespace
    |
317 |             voice_id: Voice to use (e.g., "af_heart"). If None, uses current voice.
318 |             options: Synthesis options (speed, format, etc.)
319 |         
    | ^^^^^^^^ W293
320 |         Returns:
321 |             SynthesisResult containing audio data and metadata.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:322:1: W293 Blank line contains whitespace
    |
320 |         Returns:
321 |             SynthesisResult containing audio data and metadata.
322 |         
    | ^^^^^^^^ W293
323 |         Raises:
324 |             ValueError: If text is empty.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:329:1: W293 [*] Blank line contains whitespace
    |
327 |         if not text or not text.strip():
328 |             raise ValueError("Text cannot be empty")
329 |         
    | ^^^^^^^^ W293
330 |         # Resolve voice and options
331 |         use_voice = voice_id or self._current_voice_id
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:334:1: W293 [*] Blank line contains whitespace
    |
332 |         opts = options or SynthesisOptions()
333 |         speed = opts.speed if opts.speed != 1.0 else self._default_speed
334 |         
    | ^^^^^^^^ W293
335 |         # Determine language from voice
336 |         lang_code = self._get_lang_code_for_voice(use_voice)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:337:1: W293 [*] Blank line contains whitespace
    |
335 |         # Determine language from voice
336 |         lang_code = self._get_lang_code_for_voice(use_voice)
337 |         
    | ^^^^^^^^ W293
338 |         # Ensure pipeline is loaded
339 |         await self._ensure_pipeline(lang_code)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:340:1: W293 [*] Blank line contains whitespace
    |
338 |         # Ensure pipeline is loaded
339 |         await self._ensure_pipeline(lang_code)
340 |         
    | ^^^^^^^^ W293
341 |         try:
342 |             # Generate audio using Kokoro
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:352:1: W293 [*] Blank line contains whitespace
    |
350 |                     split_pattern=r'\n+'  # Split on newlines for long text
351 |                 )
352 |                 
    | ^^^^^^^^^^^^^^^^ W293
353 |                 for _, _, audio in generator:
354 |                     audio_segments.append(audio)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:355:1: W293 [*] Blank line contains whitespace
    |
353 |                 for _, _, audio in generator:
354 |                     audio_segments.append(audio)
355 |                 
    | ^^^^^^^^^^^^^^^^ W293
356 |                 # Concatenate all segments
357 |                 if audio_segments:
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:361:1: W293 [*] Blank line contains whitespace
    |
359 |                     return np.concatenate(audio_segments)
360 |                 return None
361 |             
    | ^^^^^^^^^^^^ W293
362 |             audio_array = await asyncio.to_thread(do_synthesis)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:363:1: W293 [*] Blank line contains whitespace
    |
362 |             audio_array = await asyncio.to_thread(do_synthesis)
363 |             
    | ^^^^^^^^^^^^ W293
364 |             if audio_array is None or len(audio_array) == 0:
365 |                 raise RuntimeError("Synthesis produced no audio")
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:366:1: W293 [*] Blank line contains whitespace
    |
364 |             if audio_array is None or len(audio_array) == 0:
365 |                 raise RuntimeError("Synthesis produced no audio")
366 |             
    | ^^^^^^^^^^^^ W293
367 |             # Convert to requested format
368 |             audio_bytes = self._encode_audio(audio_array, opts.format)
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:369:1: W293 [*] Blank line contains whitespace
    |
367 |             # Convert to requested format
368 |             audio_bytes = self._encode_audio(audio_array, opts.format)
369 |             
    | ^^^^^^^^^^^^ W293
370 |             # Calculate duration
371 |             duration_ms = (len(audio_array) / self._sample_rate) * 1000
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:372:1: W293 [*] Blank line contains whitespace
    |
370 |             # Calculate duration
371 |             duration_ms = (len(audio_array) / self._sample_rate) * 1000
372 |             
    | ^^^^^^^^^^^^ W293
373 |             return SynthesisResult(
374 |                 audio_data=audio_bytes,
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:388:1: W293 [*] Blank line contains whitespace
    |
386 |                 }
387 |             )
388 |             
    | ^^^^^^^^^^^^ W293
389 |         except Exception as e:
390 |             raise RuntimeError(f"Kokoro synthesis failed: {e}")
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:390:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
389 |         except Exception as e:
390 |             raise RuntimeError(f"Kokoro synthesis failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
391 |
392 |     def _encode_audio(self, audio_array, output_format: AudioFormat) -> bytes:
    |

plugins\tts_kokoro\plugin.py:395:1: W293 Blank line contains whitespace
    |
393 |         """
394 |         Encode audio array to the requested format.
395 |         
    | ^^^^^^^^ W293
396 |         Args:
397 |             audio_array: NumPy array of audio samples (float32, -1 to 1).
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:399:1: W293 Blank line contains whitespace
    |
397 |             audio_array: NumPy array of audio samples (float32, -1 to 1).
398 |             output_format: Desired output format.
399 |         
    | ^^^^^^^^ W293
400 |         Returns:
401 |             Encoded audio bytes.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:404:1: W293 [*] Blank line contains whitespace
    |
402 |         """
403 |         buffer = io.BytesIO()
404 |         
    | ^^^^^^^^ W293
405 |         if output_format == AudioFormat.WAV:
406 |             sf.write(buffer, audio_array, self._sample_rate, format='WAV')
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:417:1: W293 [*] Blank line contains whitespace
    |
415 |             # Default to WAV for unsupported formats
416 |             sf.write(buffer, audio_array, self._sample_rate, format='WAV')
417 |         
    | ^^^^^^^^ W293
418 |         buffer.seek(0)
419 |         return buffer.read()
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:421:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
419 |         return buffer.read()
420 |
421 |     def get_voices(self) -> List[Voice]:
    |                             ^^^^ UP006
422 |         """
423 |         Get list of available voices.
    |
    = help: Replace with `list`

plugins\tts_kokoro\plugin.py:424:1: W293 Blank line contains whitespace
    |
422 |         """
423 |         Get list of available voices.
424 |         
    | ^^^^^^^^ W293
425 |         Returns:
426 |             List of Voice objects for all supported languages.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:433:1: W293 Blank line contains whitespace
    |
431 |         """
432 |         Set the active voice for synthesis.
433 |         
    | ^^^^^^^^ W293
434 |         Args:
435 |             voice_id: ID of voice to activate (e.g., "af_heart").
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:436:1: W293 Blank line contains whitespace
    |
434 |         Args:
435 |             voice_id: ID of voice to activate (e.g., "af_heart").
436 |         
    | ^^^^^^^^ W293
437 |         Returns:
438 |             True if voice was set successfully.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:439:1: W293 Blank line contains whitespace
    |
437 |         Returns:
438 |             True if voice was set successfully.
439 |         
    | ^^^^^^^^ W293
440 |         Raises:
441 |             ValueError: If voice_id is not found.
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:447:1: W293 [*] Blank line contains whitespace
    |
445 |         if not found:
446 |             raise ValueError(f"Voice '{voice_id}' not found")
447 |         
    | ^^^^^^^^ W293
448 |         self._current_voice_id = voice_id
449 |         return True
    |
    = help: Remove whitespace from blank line

plugins\tts_kokoro\plugin.py:451:42: UP006 [*] Use `list` instead of `List` for type annotation
    |
449 |         return True
450 |
451 |     def get_supported_languages(self) -> List[str]:
    |                                          ^^^^ UP006
452 |         """
453 |         Get list of supported language codes.
    |
    = help: Replace with `list`

plugins\tts_kokoro\plugin.py:454:1: W293 Blank line contains whitespace
    |
452 |         """
453 |         Get list of supported language codes.
454 |         
    | ^^^^^^^^ W293
455 |         Returns:
456 |             List of BCP-47 language codes.
    |
    = help: Remove whitespace from blank line

services\__init__.py:11:1: I001 [*] Import block is un-sorted or un-formatted
   |
 9 |   """
10 |
11 | / from .voice import VoiceService
12 | | from .llm import LLMService
   | |___________________________^ I001
13 |
14 |   __all__ = ["VoiceService", "LLMService"]
   |
   = help: Organize imports

services\llm.py:11:1: W293 Blank line contains whitespace
   |
 9 | Usage:
10 |     from services.llm import LLMService
11 |     
   | ^^^^ W293
12 |     # Simple one-liner usage
13 |     llm = LLMService()
   |
   = help: Remove whitespace from blank line

services\llm.py:15:1: W293 Blank line contains whitespace
   |
13 |     llm = LLMService()
14 |     response = await llm.ask("What is the capital of France?")
15 |     
   | ^^^^ W293
16 |     # Chat with history
17 |     llm.add_message("user", "Hello!")
   |
   = help: Remove whitespace from blank line

services\llm.py:19:1: W293 Blank line contains whitespace
   |
17 |     llm.add_message("user", "Hello!")
18 |     response = await llm.chat()
19 |     
   | ^^^^ W293
20 |     # Stream responses
21 |     async for chunk in llm.stream("Tell me a story"):
   |
   = help: Remove whitespace from blank line

services\llm.py:25:1: I001 [*] Import block is un-sorted or un-formatted
   |
23 |   """
24 |
25 | / import asyncio
26 | | from typing import Optional, List, Dict, Any, AsyncIterator, Union
   | |__________________________________________________________________^ I001
   |
   = help: Organize imports

services\llm.py:26:1: UP035 [*] Import from `collections.abc` instead: `AsyncIterator`
   |
25 | import asyncio
26 | from typing import Optional, List, Dict, Any, AsyncIterator, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |
   = help: Import from `collections.abc`

services\llm.py:26:1: UP035 `typing.List` is deprecated, use `list` instead
   |
25 | import asyncio
26 | from typing import Optional, List, Dict, Any, AsyncIterator, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |

services\llm.py:26:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
25 | import asyncio
26 | from typing import Optional, List, Dict, Any, AsyncIterator, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |

services\llm.py:26:62: F401 [*] `typing.Union` imported but unused
   |
25 | import asyncio
26 | from typing import Optional, List, Dict, Any, AsyncIterator, Union
   |                                                              ^^^^^ F401
   |
   = help: Remove unused import: `typing.Union`

services\llm.py:32:1: W293 Blank line contains whitespace
   |
30 |     """
31 |     High-level facade for LLM operations.
32 |     
   | ^^^^ W293
33 |     Automatically discovers, loads, and manages LLM plugins.
34 |     Provides simple ask(), chat(), and stream() methods for AI agents.
   |
   = help: Remove whitespace from blank line

services\llm.py:35:1: W293 Blank line contains whitespace
   |
33 |     Automatically discovers, loads, and manages LLM plugins.
34 |     Provides simple ask(), chat(), and stream() methods for AI agents.
35 |     
   | ^^^^ W293
36 |     Attributes:
37 |         model: Current model ID
   |
   = help: Remove whitespace from blank line

services\llm.py:41:1: W293 [*] Blank line contains whitespace
   |
39 |         max_tokens: Maximum tokens to generate
40 |     """
41 |     
   | ^^^^ W293
42 |     def __init__(
43 |         self,
   |
   = help: Remove whitespace from blank line

services\llm.py:44:16: UP007 [*] Use `X | Y` for type annotations
   |
42 |     def __init__(
43 |         self,
44 |         model: Optional[str] = None,
   |                ^^^^^^^^^^^^^ UP007
45 |         temperature: float = 0.7,
46 |         max_tokens: int = 2048,
   |
   = help: Convert to `X | Y`

services\llm.py:52:1: W293 Blank line contains whitespace
   |
50 |         """
51 |         Initialize the LLM Service.
52 |         
   | ^^^^^^^^ W293
53 |         Args:
54 |             model: Model ID to use (auto-selects first available if None)
   |
   = help: Remove whitespace from blank line

services\llm.py:67:25: UP006 [*] Use `list` instead of `List` for type annotation
   |
65 |         self._auto_init = auto_init
66 |         self._initialized = False
67 |         self._messages: List[Dict[str, str]] = []
   |                         ^^^^ UP006
68 |         self._system_prompt: Optional[str] = None
   |
   = help: Replace with `list`

services\llm.py:67:30: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
65 |         self._auto_init = auto_init
66 |         self._initialized = False
67 |         self._messages: List[Dict[str, str]] = []
   |                              ^^^^ UP006
68 |         self._system_prompt: Optional[str] = None
   |
   = help: Replace with `dict`

services\llm.py:68:30: UP007 [*] Use `X | Y` for type annotations
   |
66 |         self._initialized = False
67 |         self._messages: List[Dict[str, str]] = []
68 |         self._system_prompt: Optional[str] = None
   |                              ^^^^^^^^^^^^^ UP007
69 |     
70 |     async def __aenter__(self):
   |
   = help: Convert to `X | Y`

services\llm.py:69:1: W293 [*] Blank line contains whitespace
   |
67 |         self._messages: List[Dict[str, str]] = []
68 |         self._system_prompt: Optional[str] = None
69 |     
   | ^^^^ W293
70 |     async def __aenter__(self):
71 |         """Async context manager entry."""
   |
   = help: Remove whitespace from blank line

services\llm.py:74:1: W293 [*] Blank line contains whitespace
   |
72 |         await self.initialize()
73 |         return self
74 |     
   | ^^^^ W293
75 |     async def __aexit__(self, exc_type, exc_val, exc_tb):
76 |         """Async context manager exit with cleanup."""
   |
   = help: Remove whitespace from blank line

services\llm.py:79:1: W293 [*] Blank line contains whitespace
   |
77 |         await self.shutdown()
78 |         return False
79 |     
   | ^^^^ W293
80 |     async def initialize(self) -> bool:
81 |         """
   |
   = help: Remove whitespace from blank line

services\llm.py:83:1: W293 Blank line contains whitespace
   |
81 |         """
82 |         Initialize the LLM plugin.
83 |         
   | ^^^^^^^^ W293
84 |         Returns:
85 |             True if plugin initialized successfully.
   |
   = help: Remove whitespace from blank line

services\llm.py:89:1: W293 [*] Blank line contains whitespace
   |
87 |         if self._initialized:
88 |             return True
89 |         
   | ^^^^^^^^ W293
90 |         from plugins.llm_ollama_v2.plugin import OllamaLLMPlugin
   |
   = help: Remove whitespace from blank line

services\llm.py:91:1: W293 [*] Blank line contains whitespace
   |
90 |         from plugins.llm_ollama_v2.plugin import OllamaLLMPlugin
91 |         
   | ^^^^^^^^ W293
92 |         self._plugin = OllamaLLMPlugin()
93 |         await self._plugin.initialize({
   |
   = help: Remove whitespace from blank line

services\llm.py:98:1: W293 [*] Blank line contains whitespace
    |
 96 |             "timeout": 60
 97 |         })
 98 |         
    | ^^^^^^^^ W293
 99 |         # Auto-select first model if none specified
100 |         if not self._model:
    |
    = help: Remove whitespace from blank line

services\llm.py:105:1: W293 [*] Blank line contains whitespace
    |
103 |                 self._model = models[0].id
104 |                 self._plugin.set_model(self._model)
105 |         
    | ^^^^^^^^ W293
106 |         self._initialized = True
107 |         return True
    |
    = help: Remove whitespace from blank line

services\llm.py:108:1: W293 [*] Blank line contains whitespace
    |
106 |         self._initialized = True
107 |         return True
108 |     
    | ^^^^ W293
109 |     async def shutdown(self) -> None:
110 |         """Shutdown and cleanup plugin."""
    |
    = help: Remove whitespace from blank line

services\llm.py:114:1: W293 [*] Blank line contains whitespace
    |
112 |             await self._plugin.shutdown()
113 |             self._plugin = None
114 |         
    | ^^^^^^^^ W293
115 |         self._initialized = False
116 |         self._messages = []
    |
    = help: Remove whitespace from blank line

services\llm.py:117:1: W293 [*] Blank line contains whitespace
    |
115 |         self._initialized = False
116 |         self._messages = []
117 |     
    | ^^^^ W293
118 |     async def _ensure_initialized(self) -> None:
119 |         """Ensure plugin is initialized (lazy loading)."""
    |
    = help: Remove whitespace from blank line

services\llm.py:122:1: W293 [*] Blank line contains whitespace
    |
120 |         if not self._initialized and self._auto_init:
121 |             await self.initialize()
122 |     
    | ^^^^ W293
123 |     # =========================================================================
124 |     # HIGH-LEVEL API - Simple methods for AI agents
    |
    = help: Remove whitespace from blank line

services\llm.py:126:1: W293 [*] Blank line contains whitespace
    |
124 |     # HIGH-LEVEL API - Simple methods for AI agents
125 |     # =========================================================================
126 |     
    | ^^^^ W293
127 |     async def ask(
128 |         self,
    |
    = help: Remove whitespace from blank line

services\llm.py:130:16: UP007 [*] Use `X | Y` for type annotations
    |
128 |         self,
129 |         question: str,
130 |         model: Optional[str] = None,
    |                ^^^^^^^^^^^^^ UP007
131 |         temperature: Optional[float] = None,
132 |         max_tokens: Optional[int] = None
    |
    = help: Convert to `X | Y`

services\llm.py:131:22: UP007 [*] Use `X | Y` for type annotations
    |
129 |         question: str,
130 |         model: Optional[str] = None,
131 |         temperature: Optional[float] = None,
    |                      ^^^^^^^^^^^^^^^ UP007
132 |         max_tokens: Optional[int] = None
133 |     ) -> str:
    |
    = help: Convert to `X | Y`

services\llm.py:132:21: UP007 [*] Use `X | Y` for type annotations
    |
130 |         model: Optional[str] = None,
131 |         temperature: Optional[float] = None,
132 |         max_tokens: Optional[int] = None
    |                     ^^^^^^^^^^^^^ UP007
133 |     ) -> str:
134 |         """
    |
    = help: Convert to `X | Y`

services\llm.py:136:1: W293 Blank line contains whitespace
    |
134 |         """
135 |         Ask a single question and get a response.
136 |         
    | ^^^^^^^^ W293
137 |         This is a stateless call - does not use or modify chat history.
    |
    = help: Remove whitespace from blank line

services\llm.py:138:1: W293 Blank line contains whitespace
    |
137 |         This is a stateless call - does not use or modify chat history.
138 |         
    | ^^^^^^^^ W293
139 |         Args:
140 |             question: The question or prompt
    |
    = help: Remove whitespace from blank line

services\llm.py:144:1: W293 Blank line contains whitespace
    |
142 |             temperature: Sampling temperature (uses default if None)
143 |             max_tokens: Max tokens (uses default if None)
144 |         
    | ^^^^^^^^ W293
145 |         Returns:
146 |             The model's response text
    |
    = help: Remove whitespace from blank line

services\llm.py:147:1: W293 Blank line contains whitespace
    |
145 |         Returns:
146 |             The model's response text
147 |         
    | ^^^^^^^^ W293
148 |         Example:
149 |             answer = await llm.ask("What is 2+2?")
    |
    = help: Remove whitespace from blank line

services\llm.py:153:1: W293 [*] Blank line contains whitespace
    |
151 |         """
152 |         await self._ensure_initialized()
153 |         
    | ^^^^^^^^ W293
154 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |
    = help: Remove whitespace from blank line

services\llm.py:154:9: I001 [*] Import block is un-sorted or un-formatted
    |
152 |         await self._ensure_initialized()
153 |         
154 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
155 |         
156 |         messages = []
    |
    = help: Organize imports

services\llm.py:155:1: W293 [*] Blank line contains whitespace
    |
154 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
155 |         
    | ^^^^^^^^ W293
156 |         messages = []
157 |         if self._system_prompt:
    |
    = help: Remove whitespace from blank line

services\llm.py:160:1: W293 [*] Blank line contains whitespace
    |
158 |             messages.append(Message(role=MessageRole.SYSTEM, content=self._system_prompt))
159 |         messages.append(Message(role=MessageRole.USER, content=question))
160 |         
    | ^^^^^^^^ W293
161 |         options = CompletionOptions(
162 |             model=model or self._model,
    |
    = help: Remove whitespace from blank line

services\llm.py:166:1: W293 [*] Blank line contains whitespace
    |
164 |             max_tokens=max_tokens or self._max_tokens
165 |         )
166 |         
    | ^^^^^^^^ W293
167 |         result = await self._plugin.complete(messages, options)
168 |         return result.content
    |
    = help: Remove whitespace from blank line

services\llm.py:169:1: W293 [*] Blank line contains whitespace
    |
167 |         result = await self._plugin.complete(messages, options)
168 |         return result.content
169 |     
    | ^^^^ W293
170 |     async def chat(
171 |         self,
    |
    = help: Remove whitespace from blank line

services\llm.py:172:18: UP007 [*] Use `X | Y` for type annotations
    |
170 |     async def chat(
171 |         self,
172 |         message: Optional[str] = None,
    |                  ^^^^^^^^^^^^^ UP007
173 |         model: Optional[str] = None,
174 |         temperature: Optional[float] = None
    |
    = help: Convert to `X | Y`

services\llm.py:173:16: UP007 [*] Use `X | Y` for type annotations
    |
171 |         self,
172 |         message: Optional[str] = None,
173 |         model: Optional[str] = None,
    |                ^^^^^^^^^^^^^ UP007
174 |         temperature: Optional[float] = None
175 |     ) -> str:
    |
    = help: Convert to `X | Y`

services\llm.py:174:22: UP007 [*] Use `X | Y` for type annotations
    |
172 |         message: Optional[str] = None,
173 |         model: Optional[str] = None,
174 |         temperature: Optional[float] = None
    |                      ^^^^^^^^^^^^^^^ UP007
175 |     ) -> str:
176 |         """
    |
    = help: Convert to `X | Y`

services\llm.py:178:1: W293 Blank line contains whitespace
    |
176 |         """
177 |         Send a message in an ongoing conversation.
178 |         
    | ^^^^^^^^ W293
179 |         Maintains chat history across calls.
    |
    = help: Remove whitespace from blank line

services\llm.py:180:1: W293 Blank line contains whitespace
    |
179 |         Maintains chat history across calls.
180 |         
    | ^^^^^^^^ W293
181 |         Args:
182 |             message: User message to send (uses existing history if None)
    |
    = help: Remove whitespace from blank line

services\llm.py:185:1: W293 Blank line contains whitespace
    |
183 |             model: Model to use (uses default if None)
184 |             temperature: Sampling temperature
185 |         
    | ^^^^^^^^ W293
186 |         Returns:
187 |             The assistant's response text
    |
    = help: Remove whitespace from blank line

services\llm.py:188:1: W293 Blank line contains whitespace
    |
186 |         Returns:
187 |             The assistant's response text
188 |         
    | ^^^^^^^^ W293
189 |         Example:
190 |             llm.set_system("You are a helpful assistant.")
    |
    = help: Remove whitespace from blank line

services\llm.py:195:1: W293 [*] Blank line contains whitespace
    |
193 |         """
194 |         await self._ensure_initialized()
195 |         
    | ^^^^^^^^ W293
196 |         if message:
197 |             self.add_message("user", message)
    |
    = help: Remove whitespace from blank line

services\llm.py:198:1: W293 [*] Blank line contains whitespace
    |
196 |         if message:
197 |             self.add_message("user", message)
198 |         
    | ^^^^^^^^ W293
199 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |
    = help: Remove whitespace from blank line

services\llm.py:199:9: I001 [*] Import block is un-sorted or un-formatted
    |
197 |             self.add_message("user", message)
198 |         
199 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
200 |         
201 |         messages = []
    |
    = help: Organize imports

services\llm.py:200:1: W293 [*] Blank line contains whitespace
    |
199 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
200 |         
    | ^^^^^^^^ W293
201 |         messages = []
202 |         if self._system_prompt:
    |
    = help: Remove whitespace from blank line

services\llm.py:204:1: W293 [*] Blank line contains whitespace
    |
202 |         if self._system_prompt:
203 |             messages.append(Message(role=MessageRole.SYSTEM, content=self._system_prompt))
204 |         
    | ^^^^^^^^ W293
205 |         for msg in self._messages:
206 |             messages.append(Message(
    |
    = help: Remove whitespace from blank line

services\llm.py:210:1: W293 [*] Blank line contains whitespace
    |
208 |                 content=msg["content"]
209 |             ))
210 |         
    | ^^^^^^^^ W293
211 |         options = CompletionOptions(
212 |             model=model or self._model,
    |
    = help: Remove whitespace from blank line

services\llm.py:216:1: W293 [*] Blank line contains whitespace
    |
214 |             max_tokens=self._max_tokens
215 |         )
216 |         
    | ^^^^^^^^ W293
217 |         result = await self._plugin.complete(messages, options)
    |
    = help: Remove whitespace from blank line

services\llm.py:218:1: W293 [*] Blank line contains whitespace
    |
217 |         result = await self._plugin.complete(messages, options)
218 |         
    | ^^^^^^^^ W293
219 |         # Add assistant response to history
220 |         self.add_message("assistant", result.content)
    |
    = help: Remove whitespace from blank line

services\llm.py:221:1: W293 [*] Blank line contains whitespace
    |
219 |         # Add assistant response to history
220 |         self.add_message("assistant", result.content)
221 |         
    | ^^^^^^^^ W293
222 |         return result.content
    |
    = help: Remove whitespace from blank line

services\llm.py:223:1: W293 [*] Blank line contains whitespace
    |
222 |         return result.content
223 |     
    | ^^^^ W293
224 |     async def stream(
225 |         self,
    |
    = help: Remove whitespace from blank line

services\llm.py:227:16: UP007 [*] Use `X | Y` for type annotations
    |
225 |         self,
226 |         prompt: str,
227 |         model: Optional[str] = None,
    |                ^^^^^^^^^^^^^ UP007
228 |         temperature: Optional[float] = None
229 |     ) -> AsyncIterator[str]:
    |
    = help: Convert to `X | Y`

services\llm.py:228:22: UP007 [*] Use `X | Y` for type annotations
    |
226 |         prompt: str,
227 |         model: Optional[str] = None,
228 |         temperature: Optional[float] = None
    |                      ^^^^^^^^^^^^^^^ UP007
229 |     ) -> AsyncIterator[str]:
230 |         """
    |
    = help: Convert to `X | Y`

services\llm.py:232:1: W293 Blank line contains whitespace
    |
230 |         """
231 |         Stream a response token by token.
232 |         
    | ^^^^^^^^ W293
233 |         Args:
234 |             prompt: The prompt to generate from
    |
    = help: Remove whitespace from blank line

services\llm.py:237:1: W293 Blank line contains whitespace
    |
235 |             model: Model to use (uses default if None)
236 |             temperature: Sampling temperature
237 |         
    | ^^^^^^^^ W293
238 |         Yields:
239 |             Text chunks as they are generated
    |
    = help: Remove whitespace from blank line

services\llm.py:240:1: W293 Blank line contains whitespace
    |
238 |         Yields:
239 |             Text chunks as they are generated
240 |         
    | ^^^^^^^^ W293
241 |         Example:
242 |             async for chunk in llm.stream("Tell me a story"):
    |
    = help: Remove whitespace from blank line

services\llm.py:246:1: W293 [*] Blank line contains whitespace
    |
244 |         """
245 |         await self._ensure_initialized()
246 |         
    | ^^^^^^^^ W293
247 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |
    = help: Remove whitespace from blank line

services\llm.py:247:9: I001 [*] Import block is un-sorted or un-formatted
    |
245 |         await self._ensure_initialized()
246 |         
247 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
248 |         
249 |         messages = []
    |
    = help: Organize imports

services\llm.py:248:1: W293 [*] Blank line contains whitespace
    |
247 |         from contracts.llm_contract import Message, MessageRole, CompletionOptions
248 |         
    | ^^^^^^^^ W293
249 |         messages = []
250 |         if self._system_prompt:
    |
    = help: Remove whitespace from blank line

services\llm.py:253:1: W293 [*] Blank line contains whitespace
    |
251 |             messages.append(Message(role=MessageRole.SYSTEM, content=self._system_prompt))
252 |         messages.append(Message(role=MessageRole.USER, content=prompt))
253 |         
    | ^^^^^^^^ W293
254 |         options = CompletionOptions(
255 |             model=model or self._model,
    |
    = help: Remove whitespace from blank line

services\llm.py:259:1: W293 [*] Blank line contains whitespace
    |
257 |             max_tokens=self._max_tokens
258 |         )
259 |         
    | ^^^^^^^^ W293
260 |         async for chunk in self._plugin.complete_stream(messages, options):
261 |             yield chunk.content
    |
    = help: Remove whitespace from blank line

services\llm.py:262:1: W293 [*] Blank line contains whitespace
    |
260 |         async for chunk in self._plugin.complete_stream(messages, options):
261 |             yield chunk.content
262 |     
    | ^^^^ W293
263 |     # =========================================================================
264 |     # CONVERSATION MANAGEMENT
    |
    = help: Remove whitespace from blank line

services\llm.py:266:1: W293 [*] Blank line contains whitespace
    |
264 |     # CONVERSATION MANAGEMENT
265 |     # =========================================================================
266 |     
    | ^^^^ W293
267 |     def set_system(self, prompt: str) -> None:
268 |         """
    |
    = help: Remove whitespace from blank line

services\llm.py:270:1: W293 Blank line contains whitespace
    |
268 |         """
269 |         Set the system prompt for conversations.
270 |         
    | ^^^^^^^^ W293
271 |         Args:
272 |             prompt: System prompt text
    |
    = help: Remove whitespace from blank line

services\llm.py:273:1: W293 Blank line contains whitespace
    |
271 |         Args:
272 |             prompt: System prompt text
273 |         
    | ^^^^^^^^ W293
274 |         Example:
275 |             llm.set_system("You are a helpful coding assistant.")
    |
    = help: Remove whitespace from blank line

services\llm.py:278:1: W293 [*] Blank line contains whitespace
    |
276 |         """
277 |         self._system_prompt = prompt
278 |     
    | ^^^^ W293
279 |     def add_message(self, role: str, content: str) -> None:
280 |         """
    |
    = help: Remove whitespace from blank line

services\llm.py:282:1: W293 Blank line contains whitespace
    |
280 |         """
281 |         Add a message to conversation history.
282 |         
    | ^^^^^^^^ W293
283 |         Args:
284 |             role: "user" or "assistant"
    |
    = help: Remove whitespace from blank line

services\llm.py:288:1: W293 [*] Blank line contains whitespace
    |
286 |         """
287 |         self._messages.append({"role": role, "content": content})
288 |     
    | ^^^^ W293
289 |     def clear_history(self) -> None:
290 |         """Clear conversation history."""
    |
    = help: Remove whitespace from blank line

services\llm.py:292:1: W293 [*] Blank line contains whitespace
    |
290 |         """Clear conversation history."""
291 |         self._messages = []
292 |     
    | ^^^^ W293
293 |     def get_history(self) -> List[Dict[str, str]]:
294 |         """Get conversation history."""
    |
    = help: Remove whitespace from blank line

services\llm.py:293:30: UP006 [*] Use `list` instead of `List` for type annotation
    |
291 |         self._messages = []
292 |     
293 |     def get_history(self) -> List[Dict[str, str]]:
    |                              ^^^^ UP006
294 |         """Get conversation history."""
295 |         return self._messages.copy()
    |
    = help: Replace with `list`

services\llm.py:293:35: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
291 |         self._messages = []
292 |     
293 |     def get_history(self) -> List[Dict[str, str]]:
    |                                   ^^^^ UP006
294 |         """Get conversation history."""
295 |         return self._messages.copy()
    |
    = help: Replace with `dict`

services\llm.py:296:1: W293 [*] Blank line contains whitespace
    |
294 |         """Get conversation history."""
295 |         return self._messages.copy()
296 |     
    | ^^^^ W293
297 |     # =========================================================================
298 |     # MODEL MANAGEMENT
    |
    = help: Remove whitespace from blank line

services\llm.py:300:1: W293 [*] Blank line contains whitespace
    |
298 |     # MODEL MANAGEMENT
299 |     # =========================================================================
300 |     
    | ^^^^ W293
301 |     def get_models(self) -> List[Dict[str, Any]]:
302 |         """
    |
    = help: Remove whitespace from blank line

services\llm.py:301:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
299 |     # =========================================================================
300 |     
301 |     def get_models(self) -> List[Dict[str, Any]]:
    |                             ^^^^ UP006
302 |         """
303 |         Get available models from Ollama.
    |
    = help: Replace with `list`

services\llm.py:301:34: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
299 |     # =========================================================================
300 |     
301 |     def get_models(self) -> List[Dict[str, Any]]:
    |                                  ^^^^ UP006
302 |         """
303 |         Get available models from Ollama.
    |
    = help: Replace with `dict`

services\llm.py:304:1: W293 Blank line contains whitespace
    |
302 |         """
303 |         Get available models from Ollama.
304 |         
    | ^^^^^^^^ W293
305 |         Returns:
306 |             List of model dictionaries with id, name, size info
    |
    = help: Remove whitespace from blank line

services\llm.py:310:1: W293 [*] Blank line contains whitespace
    |
308 |         if not self._plugin:
309 |             return []
310 |         
    | ^^^^^^^^ W293
311 |         return [
312 |             {
    |
    = help: Remove whitespace from blank line

services\llm.py:320:1: W293 [*] Blank line contains whitespace
    |
318 |             for m in self._plugin.get_models()
319 |         ]
320 |     
    | ^^^^ W293
321 |     def set_model(self, model_id: str) -> None:
322 |         """
    |
    = help: Remove whitespace from blank line

services\llm.py:324:1: W293 Blank line contains whitespace
    |
322 |         """
323 |         Set the active model.
324 |         
    | ^^^^^^^^ W293
325 |         Args:
326 |             model_id: Model ID (e.g., "llama3.2:3b")
    |
    = help: Remove whitespace from blank line

services\llm.py:331:1: W293 [*] Blank line contains whitespace
    |
329 |         if self._plugin:
330 |             self._plugin.set_model(model_id)
331 |     
    | ^^^^ W293
332 |     async def refresh_models(self) -> List[Dict[str, Any]]:
333 |         """
    |
    = help: Remove whitespace from blank line

services\llm.py:332:39: UP006 [*] Use `list` instead of `List` for type annotation
    |
330 |             self._plugin.set_model(model_id)
331 |     
332 |     async def refresh_models(self) -> List[Dict[str, Any]]:
    |                                       ^^^^ UP006
333 |         """
334 |         Refresh the list of available models from Ollama.
    |
    = help: Replace with `list`

services\llm.py:332:44: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
330 |             self._plugin.set_model(model_id)
331 |     
332 |     async def refresh_models(self) -> List[Dict[str, Any]]:
    |                                            ^^^^ UP006
333 |         """
334 |         Refresh the list of available models from Ollama.
    |
    = help: Replace with `dict`

services\llm.py:335:1: W293 Blank line contains whitespace
    |
333 |         """
334 |         Refresh the list of available models from Ollama.
335 |         
    | ^^^^^^^^ W293
336 |         Returns:
337 |             Updated list of models
    |
    = help: Remove whitespace from blank line

services\llm.py:342:1: W293 [*] Blank line contains whitespace
    |
340 |         await self._plugin._refresh_models()
341 |         return self.get_models()
342 |     
    | ^^^^ W293
343 |     # =========================================================================
344 |     # PROPERTIES
    |
    = help: Remove whitespace from blank line

services\llm.py:346:1: W293 [*] Blank line contains whitespace
    |
344 |     # PROPERTIES
345 |     # =========================================================================
346 |     
    | ^^^^ W293
347 |     @property
348 |     def is_initialized(self) -> bool:
    |
    = help: Remove whitespace from blank line

services\llm.py:351:1: W293 [*] Blank line contains whitespace
    |
349 |         """Check if service is initialized."""
350 |         return self._initialized
351 |     
    | ^^^^ W293
352 |     @property
353 |     def current_model(self) -> Optional[str]:
    |
    = help: Remove whitespace from blank line

services\llm.py:353:32: UP007 [*] Use `X | Y` for type annotations
    |
352 |     @property
353 |     def current_model(self) -> Optional[str]:
    |                                ^^^^^^^^^^^^^ UP007
354 |         """Get current model ID."""
355 |         return self._model
    |
    = help: Convert to `X | Y`

services\llm.py:356:1: W293 [*] Blank line contains whitespace
    |
354 |         """Get current model ID."""
355 |         return self._model
356 |     
    | ^^^^ W293
357 |     @property
358 |     def is_ollama_running(self) -> bool:
    |
    = help: Remove whitespace from blank line

services\voice.py:11:1: W293 Blank line contains whitespace
   |
 9 | Usage:
10 |     from services.voice import VoiceService
11 |     
   | ^^^^ W293
12 |     # Simple one-liner usage
13 |     voice = VoiceService()
   |
   = help: Remove whitespace from blank line

services\voice.py:16:1: W293 Blank line contains whitespace
   |
14 |     audio = await voice.speak("Hello, how can I help you?")
15 |     text = await voice.listen(audio_bytes)
16 |     
   | ^^^^ W293
17 |     # Or use context manager for automatic cleanup
18 |     async with VoiceService() as voice:
   |
   = help: Remove whitespace from blank line

services\voice.py:23:1: I001 [*] Import block is un-sorted or un-formatted
   |
21 |   """
22 |
23 | / import asyncio
24 | | from typing import Optional, List, Dict, Any, Union
25 | | from pathlib import Path
   | |________________________^ I001
   |
   = help: Organize imports

services\voice.py:23:8: F401 [*] `asyncio` imported but unused
   |
21 | """
22 |
23 | import asyncio
   |        ^^^^^^^ F401
24 | from typing import Optional, List, Dict, Any, Union
25 | from pathlib import Path
   |
   = help: Remove unused import: `asyncio`

services\voice.py:24:1: UP035 `typing.List` is deprecated, use `list` instead
   |
23 | import asyncio
24 | from typing import Optional, List, Dict, Any, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 | from pathlib import Path
   |

services\voice.py:24:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
23 | import asyncio
24 | from typing import Optional, List, Dict, Any, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
25 | from pathlib import Path
   |

services\voice.py:31:1: W293 Blank line contains whitespace
   |
29 |     """
30 |     High-level facade for TTS and STT operations.
31 |     
   | ^^^^ W293
32 |     Automatically discovers, loads, and manages TTS/STT plugins.
33 |     Provides simple speak() and listen() methods for AI agents.
   |
   = help: Remove whitespace from blank line

services\voice.py:34:1: W293 Blank line contains whitespace
   |
32 |     Automatically discovers, loads, and manages TTS/STT plugins.
33 |     Provides simple speak() and listen() methods for AI agents.
34 |     
   | ^^^^ W293
35 |     Attributes:
36 |         tts_voice: Current TTS voice ID
   |
   = help: Remove whitespace from blank line

services\voice.py:40:1: W293 [*] Blank line contains whitespace
   |
38 |         auto_cleanup: Whether to cleanup on shutdown
39 |     """
40 |     
   | ^^^^ W293
41 |     def __init__(
42 |         self,
   |
   = help: Remove whitespace from blank line

services\voice.py:51:1: W293 Blank line contains whitespace
   |
49 |         """
50 |         Initialize the Voice Service.
51 |         
   | ^^^^^^^^ W293
52 |         Args:
53 |             tts_voice: Default TTS voice ID (e.g., "af_heart")
   |
   = help: Remove whitespace from blank line

services\voice.py:67:1: W293 [*] Blank line contains whitespace
   |
65 |         self._auto_init = auto_init
66 |         self._initialized = False
67 |     
   | ^^^^ W293
68 |     async def __aenter__(self):
69 |         """Async context manager entry."""
   |
   = help: Remove whitespace from blank line

services\voice.py:72:1: W293 [*] Blank line contains whitespace
   |
70 |         await self.initialize()
71 |         return self
72 |     
   | ^^^^ W293
73 |     async def __aexit__(self, exc_type, exc_val, exc_tb):
74 |         """Async context manager exit with cleanup."""
   |
   = help: Remove whitespace from blank line

services\voice.py:77:1: W293 [*] Blank line contains whitespace
   |
75 |         await self.shutdown()
76 |         return False
77 |     
   | ^^^^ W293
78 |     async def initialize(self) -> bool:
79 |         """
   |
   = help: Remove whitespace from blank line

services\voice.py:81:1: W293 Blank line contains whitespace
   |
79 |         """
80 |         Initialize TTS and STT plugins.
81 |         
   | ^^^^^^^^ W293
82 |         Returns:
83 |             True if both plugins initialized successfully.
   |
   = help: Remove whitespace from blank line

services\voice.py:87:1: W293 [*] Blank line contains whitespace
   |
85 |         if self._initialized:
86 |             return True
87 |         
   | ^^^^^^^^ W293
88 |         # Import and initialize TTS
89 |         from plugins.tts_kokoro.plugin import KokoroTTSPlugin
   |
   = help: Remove whitespace from blank line

services\voice.py:97:1: W293 [*] Blank line contains whitespace
   |
95 |             "speed": 1.0
96 |         })
97 |         
   | ^^^^^^^^ W293
98 |         # Import and initialize STT
99 |         from plugins.stt_whisper.plugin import WhisperSTTPlugin
   |
   = help: Remove whitespace from blank line

services\voice.py:109:1: W293 [*] Blank line contains whitespace
    |
107 |             "vad_filter": True
108 |         })
109 |         
    | ^^^^^^^^ W293
110 |         self._initialized = True
111 |         return True
    |
    = help: Remove whitespace from blank line

services\voice.py:112:1: W293 [*] Blank line contains whitespace
    |
110 |         self._initialized = True
111 |         return True
112 |     
    | ^^^^ W293
113 |     async def shutdown(self) -> None:
114 |         """Shutdown and cleanup plugins."""
    |
    = help: Remove whitespace from blank line

services\voice.py:118:1: W293 [*] Blank line contains whitespace
    |
116 |             await self._tts_plugin.shutdown()
117 |             self._tts_plugin = None
118 |         
    | ^^^^^^^^ W293
119 |         if self._stt_plugin:
120 |             await self._stt_plugin.shutdown()
    |
    = help: Remove whitespace from blank line

services\voice.py:122:1: W293 [*] Blank line contains whitespace
    |
120 |             await self._stt_plugin.shutdown()
121 |             self._stt_plugin = None
122 |         
    | ^^^^^^^^ W293
123 |         self._initialized = False
    |
    = help: Remove whitespace from blank line

services\voice.py:124:1: W293 [*] Blank line contains whitespace
    |
123 |         self._initialized = False
124 |     
    | ^^^^ W293
125 |     async def _ensure_initialized(self) -> None:
126 |         """Ensure plugins are initialized (lazy loading)."""
    |
    = help: Remove whitespace from blank line

services\voice.py:129:1: W293 [*] Blank line contains whitespace
    |
127 |         if not self._initialized and self._auto_init:
128 |             await self.initialize()
129 |     
    | ^^^^ W293
130 |     # =========================================================================
131 |     # HIGH-LEVEL API - Simple methods for AI agents
    |
    = help: Remove whitespace from blank line

services\voice.py:133:1: W293 [*] Blank line contains whitespace
    |
131 |     # HIGH-LEVEL API - Simple methods for AI agents
132 |     # =========================================================================
133 |     
    | ^^^^ W293
134 |     async def speak(
135 |         self,
    |
    = help: Remove whitespace from blank line

services\voice.py:137:16: UP007 [*] Use `X | Y` for type annotations
    |
135 |         self,
136 |         text: str,
137 |         voice: Optional[str] = None,
    |                ^^^^^^^^^^^^^ UP007
138 |         speed: float = 1.0,
139 |         save_to: Optional[str] = None
    |
    = help: Convert to `X | Y`

services\voice.py:139:18: UP007 [*] Use `X | Y` for type annotations
    |
137 |         voice: Optional[str] = None,
138 |         speed: float = 1.0,
139 |         save_to: Optional[str] = None
    |                  ^^^^^^^^^^^^^ UP007
140 |     ) -> bytes:
141 |         """
    |
    = help: Convert to `X | Y`

services\voice.py:143:1: W293 Blank line contains whitespace
    |
141 |         """
142 |         Convert text to speech audio.
143 |         
    | ^^^^^^^^ W293
144 |         Args:
145 |             text: Text to synthesize
    |
    = help: Remove whitespace from blank line

services\voice.py:149:1: W293 Blank line contains whitespace
    |
147 |             speed: Speech speed multiplier (0.5 to 2.0)
148 |             save_to: Optional file path to save WAV audio
149 |         
    | ^^^^^^^^ W293
150 |         Returns:
151 |             WAV audio bytes
    |
    = help: Remove whitespace from blank line

services\voice.py:152:1: W293 Blank line contains whitespace
    |
150 |         Returns:
151 |             WAV audio bytes
152 |         
    | ^^^^^^^^ W293
153 |         Example:
154 |             audio = await voice.speak("Hello, world!")
    |
    = help: Remove whitespace from blank line

services\voice.py:158:1: W293 [*] Blank line contains whitespace
    |
156 |         """
157 |         await self._ensure_initialized()
158 |         
    | ^^^^^^^^ W293
159 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
    |
    = help: Remove whitespace from blank line

services\voice.py:159:9: I001 [*] Import block is un-sorted or un-formatted
    |
157 |         await self._ensure_initialized()
158 |         
159 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
160 |         
161 |         options = SynthesisOptions(
    |
    = help: Organize imports

services\voice.py:160:1: W293 [*] Blank line contains whitespace
    |
159 |         from contracts.tts_contract import SynthesisOptions, AudioFormat
160 |         
    | ^^^^^^^^ W293
161 |         options = SynthesisOptions(
162 |             speed=speed,
    |
    = help: Remove whitespace from blank line

services\voice.py:165:1: W293 [*] Blank line contains whitespace
    |
163 |             format=AudioFormat.WAV
164 |         )
165 |         
    | ^^^^^^^^ W293
166 |         result = await self._tts_plugin.synthesize(
167 |             text,
    |
    = help: Remove whitespace from blank line

services\voice.py:171:1: W293 [*] Blank line contains whitespace
    |
169 |             options=options
170 |         )
171 |         
    | ^^^^^^^^ W293
172 |         if save_to:
173 |             Path(save_to).write_bytes(result.audio_data)
    |
    = help: Remove whitespace from blank line

services\voice.py:174:1: W293 [*] Blank line contains whitespace
    |
172 |         if save_to:
173 |             Path(save_to).write_bytes(result.audio_data)
174 |         
    | ^^^^^^^^ W293
175 |         return result.audio_data
    |
    = help: Remove whitespace from blank line

services\voice.py:176:1: W293 [*] Blank line contains whitespace
    |
175 |         return result.audio_data
176 |     
    | ^^^^ W293
177 |     async def listen(
178 |         self,
    |
    = help: Remove whitespace from blank line

services\voice.py:179:16: UP007 [*] Use `X | Y` for type annotations
    |
177 |     async def listen(
178 |         self,
179 |         audio: Union[bytes, str],
    |                ^^^^^^^^^^^^^^^^^ UP007
180 |         language: Optional[str] = None,
181 |         translate: bool = False,
    |
    = help: Convert to `X | Y`

services\voice.py:180:19: UP007 [*] Use `X | Y` for type annotations
    |
178 |         self,
179 |         audio: Union[bytes, str],
180 |         language: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
181 |         translate: bool = False,
182 |         word_timestamps: bool = False
    |
    = help: Convert to `X | Y`

services\voice.py:186:1: W293 Blank line contains whitespace
    |
184 |         """
185 |         Transcribe speech audio to text.
186 |         
    | ^^^^^^^^ W293
187 |         Args:
188 |             audio: WAV audio bytes or path to audio file
    |
    = help: Remove whitespace from blank line

services\voice.py:192:1: W293 Blank line contains whitespace
    |
190 |             translate: If True, translate to English
191 |             word_timestamps: If True, include word-level timing
192 |         
    | ^^^^^^^^ W293
193 |         Returns:
194 |             Transcribed text
    |
    = help: Remove whitespace from blank line

services\voice.py:195:1: W293 Blank line contains whitespace
    |
193 |         Returns:
194 |             Transcribed text
195 |         
    | ^^^^^^^^ W293
196 |         Example:
197 |             text = await voice.listen(audio_bytes)
    |
    = help: Remove whitespace from blank line

services\voice.py:202:1: W293 [*] Blank line contains whitespace
    |
200 |         """
201 |         await self._ensure_initialized()
202 |         
    | ^^^^^^^^ W293
203 |         # Load audio from file if path provided
204 |         if isinstance(audio, str):
    |
    = help: Remove whitespace from blank line

services\voice.py:206:1: W293 [*] Blank line contains whitespace
    |
204 |         if isinstance(audio, str):
205 |             audio = Path(audio).read_bytes()
206 |         
    | ^^^^^^^^ W293
207 |         from contracts.stt_contract import TranscriptionOptions
    |
    = help: Remove whitespace from blank line

services\voice.py:208:1: W293 [*] Blank line contains whitespace
    |
207 |         from contracts.stt_contract import TranscriptionOptions
208 |         
    | ^^^^^^^^ W293
209 |         options = TranscriptionOptions(
210 |             language=language,
    |
    = help: Remove whitespace from blank line

services\voice.py:214:1: W293 [*] Blank line contains whitespace
    |
212 |             word_timestamps=word_timestamps
213 |         )
214 |         
    | ^^^^^^^^ W293
215 |         result = await self._stt_plugin.transcribe(audio, options)
216 |         return result.text
    |
    = help: Remove whitespace from blank line

services\voice.py:217:1: W293 [*] Blank line contains whitespace
    |
215 |         result = await self._stt_plugin.transcribe(audio, options)
216 |         return result.text
217 |     
    | ^^^^ W293
218 |     async def listen_detailed(
219 |         self,
    |
    = help: Remove whitespace from blank line

services\voice.py:220:16: UP007 [*] Use `X | Y` for type annotations
    |
218 |     async def listen_detailed(
219 |         self,
220 |         audio: Union[bytes, str],
    |                ^^^^^^^^^^^^^^^^^ UP007
221 |         language: Optional[str] = None,
222 |         translate: bool = False
    |
    = help: Convert to `X | Y`

services\voice.py:221:19: UP007 [*] Use `X | Y` for type annotations
    |
219 |         self,
220 |         audio: Union[bytes, str],
221 |         language: Optional[str] = None,
    |                   ^^^^^^^^^^^^^ UP007
222 |         translate: bool = False
223 |     ) -> Dict[str, Any]:
    |
    = help: Convert to `X | Y`

services\voice.py:223:10: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
221 |         language: Optional[str] = None,
222 |         translate: bool = False
223 |     ) -> Dict[str, Any]:
    |          ^^^^ UP006
224 |         """
225 |         Transcribe with detailed information.
    |
    = help: Replace with `dict`

services\voice.py:226:1: W293 Blank line contains whitespace
    |
224 |         """
225 |         Transcribe with detailed information.
226 |         
    | ^^^^^^^^ W293
227 |         Args:
228 |             audio: WAV audio bytes or path to audio file
    |
    = help: Remove whitespace from blank line

services\voice.py:231:1: W293 Blank line contains whitespace
    |
229 |             language: Language code (auto-detect if None)
230 |             translate: If True, translate to English
231 |         
    | ^^^^^^^^ W293
232 |         Returns:
233 |             Dict with text, language, duration, segments
    |
    = help: Remove whitespace from blank line

services\voice.py:234:1: W293 Blank line contains whitespace
    |
232 |         Returns:
233 |             Dict with text, language, duration, segments
234 |         
    | ^^^^^^^^ W293
235 |         Example:
236 |             result = await voice.listen_detailed(audio)
    |
    = help: Remove whitespace from blank line

services\voice.py:242:1: W293 [*] Blank line contains whitespace
    |
240 |         """
241 |         await self._ensure_initialized()
242 |         
    | ^^^^^^^^ W293
243 |         if isinstance(audio, str):
244 |             audio = Path(audio).read_bytes()
    |
    = help: Remove whitespace from blank line

services\voice.py:245:1: W293 [*] Blank line contains whitespace
    |
243 |         if isinstance(audio, str):
244 |             audio = Path(audio).read_bytes()
245 |         
    | ^^^^^^^^ W293
246 |         from contracts.stt_contract import TranscriptionOptions
    |
    = help: Remove whitespace from blank line

services\voice.py:247:1: W293 [*] Blank line contains whitespace
    |
246 |         from contracts.stt_contract import TranscriptionOptions
247 |         
    | ^^^^^^^^ W293
248 |         options = TranscriptionOptions(
249 |             language=language,
    |
    = help: Remove whitespace from blank line

services\voice.py:253:1: W293 [*] Blank line contains whitespace
    |
251 |             word_timestamps=True
252 |         )
253 |         
    | ^^^^^^^^ W293
254 |         result = await self._stt_plugin.transcribe(audio, options)
    |
    = help: Remove whitespace from blank line

services\voice.py:255:1: W293 [*] Blank line contains whitespace
    |
254 |         result = await self._stt_plugin.transcribe(audio, options)
255 |         
    | ^^^^^^^^ W293
256 |         return {
257 |             "text": result.text,
    |
    = help: Remove whitespace from blank line

services\voice.py:270:1: W293 [*] Blank line contains whitespace
    |
268 |             ]
269 |         }
270 |     
    | ^^^^ W293
271 |     async def conversation(
272 |         self,
    |
    = help: Remove whitespace from blank line

services\voice.py:274:16: UP007 [*] Use `X | Y` for type annotations
    |
272 |         self,
273 |         prompt: str,
274 |         voice: Optional[str] = None
    |                ^^^^^^^^^^^^^ UP007
275 |     ) -> bytes:
276 |         """
    |
    = help: Convert to `X | Y`

services\voice.py:278:1: W293 Blank line contains whitespace
    |
276 |         """
277 |         Alias for speak() for more natural conversation flow.
278 |         
    | ^^^^^^^^ W293
279 |         Args:
280 |             prompt: Text to speak
    |
    = help: Remove whitespace from blank line

services\voice.py:282:1: W293 Blank line contains whitespace
    |
280 |             prompt: Text to speak
281 |             voice: Voice ID (uses default if None)
282 |         
    | ^^^^^^^^ W293
283 |         Returns:
284 |             WAV audio bytes
    |
    = help: Remove whitespace from blank line

services\voice.py:287:1: W293 [*] Blank line contains whitespace
    |
285 |         """
286 |         return await self.speak(prompt, voice=voice)
287 |     
    | ^^^^ W293
288 |     # =========================================================================
289 |     # UTILITY METHODS
    |
    = help: Remove whitespace from blank line

services\voice.py:291:1: W293 [*] Blank line contains whitespace
    |
289 |     # UTILITY METHODS
290 |     # =========================================================================
291 |     
    | ^^^^ W293
292 |     def get_voices(self) -> List[Dict[str, str]]:
293 |         """
    |
    = help: Remove whitespace from blank line

services\voice.py:292:29: UP006 [*] Use `list` instead of `List` for type annotation
    |
290 |     # =========================================================================
291 |     
292 |     def get_voices(self) -> List[Dict[str, str]]:
    |                             ^^^^ UP006
293 |         """
294 |         Get available TTS voices.
    |
    = help: Replace with `list`

services\voice.py:292:34: UP006 [*] Use `dict` instead of `Dict` for type annotation
    |
290 |     # =========================================================================
291 |     
292 |     def get_voices(self) -> List[Dict[str, str]]:
    |                                  ^^^^ UP006
293 |         """
294 |         Get available TTS voices.
    |
    = help: Replace with `dict`

services\voice.py:295:1: W293 Blank line contains whitespace
    |
293 |         """
294 |         Get available TTS voices.
295 |         
    | ^^^^^^^^ W293
296 |         Returns:
297 |             List of voice dictionaries with id, name, language, gender
    |
    = help: Remove whitespace from blank line

services\voice.py:301:1: W293 [*] Blank line contains whitespace
    |
299 |         if not self._tts_plugin:
300 |             return []
301 |         
    | ^^^^^^^^ W293
302 |         return [
303 |             {
    |
    = help: Remove whitespace from blank line

services\voice.py:311:1: W293 [*] Blank line contains whitespace
    |
309 |             for v in self._tts_plugin.get_voices()
310 |         ]
311 |     
    | ^^^^ W293
312 |     def set_voice(self, voice_id: str) -> None:
313 |         """Set the default TTS voice."""
    |
    = help: Remove whitespace from blank line

services\voice.py:317:1: W293 [*] Blank line contains whitespace
    |
315 |         if self._tts_plugin:
316 |             self._tts_plugin.set_voice(voice_id)
317 |     
    | ^^^^ W293
318 |     def set_stt_model(self, model_size: str) -> None:
319 |         """
    |
    = help: Remove whitespace from blank line

services\voice.py:321:1: W293 Blank line contains whitespace
    |
319 |         """
320 |         Set the STT model size.
321 |         
    | ^^^^^^^^ W293
322 |         Note: Requires re-initialization to take effect.
323 |         """
    |
    = help: Remove whitespace from blank line

services\voice.py:325:1: W293 [*] Blank line contains whitespace
    |
323 |         """
324 |         self._stt_model = model_size
325 |     
    | ^^^^ W293
326 |     @property
327 |     def is_initialized(self) -> bool:
    |
    = help: Remove whitespace from blank line

services\voice.py:330:1: W293 [*] Blank line contains whitespace
    |
328 |         """Check if service is initialized."""
329 |         return self._initialized
330 |     
    | ^^^^ W293
331 |     @property
332 |     def tts_device(self) -> Optional[str]:
    |
    = help: Remove whitespace from blank line

services\voice.py:332:29: UP007 [*] Use `X | Y` for type annotations
    |
331 |     @property
332 |     def tts_device(self) -> Optional[str]:
    |                             ^^^^^^^^^^^^^ UP007
333 |         """Get TTS device in use."""
334 |         if self._tts_plugin:
    |
    = help: Convert to `X | Y`

services\voice.py:337:1: W293 [*] Blank line contains whitespace
    |
335 |             return self._tts_plugin._device
336 |         return None
337 |     
    | ^^^^ W293
338 |     @property
339 |     def stt_device(self) -> Optional[str]:
    |
    = help: Remove whitespace from blank line

services\voice.py:339:29: UP007 [*] Use `X | Y` for type annotations
    |
338 |     @property
339 |     def stt_device(self) -> Optional[str]:
    |                             ^^^^^^^^^^^^^ UP007
340 |         """Get STT device in use."""
341 |         if self._stt_plugin:
    |
    = help: Convert to `X | Y`

skills\ppf_build_application\config.py:29:68: W292 [*] No newline at end of file
   |
27 | # Example: Set PPF_BUILD_CMD="yarn tauri build"
28 | if os.environ.get('PPF_BUILD_CMD'):
29 |     BUILD_CONFIG['build_cmd'] = os.environ['PPF_BUILD_CMD'].split()
   |                                                                    ^ W292
   |
   = help: Add trailing newline

skills\ppf_build_application\executor.py:6:1: I001 [*] Import block is un-sorted or un-formatted
   |
 4 |   """
 5 |
 6 | / import sys
 7 | | import os
 8 | | import subprocess
 9 | | import json
10 | | import logging
11 | | import glob
12 | |
13 | | from env_preflight import run_preflight_env_check
14 | | from path_risk import check_path_length_risk
15 | | from env_detection import detect_windows_native_environment
16 | | from runtime_bundler import build_runtime_bundle
   | |________________________________________________^ I001
17 |
18 |   # Configure Logging
   |
   = help: Organize imports

skills\ppf_build_application\executor.py:28:1: W293 [*] Blank line contains whitespace
   |
26 |     current = os.path.dirname(os.path.abspath(__file__))
27 |     root = os.path.dirname(os.path.dirname(current))
28 |     
   | ^^^^ W293
29 |     if os.path.exists(os.path.join(root, "src-tauri")):
30 |         return root
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:31:1: W293 [*] Blank line contains whitespace
   |
29 |     if os.path.exists(os.path.join(root, "src-tauri")):
30 |         return root
31 |     
   | ^^^^ W293
32 |     # Fallback: Check current working directory
33 |     cwd = os.getcwd()
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:36:1: W293 [*] Blank line contains whitespace
   |
34 |     if os.path.exists(os.path.join(cwd, "src-tauri")):
35 |         return cwd
36 |         
   | ^^^^^^^^ W293
37 |     return None
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:42:1: W293 [*] Blank line contains whitespace
   |
40 |     """Ensures the bundle identifier is not the default."""
41 |     conf_path = os.path.join(root_path, "src-tauri", "tauri.conf.json")
42 |     
   | ^^^^ W293
43 |     try:
44 |         with open(conf_path, 'r') as f:
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:44:14: UP015 [*] Unnecessary open mode parameters
   |
43 |     try:
44 |         with open(conf_path, 'r') as f:
   |              ^^^^^^^^^^^^^^^^^^^^ UP015
45 |             conf = json.load(f)
   |
   = help: Remove open mode parameters

skills\ppf_build_application\executor.py:46:1: W293 [*] Blank line contains whitespace
   |
44 |         with open(conf_path, 'r') as f:
45 |             conf = json.load(f)
46 |             
   | ^^^^^^^^^^^^ W293
47 |         identifier = conf.get('tauri', {}).get('bundle', {}).get('identifier', '')
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:48:1: W293 [*] Blank line contains whitespace
   |
47 |         identifier = conf.get('tauri', {}).get('bundle', {}).get('identifier', '')
48 |         
   | ^^^^^^^^ W293
49 |         if identifier == "com.tauri.dev":
50 |             return {
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:51:32: W291 [*] Trailing whitespace
   |
49 |         if identifier == "com.tauri.dev":
50 |             return {
51 |                 "valid": False, 
   |                                ^ W291
52 |                 "error": "Bundle Identifier is still 'com.tauri.dev'. Please change it in src-tauri/tauri.conf.json before building."
53 |             }
   |
   = help: Remove trailing whitespace

skills\ppf_build_application\executor.py:54:1: W293 [*] Blank line contains whitespace
   |
52 |                 "error": "Bundle Identifier is still 'com.tauri.dev'. Please change it in src-tauri/tauri.conf.json before building."
53 |             }
54 |             
   | ^^^^^^^^^^^^ W293
55 |         return {"valid": True}
56 |     except Exception as e:
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:62:1: W293 [*] Blank line contains whitespace
   |
60 |     """Locates the generated installers."""
61 |     release_dir = os.path.join(root_path, "src-tauri", "target", "release", "bundle")
62 |     
   | ^^^^ W293
63 |     artifacts = {
64 |         "msi": [],
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:67:1: W293 [*] Blank line contains whitespace
   |
65 |         "nsis": [] # .exe setup files
66 |     }
67 |     
   | ^^^^ W293
68 |     # Check MSI
69 |     msi_path = os.path.join(release_dir, "msi", "*.msi")
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:71:1: W293 [*] Blank line contains whitespace
   |
69 |     msi_path = os.path.join(release_dir, "msi", "*.msi")
70 |     artifacts["msi"] = glob.glob(msi_path)
71 |     
   | ^^^^ W293
72 |     # Check NSIS (Exe)
73 |     nsis_path = os.path.join(release_dir, "nsis", "*.exe")
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:75:1: W293 [*] Blank line contains whitespace
   |
73 |     nsis_path = os.path.join(release_dir, "nsis", "*.exe")
74 |     artifacts["nsis"] = glob.glob(nsis_path)
75 |     
   | ^^^^ W293
76 |     return artifacts
   |
   = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:146:1: W293 [*] Blank line contains whitespace
    |
144 |     except Exception as e:
145 |         return {"success": False, "error": f"Failed to execute build command: {e}"}
146 |     
    | ^^^^ W293
147 |     # 3. Locate Artifacts
148 |     artifacts = find_artifacts(root_path)
    |
    = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:149:1: W293 [*] Blank line contains whitespace
    |
147 |     # 3. Locate Artifacts
148 |     artifacts = find_artifacts(root_path)
149 |     
    | ^^^^ W293
150 |     found_paths = []
151 |     found_paths.extend(artifacts['msi'])
    |
    = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:153:1: W293 [*] Blank line contains whitespace
    |
151 |     found_paths.extend(artifacts['msi'])
152 |     found_paths.extend(artifacts['nsis'])
153 |     
    | ^^^^ W293
154 |     if not found_paths:
155 |         return {"success": False, "error": "Build finished but no artifacts found."}
    |
    = help: Remove whitespace from blank line

skills\ppf_build_application\executor.py:156:1: W293 [*] Blank line contains whitespace
    |
154 |     if not found_paths:
155 |         return {"success": False, "error": "Build finished but no artifacts found."}
156 |         
    | ^^^^^^^^ W293
157 |     return {
158 |         "success": True,
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\audio_neutrality.py:12:1: I001 [*] Import block is un-sorted or un-formatted
   |
10 |   """
11 |
12 | / from __future__ import annotations
13 | |
14 | | from dataclasses import dataclass
15 | | from pathlib import Path
16 | | from typing import Dict, Iterable, List, Optional
   | |_________________________________________________^ I001
   |
   = help: Organize imports

skills\ppf_create_application\audio_neutrality.py:16:1: UP035 [*] Import from `collections.abc` instead: `Iterable`
   |
14 | from dataclasses import dataclass
15 | from pathlib import Path
16 | from typing import Dict, Iterable, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |
   = help: Import from `collections.abc`

skills\ppf_create_application\audio_neutrality.py:16:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
14 | from dataclasses import dataclass
15 | from pathlib import Path
16 | from typing import Dict, Iterable, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |

skills\ppf_create_application\audio_neutrality.py:16:1: UP035 `typing.List` is deprecated, use `list` instead
   |
14 | from dataclasses import dataclass
15 | from pathlib import Path
16 | from typing import Dict, Iterable, List, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
   |

skills\ppf_create_application\audio_neutrality.py:16:42: F401 [*] `typing.Optional` imported but unused
   |
14 | from dataclasses import dataclass
15 | from pathlib import Path
16 | from typing import Dict, Iterable, List, Optional
   |                                          ^^^^^^^^ F401
   |
   = help: Remove unused import: `typing.Optional`

skills\ppf_create_application\audio_neutrality.py:19:21: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
19 | AudioIntentTokens = Dict[str, List[str]]
   |                     ^^^^ UP006
   |
   = help: Replace with `dict`

skills\ppf_create_application\audio_neutrality.py:19:31: UP006 [*] Use `list` instead of `List` for type annotation
   |
19 | AudioIntentTokens = Dict[str, List[str]]
   |                               ^^^^ UP006
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:31:19: UP006 [*] Use `list` instead of `List` for type annotation
   |
30 | # Tokens that are ambiguous and should not, by themselves, flip audio_intent.
31 | AMBIGUOUS_TOKENS: List[str] = [
   |                   ^^^^ UP006
32 |     "assistant",
33 |     "respond",
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:45:14: UP006 [*] Use `list` instead of `List` for type annotation
   |
43 |     audio_intent: bool
44 |     reason: str
45 |     matches: List[str]
   |              ^^^^ UP006
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:58:14: UP006 [*] Use `list` instead of `List` for type annotation
   |
56 |     """
57 |     text = prompt.lower()
58 |     matches: List[str] = []
   |              ^^^^ UP006
59 |
60 |     for category, tokens in EXPLICIT_AUDIO_TOKENS.items():
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:60:9: B007 Loop control variable `category` not used within loop body
   |
58 |     matches: List[str] = []
59 |
60 |     for category, tokens in EXPLICIT_AUDIO_TOKENS.items():
   |         ^^^^^^^^ B007
61 |         for token in tokens:
62 |             if token in text:
   |
   = help: Rename unused `category` to `_category`

skills\ppf_create_application\audio_neutrality.py:90:17: UP006 [*] Use `list` instead of `List` for type annotation
   |
88 | class AudioUiValidationResult:
89 |     ok: bool
90 |     violations: List[AudioUiViolation]
   |                 ^^^^ UP006
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:94:21: UP006 [*] Use `list` instead of `List` for type annotation
   |
93 | # Simple blocklist for obvious audio-UI patterns in React/MUI code.
94 | BLOCKLIST_PATTERNS: List[str] = [
   |                     ^^^^ UP006
95 |     # MUI icons commonly used for audio/microphone controls
96 |     "MicIcon",
   |
   = help: Replace with `list`

skills\ppf_create_application\audio_neutrality.py:133:17: UP006 [*] Use `list` instead of `List` for type annotation
    |
131 |         return AudioUiValidationResult(ok=True, violations=[])
132 |
133 |     violations: List[AudioUiViolation] = []
    |                 ^^^^ UP006
134 |
135 |     for file_path in files:
    |
    = help: Replace with `list`

skills\ppf_create_application\config.py:16:22: W291 Trailing whitespace
   |
15 |   const dispatch = useCallback(async <T>(
16 |     pluginId: string, 
   |                      ^ W291
17 |     method: string, 
18 |     payload: Record<string, any> = {}
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\config.py:17:20: W291 Trailing whitespace
   |
15 |   const dispatch = useCallback(async <T>(
16 |     pluginId: string, 
17 |     method: string, 
   |                    ^ W291
18 |     payload: Record<string, any> = {}
19 |   ): Promise<T | null> => {
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\config.py:51:21: W291 Trailing whitespace
   |
50 | export const useUniversalEvent = <T>(
51 |   eventName: string, 
   |                     ^ W291
52 |   callback: (payload: T) => void
53 | ) => {
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\config.py:228:1: W293 Blank line contains whitespace
    |
226 | export const {AppName}: React.FC = () => {
227 |   const { dispatch, loading } = useUniversalDispatch();
228 |   
    | ^^ W293
229 |   return (
230 |     <DraggableWindow id="{app_id}" title="{AppName}" defaultWidth={900} defaultHeight={700}>
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:7:1: I001 [*] Import block is un-sorted or un-formatted
   |
 5 |   """
 6 |
 7 | / import sys
 8 | | import os
 9 | | import subprocess
10 | | import json
11 | | import logging
12 | | import glob
   | |___________^ I001
13 |
14 |   # Configure Logging
   |
   = help: Organize imports

skills\ppf_create_application\executor.py:22:1: W293 [*] Blank line contains whitespace
   |
20 |     current = os.path.dirname(os.path.abspath(__file__))
21 |     root = os.path.dirname(os.path.dirname(current))
22 |     
   | ^^^^ W293
23 |     if os.path.exists(os.path.join(root, "src-tauri")):
24 |         return root
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:25:1: W293 [*] Blank line contains whitespace
   |
23 |     if os.path.exists(os.path.join(root, "src-tauri")):
24 |         return root
25 |     
   | ^^^^ W293
26 |     cwd = os.getcwd()
27 |     if os.path.exists(os.path.join(cwd, "src-tauri")):
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:29:1: W293 [*] Blank line contains whitespace
   |
27 |     if os.path.exists(os.path.join(cwd, "src-tauri")):
28 |         return cwd
29 |         
   | ^^^^^^^^ W293
30 |     return None
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:35:1: W293 [*] Blank line contains whitespace
   |
33 |     """Ensures the bundle identifier is not the default."""
34 |     conf_path = os.path.join(root_path, "src-tauri", "tauri.conf.json")
35 |     
   | ^^^^ W293
36 |     try:
37 |         with open(conf_path, 'r') as f:
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:37:14: UP015 [*] Unnecessary open mode parameters
   |
36 |     try:
37 |         with open(conf_path, 'r') as f:
   |              ^^^^^^^^^^^^^^^^^^^^ UP015
38 |             conf = json.load(f)
   |
   = help: Remove open mode parameters

skills\ppf_create_application\executor.py:39:1: W293 [*] Blank line contains whitespace
   |
37 |         with open(conf_path, 'r') as f:
38 |             conf = json.load(f)
39 |             
   | ^^^^^^^^^^^^ W293
40 |         identifier = conf.get('tauri', {}).get('bundle', {}).get('identifier', '')
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:41:1: W293 [*] Blank line contains whitespace
   |
40 |         identifier = conf.get('tauri', {}).get('bundle', {}).get('identifier', '')
41 |         
   | ^^^^^^^^ W293
42 |         if identifier == "com.tauri.dev":
43 |             return {
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:44:32: W291 [*] Trailing whitespace
   |
42 |         if identifier == "com.tauri.dev":
43 |             return {
44 |                 "valid": False, 
   |                                ^ W291
45 |                 "error": "Bundle Identifier is still 'com.tauri.dev'. Please change it in src-tauri/tauri.conf.json before building."
46 |             }
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:47:1: W293 [*] Blank line contains whitespace
   |
45 |                 "error": "Bundle Identifier is still 'com.tauri.dev'. Please change it in src-tauri/tauri.conf.json before building."
46 |             }
47 |             
   | ^^^^^^^^^^^^ W293
48 |         return {"valid": True}
49 |     except Exception as e:
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:55:1: W293 [*] Blank line contains whitespace
   |
53 |     """Locates the generated installers."""
54 |     release_dir = os.path.join(root_path, "src-tauri", "target", "release", "bundle")
55 |     
   | ^^^^ W293
56 |     artifacts = {
57 |         "msi": [],
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:60:1: W293 [*] Blank line contains whitespace
   |
58 |         "nsis": []
59 |     }
60 |     
   | ^^^^ W293
61 |     msi_path = os.path.join(release_dir, "msi", "*.msi")
62 |     artifacts["msi"] = glob.glob(msi_path)
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:63:1: W293 [*] Blank line contains whitespace
   |
61 |     msi_path = os.path.join(release_dir, "msi", "*.msi")
62 |     artifacts["msi"] = glob.glob(msi_path)
63 |     
   | ^^^^ W293
64 |     nsis_path = os.path.join(release_dir, "nsis", "*.exe")
65 |     artifacts["nsis"] = glob.glob(nsis_path)
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:66:1: W293 [*] Blank line contains whitespace
   |
64 |     nsis_path = os.path.join(release_dir, "nsis", "*.exe")
65 |     artifacts["nsis"] = glob.glob(nsis_path)
66 |     
   | ^^^^ W293
67 |     return artifacts
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:71:1: W293 [*] Blank line contains whitespace
   |
69 | def build_application():
70 |     """Runs the build process."""
71 |     
   | ^^^^ W293
72 |     # --- STRICT CHECK START ---
73 |     # 1. Check Python Version (Strict 3.11)
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:77:30: W291 [*] Trailing whitespace
   |
75 |     if major != 3 or minor != 11:
76 |         return {
77 |             "success": False, 
   |                              ^ W291
78 |             "error": f"STRICT REQUIREMENT: Python 3.11 is required to build. You are running {major}.{minor}."
79 |         }
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:85:30: W291 [*] Trailing whitespace
   |
83 |     if not is_venv:
84 |         return {
85 |             "success": False, 
   |                              ^ W291
86 |             "error": "STRICT REQUIREMENT: You must be inside a 'venv' virtual environment to build."
87 |         }
   |
   = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:93:1: W293 [*] Blank line contains whitespace
   |
91 |     if not root_path:
92 |         return {"success": False, "error": "Could not find project root (src-tauri not found)."}
93 |     
   | ^^^^ W293
94 |     # 1. Check Identifier
95 |     check = check_bundle_identifier(root_path)
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:98:1: W293 [*] Blank line contains whitespace
   |
96 |     if not check['valid']:
97 |         return {"success": False, "error": check['error']}
98 |     
   | ^^^^ W293
99 |     logger.info("Starting build process... (This may take 5-10 minutes)")
   |
   = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:100:1: W293 [*] Blank line contains whitespace
    |
 99 |     logger.info("Starting build process... (This may take 5-10 minutes)")
100 |     
    | ^^^^ W293
101 |     # 2. Run Build Command
102 |     cmd = ["npm.cmd", "run", "tauri", "build"]
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:103:1: W293 [*] Blank line contains whitespace
    |
101 |     # 2. Run Build Command
102 |     cmd = ["npm.cmd", "run", "tauri", "build"]
103 |     
    | ^^^^ W293
104 |     try:
105 |         process = subprocess.Popen(
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:106:17: W291 [*] Trailing whitespace
    |
104 |     try:
105 |         process = subprocess.Popen(
106 |             cmd, 
    |                 ^ W291
107 |             cwd=root_path, 
108 |             stdout=subprocess.PIPE, 
    |
    = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:107:27: W291 [*] Trailing whitespace
    |
105 |         process = subprocess.Popen(
106 |             cmd, 
107 |             cwd=root_path, 
    |                           ^ W291
108 |             stdout=subprocess.PIPE, 
109 |             stderr=subprocess.STDOUT,
    |
    = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:108:36: W291 [*] Trailing whitespace
    |
106 |             cmd, 
107 |             cwd=root_path, 
108 |             stdout=subprocess.PIPE, 
    |                                    ^ W291
109 |             stderr=subprocess.STDOUT,
110 |             text=True,
    |
    = help: Remove trailing whitespace

skills\ppf_create_application\executor.py:113:1: W293 [*] Blank line contains whitespace
    |
111 |             shell=True
112 |         )
113 |         
    | ^^^^^^^^ W293
114 |         for line in process.stdout:
115 |             print(line, end='')
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:116:1: W293 [*] Blank line contains whitespace
    |
114 |         for line in process.stdout:
115 |             print(line, end='')
116 |             
    | ^^^^^^^^^^^^ W293
117 |         process.wait()
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:118:1: W293 [*] Blank line contains whitespace
    |
117 |         process.wait()
118 |         
    | ^^^^^^^^ W293
119 |         if process.returncode != 0:
120 |             return {"success": False, "error": "Build command failed. Check logs above."}
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:121:1: W293 [*] Blank line contains whitespace
    |
119 |         if process.returncode != 0:
120 |             return {"success": False, "error": "Build command failed. Check logs above."}
121 |             
    | ^^^^^^^^^^^^ W293
122 |     except Exception as e:
123 |         return {"success": False, "error": f"Failed to execute build command: {e}"}
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:124:1: W293 [*] Blank line contains whitespace
    |
122 |     except Exception as e:
123 |         return {"success": False, "error": f"Failed to execute build command: {e}"}
124 |     
    | ^^^^ W293
125 |     # 3. Locate Artifacts
126 |     artifacts = find_artifacts(root_path)
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:127:1: W293 [*] Blank line contains whitespace
    |
125 |     # 3. Locate Artifacts
126 |     artifacts = find_artifacts(root_path)
127 |     
    | ^^^^ W293
128 |     found_paths = []
129 |     found_paths.extend(artifacts['msi'])
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:131:1: W293 [*] Blank line contains whitespace
    |
129 |     found_paths.extend(artifacts['msi'])
130 |     found_paths.extend(artifacts['nsis'])
131 |     
    | ^^^^ W293
132 |     if not found_paths:
133 |         return {"success": False, "error": "Build finished but no artifacts found."}
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:134:1: W293 [*] Blank line contains whitespace
    |
132 |     if not found_paths:
133 |         return {"success": False, "error": "Build finished but no artifacts found."}
134 |         
    | ^^^^^^^^ W293
135 |     return {
136 |         "success": True,
    |
    = help: Remove whitespace from blank line

skills\ppf_create_application\executor.py:148:20: W292 [*] No newline at end of file
    |
146 |     else:
147 |         print(f"\n BUILD FAILED: {result['error']}")
148 |         sys.exit(1)
    |                    ^ W292
    |
    = help: Add trailing newline

skills\ppf_create_plugin\config.py:55:1: W293 Blank line contains whitespace
   |
53 | # -----------------------------------------------------------------------------
54 | class {class_name}Contract(ABC):
55 |     
   | ^^^^ W293
56 |     @abstractmethod
57 |     async def initialize(self, config: Dict[str, Any]) -> bool:
   |
   = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:6:1: I001 [*] Import block is un-sorted or un-formatted
   |
 4 |   """
 5 |
 6 | / import sys
 7 | | import os
 8 | | import json
 9 | | import logging
   | |______________^ I001
10 |
11 |   # Add current directory to sys.path
   |
   = help: Organize imports

skills\ppf_create_plugin\executor.py:8:8: F401 [*] `json` imported but unused
  |
6 | import sys
7 | import os
8 | import json
  |        ^^^^ F401
9 | import logging
  |
  = help: Remove unused import: `json`

skills\ppf_create_plugin\executor.py:16:1: E402 Module level import not at top of file
   |
14 |       sys.path.insert(0, current_dir)
15 |
16 | / from config import (
17 | |     MANIFEST_TEMPLATE, 
18 | |     CONTRACT_TEMPLATE, 
19 | |     PLUGIN_TEMPLATE, 
20 | |     TS_INTERFACE_TEMPLATE,
21 | |     TYPE_MAP
22 | | )
   | |_^ E402
23 |   from heavy_libs import detect_heavy_libraries
   |

skills\ppf_create_plugin\executor.py:16:1: I001 [*] Import block is un-sorted or un-formatted
   |
14 |       sys.path.insert(0, current_dir)
15 |
16 | / from config import (
17 | |     MANIFEST_TEMPLATE, 
18 | |     CONTRACT_TEMPLATE, 
19 | |     PLUGIN_TEMPLATE, 
20 | |     TS_INTERFACE_TEMPLATE,
21 | |     TYPE_MAP
22 | | )
23 | | from heavy_libs import detect_heavy_libraries
   | |_____________________________________________^ I001
24 |
25 |   # Configure Logging
   |
   = help: Organize imports

skills\ppf_create_plugin\executor.py:17:23: W291 [*] Trailing whitespace
   |
16 | from config import (
17 |     MANIFEST_TEMPLATE, 
   |                       ^ W291
18 |     CONTRACT_TEMPLATE, 
19 |     PLUGIN_TEMPLATE, 
   |
   = help: Remove trailing whitespace

skills\ppf_create_plugin\executor.py:18:23: W291 [*] Trailing whitespace
   |
16 | from config import (
17 |     MANIFEST_TEMPLATE, 
18 |     CONTRACT_TEMPLATE, 
   |                       ^ W291
19 |     PLUGIN_TEMPLATE, 
20 |     TS_INTERFACE_TEMPLATE,
   |
   = help: Remove trailing whitespace

skills\ppf_create_plugin\executor.py:19:21: W291 [*] Trailing whitespace
   |
17 |     MANIFEST_TEMPLATE, 
18 |     CONTRACT_TEMPLATE, 
19 |     PLUGIN_TEMPLATE, 
   |                     ^ W291
20 |     TS_INTERFACE_TEMPLATE,
21 |     TYPE_MAP
   |
   = help: Remove trailing whitespace

skills\ppf_create_plugin\executor.py:23:1: E402 Module level import not at top of file
   |
21 |     TYPE_MAP
22 | )
23 | from heavy_libs import detect_heavy_libraries
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
24 |
25 | # Configure Logging
   |

skills\ppf_create_plugin\executor.py:45:1: W293 Blank line contains whitespace
   |
43 |     """
44 |     Main entry point. Generates all files for the component.
45 |     
   | ^^^^ W293
46 |     Args:
47 |         data (dict): {
   |
   = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:71:1: W293 [*] Blank line contains whitespace
   |
69 |             ", ".join(heavy_libs),
70 |         )
71 |     
   | ^^^^ W293
72 |     # 1. Define Paths
73 |     # Assuming script runs from project root or we use relative paths
   |
   = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:75:28: W291 [*] Trailing whitespace
   |
73 |     # Assuming script runs from project root or we use relative paths
74 |     # Adjust base_path if needed
75 |     base_path = os.getcwd() 
   |                            ^ W291
76 |     plugin_dir = os.path.join(base_path, "plugins", f"{name}_plugin")
77 |     contracts_dir = os.path.join(base_path, "contracts")
   |
   = help: Remove trailing whitespace

skills\ppf_create_plugin\executor.py:91:60: W291 [*] Trailing whitespace
   |
90 |     # 3. Generate Contract (contracts/{domain}.py)
91 |     # Note: This might overwrite existing domain contracts. 
   |                                                            ^ W291
92 |     # In a real scenario, we might want to append or merge.
93 |     contract_content = _build_contract(data, class_name, contract_class)
   |
   = help: Remove trailing whitespace

skills\ppf_create_plugin\executor.py:128:25: F541 [*] f-string without any placeholders
    |
126 |         inputs = m.get('inputs', {}) or {}
127 |         outputs = m.get('outputs', {}) or {}
128 |         methods_yaml += f"      inputs:\n"
    |                         ^^^^^^^^^^^^^^^^^^ F541
129 |         if inputs:
130 |             for field, typ in inputs.items():
    |
    = help: Remove extraneous `f` prefix

skills\ppf_create_plugin\executor.py:134:25: F541 [*] f-string without any placeholders
    |
132 |         else:
133 |             methods_yaml += "        {}\n"
134 |         methods_yaml += f"      outputs:\n"
    |                         ^^^^^^^^^^^^^^^^^^^ F541
135 |         if outputs:
136 |             for field, typ in outputs.items():
    |
    = help: Remove extraneous `f` prefix

skills\ppf_create_plugin\executor.py:140:1: W293 [*] Blank line contains whitespace
    |
138 |         else:
139 |             methods_yaml += "        {}\n"
140 |     
    | ^^^^ W293
141 |     # Format dependencies
142 |     py_deps = ""
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:145:1: W293 [*] Blank line contains whitespace
    |
143 |     for d in data.get('dependencies', {}).get('python', []):
144 |         py_deps += f"    - name: \"{d['name']}\"\n      version: \"{d.get('version', '')}\"\n"
145 |     
    | ^^^^ W293
146 |     npm_deps = ""
147 |     for d in data.get('dependencies', {}).get('npm', []):
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:149:1: W293 [*] Blank line contains whitespace
    |
147 |     for d in data.get('dependencies', {}).get('npm', []):
148 |         npm_deps += f"    - name: \"{d['name']}\"\n      version: \"{d.get('version', '')}\"\n"
149 |         
    | ^^^^^^^^ W293
150 |     sys_deps = ""
151 |     for d in data.get('dependencies', {}).get('system', []):
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:169:1: W293 [*] Blank line contains whitespace
    |
167 |     models = ""
168 |     abstract_methods = ""
169 |     
    | ^^^^ W293
170 |     for m in data['methods']:
171 |         method_pascal = to_pascal_case(m['name'])
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:172:1: W293 [*] Blank line contains whitespace
    |
170 |     for m in data['methods']:
171 |         method_pascal = to_pascal_case(m['name'])
172 |         
    | ^^^^^^^^ W293
173 |         # Request Model
174 |         models += f"class {method_pascal}Request(BaseModel):\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:181:1: W293 [*] Blank line contains whitespace
    |
179 |                 models += f"    {k}: {v}\n"
180 |             models += "\n"
181 |             
    | ^^^^^^^^^^^^ W293
182 |         # Response Model
183 |         models += f"class {method_pascal}Response(BaseModel):\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:192:29: F541 [*] f-string without any placeholders
    |
191 |         # Abstract Method
192 |         abstract_methods += f"    @abstractmethod\n"
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^ F541
193 |         abstract_methods += f"    async def {m['name']}(self, request: {method_pascal}Request) -> {method_pascal}Response:\n"
194 |         abstract_methods += f"        pass\n\n"
    |
    = help: Remove extraneous `f` prefix

skills\ppf_create_plugin\executor.py:194:29: F541 [*] f-string without any placeholders
    |
192 |         abstract_methods += f"    @abstractmethod\n"
193 |         abstract_methods += f"    async def {m['name']}(self, request: {method_pascal}Request) -> {method_pascal}Response:\n"
194 |         abstract_methods += f"        pass\n\n"
    |                             ^^^^^^^^^^^^^^^^^^^ F541
195 |
196 |     return CONTRACT_TEMPLATE.format(
    |
    = help: Remove extraneous `f` prefix

skills\ppf_create_plugin\executor.py:212:1: W293 [*] Blank line contains whitespace
    |
210 |     import_models = []
211 |     method_impls = ""
212 |     
    | ^^^^ W293
213 |     for m in data['methods']:
214 |         method_pascal = to_pascal_case(m['name'])
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:218:1: W293 [*] Blank line contains whitespace
    |
216 |         res_cls = f"{method_pascal}Response"
217 |         import_models.extend([req_cls, res_cls])
218 |         
    | ^^^^^^^^ W293
219 |         method_impls += f"    async def {m['name']}(self, request: {req_cls}) -> {res_cls}:\n"
220 |         method_impls += f"        logger.info(f'Executing {m['name']}')\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:238:1: W293 [*] Blank line contains whitespace
    |
236 |     interfaces = ""
237 |     signatures = ""
238 |     
    | ^^^^ W293
239 |     for m in data['methods']:
240 |         method_pascal = to_pascal_case(m['name'])
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:241:1: W293 [*] Blank line contains whitespace
    |
239 |     for m in data['methods']:
240 |         method_pascal = to_pascal_case(m['name'])
241 |         
    | ^^^^^^^^ W293
242 |         # Request Interface
243 |         interfaces += f"export interface {method_pascal}Request {{\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:247:1: W293 [*] Blank line contains whitespace
    |
245 |             interfaces += f"  {k}: {map_type_to_ts(v)};\n"
246 |         interfaces += "}\n\n"
247 |         
    | ^^^^^^^^ W293
248 |         # Response Interface
249 |         interfaces += f"export interface {method_pascal}Response {{\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\executor.py:253:1: W293 [*] Blank line contains whitespace
    |
251 |             interfaces += f"  {k}: {map_type_to_ts(v)};\n"
252 |         interfaces += "}\n\n"
253 |         
    | ^^^^^^^^ W293
254 |         # API Signature
255 |         signatures += f"  {m['name']}(req: {method_pascal}Request): Promise<{method_pascal}Response>;\n"
    |
    = help: Remove whitespace from blank line

skills\ppf_create_plugin\heavy_libs.py:11:1: UP035 [*] Import from `collections.abc` instead: `Iterable`, `Mapping`
   |
 9 | from __future__ import annotations
10 |
11 | from typing import Any, Iterable, List, Mapping, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
12 |
13 | # Conservative catalog of heavy / conflict-prone libraries.
   |
   = help: Import from `collections.abc`

skills\ppf_create_plugin\heavy_libs.py:11:1: UP035 `typing.List` is deprecated, use `list` instead
   |
 9 | from __future__ import annotations
10 |
11 | from typing import Any, Iterable, List, Mapping, Union
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
12 |
13 | # Conservative catalog of heavy / conflict-prone libraries.
   |

skills\ppf_create_plugin\heavy_libs.py:33:35: UP007 [*] Use `X | Y` for type annotations
   |
32 | def detect_heavy_libraries(
33 |     python_dependencies: Iterable[Union[str, Mapping[str, Any]]]
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP007
34 | ) -> List[str]:
35 |     """
   |
   = help: Convert to `X | Y`

skills\ppf_create_plugin\heavy_libs.py:34:6: UP006 [*] Use `list` instead of `List` for type annotation
   |
32 | def detect_heavy_libraries(
33 |     python_dependencies: Iterable[Union[str, Mapping[str, Any]]]
34 | ) -> List[str]:
   |      ^^^^ UP006
35 |     """
36 |     Given a list of python dependency entries, return a sorted list of
   |
   = help: Replace with `list`

skills\ppf_create_plugin\heavy_libs.py:43:12: UP006 [*] Use `list` instead of `List` for type annotation
   |
41 |       - a mapping with a 'name' key.
42 |     """
43 |     heavy: List[str] = []
   |            ^^^^ UP006
44 |
45 |     for entry in python_dependencies:
   |
   = help: Replace with `list`

skills\ppf_create_plugin\heavy_libs.py:59:13: UP006 [*] Use `list` instead of `List` for type annotation
   |
57 |     # Deduplicate while preserving case-insensitive order.
58 |     seen = set()
59 |     result: List[str] = []
   |             ^^^^ UP006
60 |     for name in sorted(heavy, key=lambda n: n.lower()):
61 |         key = name.lower()
   |
   = help: Replace with `list`

skills\ppf_create_plugin\types_sync.py:15:1: I001 [*] Import block is un-sorted or un-formatted
   |
13 |   """
14 |
15 | / import sys
16 | | import os
17 | | import logging
18 | | from typing import Dict, Any, List
   | |__________________________________^ I001
19 |
20 |   # Ensure we can import config from this directory
   |
   = help: Organize imports

skills\ppf_create_plugin\types_sync.py:18:1: UP035 `typing.Dict` is deprecated, use `dict` instead
   |
16 | import os
17 | import logging
18 | from typing import Dict, Any, List
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
19 |
20 | # Ensure we can import config from this directory
   |

skills\ppf_create_plugin\types_sync.py:18:1: UP035 `typing.List` is deprecated, use `list` instead
   |
16 | import os
17 | import logging
18 | from typing import Dict, Any, List
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP035
19 |
20 | # Ensure we can import config from this directory
   |

skills\ppf_create_plugin\types_sync.py:34:1: E402 Module level import not at top of file
   |
32 |     sys.exit(1)
33 |
34 | from config import TS_INTERFACE_TEMPLATE, TYPE_MAP  # type: ignore
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
35 |
36 | logging.basicConfig(level=logging.INFO, format="%(levelname)s: %(message)s")
   |

skills\ppf_create_plugin\types_sync.py:48:40: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
48 | def load_manifest(plugin_name: str) -> Dict[str, Any]:
   |                                        ^^^^ UP006
49 |     """
50 |     Load component.yaml for a given plugin.
   |
   = help: Replace with `dict`

skills\ppf_create_plugin\types_sync.py:62:10: UP015 [*] Unnecessary open mode parameters
   |
60 |         raise FileNotFoundError(f"Manifest not found for plugin '{plugin_name}' at {manifest_path}")
61 |
62 |     with open(manifest_path, "r", encoding="utf-8") as f:
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
63 |         return yaml.safe_load(f) or {}
   |
   = help: Remove open mode parameters

skills\ppf_create_plugin\types_sync.py:66:38: UP006 [*] Use `dict` instead of `Dict` for type annotation
   |
66 | def build_ts_from_manifest(manifest: Dict[str, Any]) -> str:
   |                                      ^^^^ UP006
67 |     """
68 |     Render TS interfaces from the manifest's contract metadata.
   |
   = help: Replace with `dict`

skills\ppf_create_plugin\types_sync.py:80:23: UP006 [*] Use `list` instead of `List` for type annotation
   |
78 |         raise ValueError("Manifest contract domain is missing.")
79 |
80 |     interfaces_parts: List[str] = []
   |                       ^^^^ UP006
81 |     api_signatures: List[str] = []
   |
   = help: Replace with `list`

skills\ppf_create_plugin\types_sync.py:81:21: UP006 [*] Use `list` instead of `List` for type annotation
   |
80 |     interfaces_parts: List[str] = []
81 |     api_signatures: List[str] = []
   |                     ^^^^ UP006
82 |
83 |     for m in methods:
   |
   = help: Replace with `list`

skills\ppf_create_plugin\types_sync.py:138:14: UP015 [*] Unnecessary open mode parameters
    |
136 |     if check_only and os.path.exists(ts_path):
137 |         existing = ""
138 |         with open(ts_path, "r", encoding="utf-8") as f:
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
139 |             existing = f.read()
    |
    = help: Remove open mode parameters

skills\ppf_create_plugin\types_sync.py:156:16: UP006 [*] Use `list` instead of `List` for type annotation
    |
156 | def main(argv: List[str]) -> int:  # type: ignore[name-defined]
    |                ^^^^ UP006
157 |     if len(argv) < 1:
158 |         print("Usage: types_sync.py <plugin_name> [--check]")
    |
    = help: Replace with `list`

skills\ppf_manage_dependencies\config.py:9:1: UP035 `typing.List` is deprecated, use `list` instead
  |
7 | import os
8 | import shlex
9 | from typing import List
  | ^^^^^^^^^^^^^^^^^^^^^^^ UP035
  |

skills\ppf_manage_dependencies\config.py:12:31: UP006 [*] Use `list` instead of `List` for type annotation
   |
12 | def _split_cmd(value: str) -> List[str]:
   |                               ^^^^ UP006
13 |     """Split an override command string into argv safely."""
14 |     try:
   |
   = help: Replace with `list`

skills\ppf_manage_dependencies\config.py:27:1: W293 [*] Blank line contains whitespace
   |
25 |     # Command to install Python packages
26 |     'pip_install_cmd': ['pip', 'install'],
27 |     
   | ^^^^ W293
28 |     # Command to list installed Python packages (for auditing)
29 |     'pip_check_cmd': ['pip', 'freeze'],
   |
   = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\config.py:38:57: W291 [*] Trailing whitespace
   |
36 |     # Node.js / NPM Configuration
37 |     # -------------------------------------------------------------------------
38 |     # On Windows, npm is usually a batch file (npm.cmd). 
   |                                                         ^ W291
39 |     # Using just 'npm' in subprocess often fails.
40 |     'npm_install_cmd': ['npm.cmd', 'install'],
   |
   = help: Remove trailing whitespace

skills\ppf_manage_dependencies\config.py:41:1: W293 [*] Blank line contains whitespace
   |
39 |     # Using just 'npm' in subprocess often fails.
40 |     'npm_install_cmd': ['npm.cmd', 'install'],
41 |     
   | ^^^^ W293
42 |     # Command to list installed NPM packages (depth=0 for top-level only)
43 |     'npm_check_cmd': ['npm.cmd', 'list', '--depth=0', '--json'],
   |
   = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\config.py:50:1: W293 [*] Blank line contains whitespace
   |
48 |     # The Windows equivalent of 'which'. Returns exit code 0 if found.
49 |     'system_check_cmd': 'where',
50 |     
   | ^^^^ W293
51 |     # Timeout for checks (in seconds) to prevent hanging
52 |     'command_timeout': 30
   |
   = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:7:1: I001 [*] Import block is un-sorted or un-formatted
   |
 5 |   """
 6 |
 7 | / import sys
 8 | | import os
 9 | | import subprocess
10 | | import json
11 | | import logging
12 | |
13 | | from env_preflight import run_preflight_env_check
14 | | from env_detection import detect_windows_native_environment
   | |___________________________________________________________^ I001
15 |
16 |   # Add current directory to sys.path to ensure config can be imported
   |
   = help: Organize imports

skills\ppf_manage_dependencies\executor.py:27:1: E402 Module level import not at top of file
   |
25 |     sys.exit(1)
26 |
27 | from config import DEPENDENCY_CONFIG
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
28 | from manifest_schema import validate_manifest, ManifestValidationError
   |

skills\ppf_manage_dependencies\executor.py:27:1: I001 [*] Import block is un-sorted or un-formatted
   |
25 |       sys.exit(1)
26 |
27 | / from config import DEPENDENCY_CONFIG
28 | | from manifest_schema import validate_manifest, ManifestValidationError
   | |______________________________________________________________________^ I001
29 |
30 |   # Configure Logging
   |
   = help: Organize imports

skills\ppf_manage_dependencies\executor.py:28:1: E402 Module level import not at top of file
   |
27 | from config import DEPENDENCY_CONFIG
28 | from manifest_schema import validate_manifest, ManifestValidationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
29 |
30 | # Configure Logging
   |

skills\ppf_manage_dependencies\executor.py:28:48: F401 [*] `manifest_schema.ManifestValidationError` imported but unused
   |
27 | from config import DEPENDENCY_CONFIG
28 | from manifest_schema import validate_manifest, ManifestValidationError
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^ F401
29 |
30 | # Configure Logging
   |
   = help: Remove unused import: `manifest_schema.ManifestValidationError`

skills\ppf_manage_dependencies\executor.py:79:28: W291 [*] Trailing whitespace
   |
77 |     if major != 3 or minor != 11:
78 |         return {
79 |             "valid": False, 
   |                            ^ W291
80 |             "error": f"STRICT REQUIREMENT: Python 3.11 is required. You are running {major}.{minor}."
81 |         }
   |
   = help: Remove trailing whitespace

skills\ppf_manage_dependencies\executor.py:88:28: W291 [*] Trailing whitespace
   |
86 |     if not is_venv:
87 |         return {
88 |             "valid": False, 
   |                            ^ W291
89 |             "error": "STRICT REQUIREMENT: You must be inside a 'venv' virtual environment. Please run 'python -m venv venv' and activa
90 |         }
   |
   = help: Remove trailing whitespace

skills\ppf_manage_dependencies\executor.py:100:1: W293 [*] Blank line contains whitespace
    |
 98 |         logger.error(f"Manifest not found at: {manifest_path}")
 99 |         return None
100 |     
    | ^^^^ W293
101 |     try:
102 |         with open(manifest_path, 'r') as f:
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:102:14: UP015 [*] Unnecessary open mode parameters
    |
101 |     try:
102 |         with open(manifest_path, 'r') as f:
    |              ^^^^^^^^^^^^^^^^^^^^^^^^ UP015
103 |             raw = yaml.safe_load(f)
104 |         result = validate_manifest(raw, source=manifest_path)
    |
    = help: Remove open mode parameters

skills\ppf_manage_dependencies\executor.py:207:14: UP015 [*] Unnecessary open mode parameters
    |
206 |     try:
207 |         with open(req_path, "r", encoding="utf-8") as f:
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP015
208 |             for line in f:
209 |                 line = line.strip()
    |
    = help: Remove open mode parameters

skills\ppf_manage_dependencies\executor.py:311:16: C401 Unnecessary generator (rewrite as a set comprehension)
    |
309 |         data = json.loads(result)
310 |         dependencies = data.get('dependencies', {})
311 |         return set(name.lower() for name in dependencies.keys())
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ C401
312 |     except subprocess.CalledProcessError as e:
313 |         output = e.output or ""
    |
    = help: Rewrite as a set comprehension

skills\ppf_manage_dependencies\executor.py:442:1: W293 [*] Blank line contains whitespace
    |
440 |         version = req.get('version', '')
441 |         pkg_spec = f"{name}{version}"
442 |         
    | ^^^^^^^^ W293
443 |         logger.info(f"Installing Python package: {pkg_spec}")
444 |         cmd = DEPENDENCY_CONFIG['pip_install_cmd'] + [pkg_spec]
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:445:1: W293 [*] Blank line contains whitespace
    |
443 |         logger.info(f"Installing Python package: {pkg_spec}")
444 |         cmd = DEPENDENCY_CONFIG['pip_install_cmd'] + [pkg_spec]
445 |         
    | ^^^^^^^^ W293
446 |         try:
447 |             subprocess.check_call(cmd)
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:462:1: W293 [*] Blank line contains whitespace
    |
460 |             version = req.get('version', '')
461 |             pkg_spec = f"{name}@{version}" if version else name
462 |             
    | ^^^^^^^^^^^^ W293
463 |             logger.info(f"Installing NPM package: {pkg_spec}")
464 |             cmd = DEPENDENCY_CONFIG['npm_install_cmd'] + [pkg_spec]
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:465:1: W293 [*] Blank line contains whitespace
    |
463 |             logger.info(f"Installing NPM package: {pkg_spec}")
464 |             cmd = DEPENDENCY_CONFIG['npm_install_cmd'] + [pkg_spec]
465 |             
    | ^^^^^^^^^^^^ W293
466 |             try:
467 |                 subprocess.check_call(cmd, cwd=plugin_path, shell=True)
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:485:1: W293 [*] Blank line contains whitespace
    |
483 |     if errors:
484 |         return {'success': False, 'error': "; ".join(errors)}
485 |     
    | ^^^^ W293
486 |     return {'success': True, 'message': 'All installable dependencies processed.'}
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:492:1: W293 [*] Blank line contains whitespace
    |
490 |         print("Usage: python executor.py <path_to_plugin>")
491 |         sys.exit(1)
492 |     
    | ^^^^ W293
493 |     path = sys.argv[1]
494 |     print(f"Auditing: {path}")
    |
    = help: Remove whitespace from blank line

skills\ppf_manage_dependencies\executor.py:495:1: W293 [*] Blank line contains whitespace
    |
493 |     path = sys.argv[1]
494 |     print(f"Auditing: {path}")
495 |     
    | ^^^^ W293
496 |     audit = audit_dependencies(path)
497 |     if audit['success']:
    |
    = help: Remove whitespace from blank line

Found 2010 errors.
[*] 1535 fixable with the `--fix` option (397 hidden fixes can be enabled with the `--unsafe-fixes` option).
